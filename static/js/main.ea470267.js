/*! For license information please see main.ea470267.js.LICENSE.txt */
!function(){var e={5911:function(e,t,n){"use strict";n.d(t,{Z:function(){return re}});var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),r=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function v(e,t){return t.push(e),e}var p=1,g=1,m=0,y=0,C=0,w="";function S(e,t,n,i,r,o,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:p,column:g,length:a,return:""}}function k(e,t){return a(S("",null,null,"",null,null,0),e,{length:-e.length},t)}function b(){return C=y>0?c(w,--y):0,g--,10===C&&(g=1,p--),C}function R(){return C=y<m?c(w,y++):0,g++,10===C&&(g=1,p++),C}function E(){return c(w,y)}function F(){return y}function P(e,t){return d(w,e,t)}function D(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x(e){return p=g=1,m=h(w=e),y=0,[]}function M(e){return w="",e}function A(e){return s(P(y-1,I(91===e?e+2:40===e?e+1:e)))}function T(e){for(;(C=E())&&C<33;)R();return D(e)>2||D(C)>3?"":" "}function L(e,t){for(;--t&&R()&&!(C<48||C>102||C>57&&C<65||C>70&&C<97););return P(e,F()+(t<6&&32==E()&&32==R()))}function I(e){for(;R();)switch(C){case e:return y;case 34:case 39:34!==e&&39!==e&&I(C);break;case 40:41===e&&I(e);break;case 92:R()}return y}function O(e,t){for(;R()&&e+C!==57&&(e+C!==84||47!==E()););return"/*"+P(t,y-1)+"*"+o(47===e?e:R())}function N(e){for(;!D(E());)R();return P(e,y)}var G="-ms-",B="-moz-",H="-webkit-",V="comm",W="rule",z="decl",_="@keyframes";function U(e,t){for(var n="",i=f(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function j(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case z:return e.return=e.return||e.value;case V:return"";case _:return e.return=e.value+"{"+U(e.children,i)+"}";case W:e.value=e.props.join(",")}return h(n=U(e.children,i))?e.return=e.value+"{"+n+"}":""}function Z(e){return M(K("",null,null,null,[""],e=x(e),0,[0],e))}function K(e,t,n,i,r,a,s,d,f){for(var p=0,g=0,m=s,y=0,C=0,w=0,S=1,k=1,P=1,D=0,x="",M=r,I=a,G=i,B=x;k;)switch(w=D,D=R()){case 40:if(108!=w&&58==c(B,m-1)){-1!=u(B+=l(A(D),"&","&\f"),"&\f")&&(P=-1);break}case 34:case 39:case 91:B+=A(D);break;case 9:case 10:case 13:case 32:B+=T(w);break;case 92:B+=L(F()-1,7);continue;case 47:switch(E()){case 42:case 47:v(Q(O(R(),F()),t,n),f);break;default:B+="/"}break;case 123*S:d[p++]=h(B)*P;case 125*S:case 59:case 0:switch(D){case 0:case 125:k=0;case 59+g:-1==P&&(B=l(B,/\f/g,"")),C>0&&h(B)-m&&v(C>32?Y(B+";",i,n,m-1):Y(l(B," ","")+";",i,n,m-2),f);break;case 59:B+=";";default:if(v(G=q(B,t,n,p,g,r,d,x,M=[],I=[],m),a),123===D)if(0===g)K(B,t,G,G,M,a,m,d,I);else switch(99===y&&110===c(B,3)?100:y){case 100:case 108:case 109:case 115:K(e,G,G,i&&v(q(e,G,G,0,0,r,d,x,r,M=[],m),I),r,I,m,d,i?M:I);break;default:K(B,G,G,G,[""],I,0,d,I)}}p=g=C=0,S=P=1,x=B="",m=s;break;case 58:m=1+h(B),C=w;default:if(S<1)if(123==D)--S;else if(125==D&&0==S++&&125==b())continue;switch(B+=o(D),D*S){case 38:P=g>0?1:(B+="\f",-1);break;case 44:d[p++]=(h(B)-1)*P,P=1;break;case 64:45===E()&&(B+=A(R())),y=E(),g=m=h(x=B+=N(F())),D++;break;case 45:45===w&&2==h(B)&&(S=0)}}return a}function q(e,t,n,i,o,a,u,c,h,v,p){for(var g=o-1,m=0===o?a:[""],y=f(m),C=0,w=0,k=0;C<i;++C)for(var b=0,R=d(e,g+1,g=r(w=u[C])),E=e;b<y;++b)(E=s(w>0?m[b]+" "+R:l(R,/&\f/g,m[b])))&&(h[k++]=E);return S(e,t,n,0===o?W:c,h,v,p)}function Q(e,t,n){return S(e,t,n,V,o(C),d(e,2,-2),0)}function Y(e,t,n,i){return S(e,t,n,z,d(e,0,i),d(e,i+1,-1),i)}var X=function(e,t,n){for(var i=0,r=0;i=r,r=E(),38===i&&12===r&&(t[n]=1),!D(r);)R();return P(e,y)},J=function(e,t){return M(function(e,t){var n=-1,i=44;do{switch(D(i)){case 0:38===i&&12===E()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=A(i);break;case 4:if(44===i){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(i)}}while(i=R());return e}(x(e),t))},$=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$.get(n))&&!i){$.set(e,!0);for(var r=[],o=J(t,r),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=r[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return H+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return H+e+B+e+G+e+e;case 6828:case 4268:return H+e+G+e+e;case 6165:return H+e+G+"flex-"+e+e;case 5187:return H+e+l(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return H+e+G+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return H+e+G+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return H+e+G+l(e,"shrink","negative")+e;case 5292:return H+e+G+l(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+l(e,"-grow","")+H+e+G+l(e,"grow","positive")+e;case 4554:return H+l(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+H+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,h(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":-webkit-")+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===c(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return H+e+G+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return H+e+G+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return H+e+G+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return H+e+G+e+e}return e}var ie=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case _:return U([k(e,{value:l(e.value,"@","@-webkit-")})],i);case W:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([k(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return U([k(e,{props:[l(t,/:(plac\w+)/,":-webkit-input-$1")]}),k(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),k(e,{props:[l(t,/:(plac\w+)/,"-ms-input-$1")]})],i)}return""}))}}],re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,a=e.stylisPlugins||ie,s={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,d=[j,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=f(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}([ee,te].concat(a,d));o=function(e,t,n,i){u=n,U(Z(e?e+"{"+t.styles+"}":t.styles),h),i&&(v.inserted[t.name]=!0)};var v={key:t,sheet:new i({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return v.sheet.hydrate(l),v}},9797:function(e,t,n){"use strict";function i(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:function(){return i}})},5218:function(e,t,n){"use strict";n.d(t,{C:function(){return a},T:function(){return l},w:function(){return s}});var i=n(2791),r=n(5911),o=(n(6942),n(2561),i.createContext("undefined"!==typeof HTMLElement?(0,r.Z)({key:"css"}):null)),a=o.Provider,s=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(o);return e(t,r,n)}))},l=i.createContext({})},2554:function(e,t,n){"use strict";n.d(t,{F4:function(){return c},iv:function(){return u},xB:function(){return l}});var i=n(5218),r=n(2791),o=n(5438),a=n(2561),s=n(6942),l=(n(5911),n(2110),(0,i.w)((function(e,t){var n=e.styles,l=(0,s.O)([n],void 0,r.useContext(i.T)),u=r.useRef();return(0,a.j)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,r=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==r&&(i=!0,r.setAttribute("data-emotion",e),n.hydrate([r])),u.current=[n,i],function(){n.flush()}}),[t]),(0,a.j)((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.My)(t,l.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.O)(t)}var c=function(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},6942:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r=n(9797),o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},u=(0,r.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),c=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return h={name:r.name,styles:r.styles,next:h},r.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)h={name:a.name,styles:a.styles,next:h},a=a.next;return o.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=d(e,t,n[r])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var s=a;null!=t&&void 0!==t[s]?i+=o+"{"+t[s]+"}":l(s)&&(i+=u(o)+":"+c(o,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var h=d(e,t,a);switch(o){case"animation":case"animationName":i+=u(o)+":"+h+";";break;default:i+=o+"{"+h+"}"}}else for(var f=0;f<a.length;f++)l(a[f])&&(i+=u(o)+":"+c(o,a[f])+";")}return i}(e,t,n);case"function":if(void 0!==e){var s=h,f=n(e);return h=s,d(e,t,f)}}var v=n;if(null==t)return v;var p=t[v];return void 0!==p?p:v}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function v(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";h=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=d(n,t,o)):r+=o[0];for(var a=1;a<e.length;a++){if(r+=d(n,t,e[a]),i)r+=o[a]}f.lastIndex=0;for(var s,l="";null!==(s=f.exec(r));)l+="-"+s[1];var u=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:u,styles:r,next:h}}},2561:function(e,t,n){"use strict";var i;n.d(t,{L:function(){return a},j:function(){return s}});var r=n(2791),o=!!(i||(i=n.t(r,2))).useInsertionEffect&&(i||(i=n.t(r,2))).useInsertionEffect,a=o||function(e){return e()},s=o||r.useLayoutEffect},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return o},fp:function(){return i},hC:function(){return r}});function i(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}var r=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},o=function(e,t,n){r(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},6532:function(e,t){"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case p:case v:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference")},8457:function(e,t,n){"use strict";n(6532)},4778:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalStyles:function(){return b},StyledEngineProvider:function(){return k},ThemeContext:function(){return l.T},css:function(){return C.iv},default:function(){return R},internal_processStyles:function(){return E},keyframes:function(){return C.F4}});var i=n(7462),r=n(2791),o=n(9797),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,o.Z)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(5218),u=n(5438),c=n(6942),d=n(2561),h=s,f=function(e){return"theme"!==e},v=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},p=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},g=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return(0,u.hC)(t,n,i),(0,d.L)((function(){return(0,u.My)(t,n,i)})),null},m=function e(t,n){var o,a,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(o=n.label,a=n.target);var h=p(t,n,s),f=h||v(d),m=!f("as");return function(){var y=arguments,C=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&C.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)C.push.apply(C,y);else{C.push(y[0][0]);for(var w=y.length,S=1;S<w;S++)C.push(y[S],y[0][S])}var k=(0,l.w)((function(e,t,n){var i=m&&e.as||d,o="",s=[],p=e;if(null==e.theme){for(var y in p={},e)p[y]=e[y];p.theme=r.useContext(l.T)}"string"===typeof e.className?o=(0,u.fp)(t.registered,s,e.className):null!=e.className&&(o=e.className+" ");var w=(0,c.O)(C.concat(s),t.registered,p);o+=t.key+"-"+w.name,void 0!==a&&(o+=" "+a);var S=m&&void 0===h?v(i):f,k={};for(var b in e)m&&"as"===b||S(b)&&(k[b]=e[b]);return k.className=o,n&&(k.ref=n),r.createElement(r.Fragment,null,r.createElement(g,{cache:t,serialized:w,isStringTag:"string"===typeof i}),r.createElement(i,k))}));return k.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=d,k.__emotion_styles=C,k.__emotion_forwardProp=h,Object.defineProperty(k,"toString",{value:function(){return"."+a}}),k.withComponent=function(t,r){return e(t,(0,i.Z)({},n,r,{shouldForwardProp:p(k,r,!0)})).apply(void 0,C)},k}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){m[e]=m(e)}));var y,C=n(2554),w=n(5911),S=n(184);function k(e){var t=e.injectFirst,n=e.children;return t&&y?(0,S.jsx)(l.C,{value:y,children:n}):n}function b(e){var t=e.styles,n=e.defaultTheme,i=void 0===n?{}:n,r="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?i:e);var n}:t;return(0,S.jsx)(C.xB,{styles:r})}function R(e,t){return m(e,t)}"object"===typeof document&&(y=(0,w.Z)({key:"css",prepend:!0}));var E=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},4131:function(e,t,n){"use strict";var i=n(4836);t.Fq=f,t._j=v,t.mi=function(e,t){var n=h(e),i=h(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.$n=p;var r=i(n(6955)),o=i(n(2956));function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function s(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.default)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.default)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}var u=function(e){var t=l(e);return t.values.slice(0,3).map((function(e,n){return-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e})).join(" ")};function c(e){var t=e.type,n=e.colorSpace,i=e.values;return-1!==t.indexOf("rgb")?i=i.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==t.indexOf("color")?"".concat(n," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(t,"(").concat(i,")")}function d(e){var t=(e=l(e)).values,n=t[0],i=t[1]/100,r=t[2]/100,o=i*Math.min(r,1-r),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),c({type:s,values:u})}function h(e){var t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=l(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,c(e)}function v(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function p(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return c(e)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?v(e,t):p(e,t)}},7012:function(e,t,n){"use strict";var i=n(861).default,r=n(7424).default,o=n(4836);t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,o=void 0===n?y:n,c=e.rootShouldForwardProp,h=void 0===c?m:c,f=e.slotShouldForwardProp,p=void 0===f?m:f,b=function(e){return(0,d.default)((0,a.default)({},e,{theme:w((0,a.default)({},e,{defaultTheme:o,themeId:t}))}))};return b.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l.internal_processStyles)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var c,d=n.name,f=n.slot,y=n.skipVariantsResolver,R=n.skipSx,E=n.overridesResolver,F=void 0===E?S(C(f)):E,P=(0,s.default)(n,v),D=void 0!==y?y:f&&"Root"!==f&&"root"!==f||!1,x=R||!1;var M=m;"Root"===f||"root"===f?M=h:f?M=p:g(e)&&(M=void 0);var A=(0,l.default)(e,(0,a.default)({shouldForwardProp:M,label:c},P)),T=function(e){return"function"===typeof e&&e.__emotion_real!==e||(0,u.isPlainObject)(e)?function(n){return k(e,(0,a.default)({},n,{theme:w({theme:n.theme,defaultTheme:o,themeId:t})}))}:e},L=function(n){for(var s=T(n),l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var h=u?u.map(T):[];d&&F&&h.push((function(e){var n=w((0,a.default)({},e,{defaultTheme:o,themeId:t}));if(!n.components||!n.components[d]||!n.components[d].styleOverrides)return null;var i=n.components[d].styleOverrides,s={};return Object.entries(i).forEach((function(t){var i=r(t,2),o=i[0],l=i[1];s[o]=k(l,(0,a.default)({},e,{theme:n}))})),F(e,s)})),d&&!D&&h.push((function(e){var n,i=w((0,a.default)({},e,{defaultTheme:o,themeId:t}));return k({variants:null==i||null==(n=i.components)||null==(n=n[d])?void 0:n.variants},(0,a.default)({},e,{theme:i}))})),x||h.push(b);var f=h.length-u.length;if(Array.isArray(n)&&f>0){var v=new Array(f).fill("");(s=[].concat(i(n),i(v))).raw=[].concat(i(n.raw),i(v))}var p=A.apply(void 0,[s].concat(i(h)));return e.muiName&&(p.muiName=e.muiName),p};return A.withConfig&&(L.withConfig=A.withConfig),L}};var a=o(n(434)),s=o(n(7071)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(4778)),u=n(1037),c=(o(n(4884)),o(n(1627)),o(n(4652))),d=o(n(7150)),h=["ownerState"],f=["variants"],v=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e){return"string"===typeof e&&e.charCodeAt(0)>96}function m(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var y=(0,c.default)(),C=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e};function w(e){var t,n=e.defaultTheme,i=e.theme,r=e.themeId;return t=i,0===Object.keys(t).length?n:i[r]||i}function S(e){return e?function(t,n){return n[e]}:null}function k(e,t){var n=t.ownerState,i=(0,s.default)(t,h),r="function"===typeof e?e((0,a.default)({ownerState:n},i)):e;if(Array.isArray(r))return r.flatMap((function(e){return k(e,(0,a.default)({ownerState:n},i))}));if(r&&"object"===typeof r&&Array.isArray(r.variants)){var o=r.variants,l=void 0===o?[]:o,u=(0,s.default)(r,f);return l.forEach((function(e){var t=!0;"function"===typeof e.props?t=e.props((0,a.default)({ownerState:n},i,n)):Object.keys(e.props).forEach((function(r){(null==n?void 0:n[r])!==e.props[r]&&i[r]!==e.props[r]&&(t=!1)})),t&&(Array.isArray(u)||(u=[u]),u.push("function"===typeof e.style?e.style((0,a.default)({ownerState:n},i,n)):e.style))})),u}return r}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return s},VO:function(){return i},W8:function(){return a},k9:function(){return o}});var i={xs:0,sm:600,md:900,lg:1200,xl:1536},r={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){var o=e.theme||{};if(Array.isArray(t)){var a=o.breakpoints||r;return t.reduce((function(e,i,r){return e[a.up(a.keys[r])]=n(t[r]),e}),{})}if("object"===typeof t){var s=o.breakpoints||r;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(s.values||i).indexOf(r)){e[s.up(r)]=n(t[r],r)}else{var o=r;e[o]=t[o]}return e}),{})}return n(t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},8759:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(4942);function r(e,t){var n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){var r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return(0,i.Z)({},r,t)}return n.palette.mode===e?t:{}}},9572:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(4942),r=n(3366),o=n(7462),a=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,s=e.unit,l=void 0===s?"px":s,u=e.step,c=void 0===u?5:u,d=(0,r.Z)(e,a),h=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,o.Z)({},e,(0,i.Z)({},t.key,t.val))}),{})}(n),f=Object.keys(h);function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(l,")")}function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(l,")")}function g(e,t){var i=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(l,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof n[f[i]]?n[f[i]]:t)-c/100).concat(l,")")}return(0,o.Z)({keys:f,values:h,up:v,down:p,between:g,only:function(e){return f.indexOf(e)+1<f.length?g(e,f[f.indexOf(e)+1]):v(e)},not:function(e){var t=f.indexOf(e);return 0===t?v(f[1]):t===f.length-1?p(f[t]):g(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:l},d)}},8809:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(7462),r=n(3366),o=n(7093),a=n(9572),s={borderRadius:4},l=n(5682);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=0===n.length?[1]:n;return r.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var c=n(104),d=n(7416),h=n(8759),f=["breakpoints","palette","spacing","shape"];var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,l=e.palette,v=void 0===l?{}:l,p=e.spacing,g=e.shape,m=void 0===g?{}:g,y=(0,r.Z)(e,f),C=(0,a.Z)(n),w=u(p),S=(0,o.Z)({breakpoints:C,direction:"ltr",components:{},palette:(0,i.Z)({mode:"light"},v),spacing:w,shape:(0,i.Z)({},s,m)},y);S.applyStyles=h.Z;for(var k=arguments.length,b=new Array(k>1?k-1:0),R=1;R<k;R++)b[R-1]=arguments[R];return(S=b.reduce((function(e,t){return(0,o.Z)(e,t)}),S)).unstable_sxConfig=(0,i.Z)({},d.Z,null==y?void 0:y.unstable_sxConfig),S.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},S}},4652:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z},private_createBreakpoints:function(){return r.Z},unstable_applyStyles:function(){return o.Z}});var i=n(8809),r=n(9572),o=n(8759)},8247:function(e,t,n){"use strict";var i=n(7093);t.Z=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return p},eI:function(){return v},NA:function(){return g},e6:function(){return C},o3:function(){return w}});var i=n(9439),r=n(1184),o=n(8529),a=n(8247);var s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=s[r],c=l[o]||"";return Array.isArray(c)?c.map((function(e){return a+e})):[a+c]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[].concat(d,h);function v(e,t,n,i){var r,a=null!=(r=(0,o.DW)(e,t,!1))?r:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function p(e){return v(e,"spacing",8)}function g(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,i){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,i){return e[i]=g(t,n),e}),{})}}(c(n),i),a=e[n];return(0,r.k9)(e,a,o)}function y(e,t){var n=p(e.theme);return Object.keys(e).map((function(i){return m(e,t,i,n)})).reduce(a.Z,{})}function C(e){return y(e,d)}function w(e){return y(e,h)}function S(e){return y(e,f)}C.propTypes={},C.filterProps=d,w.propTypes={},w.filterProps=h,S.propTypes={},S.filterProps=f},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return a},Jq:function(){return s}});var i=n(4942),r=n(1122),o=n(1184);function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var i="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=i)return i}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:a(e,n)||r,t&&(i=t(i,r,e)),i}t.ZP=function(e){var t=e.prop,n=e.cssProperty,l=void 0===n?e.prop:n,u=e.themeKey,c=e.transform,d=function(e){if(null==e[t])return null;var n=e[t],d=a(e.theme,u)||{};return(0,o.k9)(e,n,(function(e){var n=s(d,c,e);return e===n&&"string"===typeof e&&(n=s(d,c,"".concat(t).concat("default"===e?"":(0,r.Z)(e)),e)),!1===l?n:(0,i.Z)({},l,n)}))};return d.propTypes={},d.filterProps=[t],d}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var i=n(5682),r=n(8529),o=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),r=function(e){return Object.keys(e).reduce((function(t,n){return i[n]?(0,o.Z)(t,i[n](e)):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},s=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function u(e,t){return(0,r.ZP)({prop:e,themeKey:"borders",transform:t})}var c=u("border",l),d=u("borderTop",l),h=u("borderRight",l),f=u("borderBottom",l),v=u("borderLeft",l),p=u("borderColor"),g=u("borderTopColor"),m=u("borderRightColor"),y=u("borderBottomColor"),C=u("borderLeftColor"),w=u("outline",l),S=u("outlineColor"),k=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,i.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,i.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["borderRadius"];a(c,d,h,f,v,p,g,m,y,C,k,w,S);var b=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,i.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,i.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["gap"];var R=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,i.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,i.NA)(t,e)}}))}return null};R.propTypes={},R.filterProps=["columnGap"];var E=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,i.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,i.NA)(t,e)}}))}return null};E.propTypes={},E.filterProps=["rowGap"];a(b,R,E,(0,r.ZP)({prop:"gridColumn"}),(0,r.ZP)({prop:"gridRow"}),(0,r.ZP)({prop:"gridAutoFlow"}),(0,r.ZP)({prop:"gridAutoColumns"}),(0,r.ZP)({prop:"gridAutoRows"}),(0,r.ZP)({prop:"gridTemplateColumns"}),(0,r.ZP)({prop:"gridTemplateRows"}),(0,r.ZP)({prop:"gridTemplateAreas"}),(0,r.ZP)({prop:"gridArea"}));function F(e,t){return"grey"===t?t:e}a((0,r.ZP)({prop:"color",themeKey:"palette",transform:F}),(0,r.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:F}),(0,r.ZP)({prop:"backgroundColor",themeKey:"palette",transform:F}));function P(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var D=(0,r.ZP)({prop:"width",transform:P}),x=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,i,r=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.VO[t];return r?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:"".concat(r).concat(e.theme.breakpoints.unit)}:{maxWidth:r}:{maxWidth:P(t)}}))}return null};x.filterProps=["maxWidth"];var M=(0,r.ZP)({prop:"minWidth",transform:P}),A=(0,r.ZP)({prop:"height",transform:P}),T=(0,r.ZP)({prop:"maxHeight",transform:P}),L=(0,r.ZP)({prop:"minHeight",transform:P}),I=((0,r.ZP)({prop:"size",cssProperty:"width",transform:P}),(0,r.ZP)({prop:"size",cssProperty:"height",transform:P}),a(D,x,M,A,T,L,(0,r.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:k},color:{themeKey:"palette",transform:F},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:F},backgroundColor:{themeKey:"palette",transform:F},p:{style:i.o3},pt:{style:i.o3},pr:{style:i.o3},pb:{style:i.o3},pl:{style:i.o3},px:{style:i.o3},py:{style:i.o3},padding:{style:i.o3},paddingTop:{style:i.o3},paddingRight:{style:i.o3},paddingBottom:{style:i.o3},paddingLeft:{style:i.o3},paddingX:{style:i.o3},paddingY:{style:i.o3},paddingInline:{style:i.o3},paddingInlineStart:{style:i.o3},paddingInlineEnd:{style:i.o3},paddingBlock:{style:i.o3},paddingBlockStart:{style:i.o3},paddingBlockEnd:{style:i.o3},m:{style:i.e6},mt:{style:i.e6},mr:{style:i.e6},mb:{style:i.e6},ml:{style:i.e6},mx:{style:i.e6},my:{style:i.e6},margin:{style:i.e6},marginTop:{style:i.e6},marginRight:{style:i.e6},marginBottom:{style:i.e6},marginLeft:{style:i.e6},marginX:{style:i.e6},marginY:{style:i.e6},marginInline:{style:i.e6},marginInlineStart:{style:i.e6},marginInlineEnd:{style:i.e6},marginBlock:{style:i.e6},marginBlockStart:{style:i.e6},marginBlockEnd:{style:i.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:b},rowGap:{style:E},columnGap:{style:R},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:P},maxWidth:{style:x},minWidth:{transform:P},height:{transform:P},maxHeight:{transform:P},minHeight:{transform:P},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8519:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(3433),r=n(7462),o=n(3366),a=n(7093),s=n(7416),l=["sx"];function u(e){var t,n=e.sx,u=function(e){var t,n,i={systemProps:{},otherProps:{}},r=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.Z;return Object.keys(e).forEach((function(t){r[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]})),i}((0,o.Z)(e,l)),c=u.systemProps,d=u.otherProps;return t=Array.isArray(n)?[c].concat((0,i.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,a.P)(e)?(0,r.Z)({},c,e):c}:(0,r.Z)({},c,n),(0,r.Z)({},d,{sx:t})}},7150:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z},extendSxProp:function(){return r.Z},unstable_createStyleFunctionSx:function(){return i.n},unstable_defaultSxConfig:function(){return o.Z}});var i=n(104),r=n(8519),o=n(7416)},104:function(e,t,n){"use strict";n.d(t,{n:function(){return u}});var i=n(4942),r=n(1122),o=n(8247),a=n(8529),s=n(1184),l=n(7416);function u(){function e(e,t,n,o){var l,u=(l={},(0,i.Z)(l,e,t),(0,i.Z)(l,"theme",n),l),c=o[e];if(!c)return(0,i.Z)({},e,t);var d=c.cssProperty,h=void 0===d?e:d,f=c.themeKey,v=c.transform,p=c.style;if(null==t)return null;if("typography"===f&&"inherit"===t)return(0,i.Z)({},e,t);var g=(0,a.DW)(n,f)||{};if(p)return p(u);return(0,s.k9)(u,t,(function(t){var n=(0,a.Jq)(g,v,t);return t===n&&"string"===typeof t&&(n=(0,a.Jq)(g,v,"".concat(e).concat("default"===t?"":(0,r.Z)(t)),t)),!1===h?n:(0,i.Z)({},h,n)}))}return function t(n){var r,a=n||{},u=a.sx,c=a.theme,d=void 0===c?{}:c;if(!u)return null;var h=null!=(r=d.unstable_sxConfig)?r:l.Z;function f(n){var r=n;if("function"===typeof n)r=n(d);else if("object"!==typeof n)return n;if(!r)return null;var a=(0,s.W8)(d.breakpoints),l=Object.keys(a),u=a;return Object.keys(r).forEach((function(n){var a,l,c=(a=r[n],l=d,"function"===typeof a?a(l):a);if(null!==c&&void 0!==c)if("object"===typeof c)if(h[n])u=(0,o.Z)(u,e(n,c,d,h));else{var f=(0,s.k9)({theme:d},c,(function(e){return(0,i.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),r=new Set(i);return t.every((function(e){return r.size===Object.keys(e).length}))}(f,c)?u=(0,o.Z)(u,f):u[n]=t({sx:c,theme:d})}else u=(0,o.Z)(u,e(n,c,d,h))})),(0,s.L7)(l,u)}return Array.isArray(u)?u.map(f):f(u)}}var c=u();c.filterProps=["sx"],t.Z=c},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(6187);function r(e){if("string"!==typeof e)throw new Error((0,i.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4884:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z}});var i=n(1122)},2956:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},7093:function(e,t,n){"use strict";n.d(t,{P:function(){return r},Z:function(){return a}});var i=n(7462);function r(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!r(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=o(e[n])})),t}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=n.clone?(0,i.Z)({},e):e;return r(e)&&r(t)&&Object.keys(t).forEach((function(i){r(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&r(e[i])?s[i]=a(e[i],t[i],n):n.clone?s[i]=r(t[i])?o(t[i]):t[i]:s[i]=t[i]})),s}},1037:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z},isPlainObject:function(){return i.P}});var i=n(7093)},6187:function(e,t,n){"use strict";function i(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return i}})},6955:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z}});var i=n(6187)},1627:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l},getFunctionName:function(){return o}});var i=n(3325),r=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){var t="".concat(e).match(r);return t&&t[1]||""}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function s(e,t,n){var i=a(t);return e.displayName||(""!==i?"".concat(n,"(").concat(i,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return a(e,"Component");if("object"===typeof e)switch(e.$$typeof){case i.ForwardRef:return s(e,e.render,"ForwardRef");case i.Memo:return s(e,e.type,"memo");default:return}}}},794:function(e,t){"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case p:case v:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=v},3325:function(e,t,n){"use strict";e.exports=n(794)},2110:function(e,t,n){"use strict";var i=n(8309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,v=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(v){var r=f(n);r&&r!==v&&e(t,r,i)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),p=l(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!i||!i[m])&&(!p||!p[m])&&(!s||!s[m])){var y=h(n,m);try{u(t,m,y)}catch(C){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,C=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case g:case p:case l:return e;default:return t}}case r:return t}}}function k(e){return S(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=p,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||S(e)===c},t.isConcurrentMode=k,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===h},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===p},t.isPortal=function(e){return S(e)===r},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===p||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===C||e.$$typeof===w||e.$$typeof===m)},t.typeOf=S},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var i=n(2791),r=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},v={};function p(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function C(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(v,e)||!d.call(f,e)&&(h.test(e)?v[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),k=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var N,G=Object.assign;function B(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var H=!1;function V(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function W(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case b:return"Fragment";case k:return"Portal";case E:return"Profiler";case R:return"StrictMode";case x:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function _(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=j(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function J(e,t){X(e,t);var n=U(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function oe(e,t){var n=U(t.value),i=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=pe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var me=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,be=null,Re=null;function Ee(e){if(e=Cr(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=Sr(t),ke(e.stateNode,e.type,t))}}function Fe(e){be?Re?Re.push(e):Re=[e]:be=e}function Pe(){if(be){var e=be,t=Re;if(Re=be=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function De(e,t){return e(t)}function xe(){}var Me=!1;function Ae(e,t,n){if(Me)return e(t,n);Me=!0;try{return De(e,t,n)}finally{Me=!1,(null!==be||null!==Re)&&(xe(),Pe())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var i=Sr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Le=!1}function Oe(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ne=!1,Ge=null,Be=!1,He=null,Ve={onError:function(e){Ne=!0,Ge=e}};function We(e,t,n,i,r,o,a,s,l){Ne=!1,Ge=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function _e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(ze(e)!==e)throw Error(o(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Ue(r),e;if(a===i)return Ue(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Xe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=dt(s):0!==(o&=a)&&(i=dt(o))}else 0!==(a=n&~r)?i=dt(a):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Ct=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,kt,bt,Rt,Et,Ft=!1,Pt=[],Dt=null,xt=null,Mt=null,At=new Map,Tt=new Map,Lt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Nt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=Cr(t))&&kt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Gt(e){var t=yr(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=_e(n)))return e.blockedOn=t,void Et(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Cr(n))&&kt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function Ht(e,t,n){Bt(e)&&n.delete(t)}function Vt(){Ft=!1,null!==Dt&&Bt(Dt)&&(Dt=null),null!==xt&&Bt(xt)&&(xt=null),null!==Mt&&Bt(Mt)&&(Mt=null),At.forEach(Ht),Tt.forEach(Ht)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Wt(t,e)}if(0<Pt.length){Wt(Pt[0],e);for(var n=1;n<Pt.length;n++){var i=Pt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Dt&&Wt(Dt,e),null!==xt&&Wt(xt,e),null!==Mt&&Wt(Mt,e),At.forEach(t),Tt.forEach(t),n=0;n<Lt.length;n++)(i=Lt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Gt(n),null===n.blockedOn&&Lt.shift()}var _t=w.ReactCurrentBatchConfig,Ut=!0;function jt(e,t,n,i){var r=Ct,o=_t.transition;_t.transition=null;try{Ct=1,Kt(e,t,n,i)}finally{Ct=r,_t.transition=o}}function Zt(e,t,n,i){var r=Ct,o=_t.transition;_t.transition=null;try{Ct=4,Kt(e,t,n,i)}finally{Ct=r,_t.transition=o}}function Kt(e,t,n,i){if(Ut){var r=Qt(e,t,n,i);if(null===r)Ui(e,t,i,qt,n),Ot(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Dt=Nt(Dt,e,t,n,i,r),!0;case"dragenter":return xt=Nt(xt,e,t,n,i,r),!0;case"mouseover":return Mt=Nt(Mt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return At.set(o,Nt(At.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Tt.set(o,Nt(Tt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ot(e,i),4&t&&-1<It.indexOf(e)){for(;null!==r;){var o=Cr(r);if(null!==o&&St(o),null===(o=Qt(e,t,n,i))&&Ui(e,t,i,qt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Ui(e,t,i,null,n)}}var qt=null;function Qt(e,t,n,i){if(qt=null,null!==(e=yr(e=Se(i))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=_e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,i=n.length,r="value"in Xt?Xt.value:Xt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=G({},un,{view:0,detail:0}),hn=on(dn),fn=G({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),vn=on(fn),pn=on(G({},fn,{dataTransfer:0})),gn=on(G({},dn,{relatedTarget:0})),mn=on(G({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=G({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=on(yn),wn=on(G({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function En(){return Rn}var Fn=G({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Fn),Dn=on(G({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=on(G({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=on(G({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=G({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=on(An),Ln=[9,13,27,32],In=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Nn=c&&"TextEvent"in window&&!On,Gn=c&&(!In||On&&8<On&&11>=On),Bn=String.fromCharCode(32),Hn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_n[e.type]:"textarea"===t}function jn(e,t,n,i){Fe(i),0<(t=Zi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Zn=null,Kn=null;function qn(e){Bi(e,0)}function Qn(e){if(K(wr(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Jn=$n}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Zn&&(Zn.detachEvent("onpropertychange",ni),Kn=Zn=null)}function ni(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];jn(t,Kn,e,Se(e)),Ae(qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Kn=n,(Zn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function oi(e,t){if("click"===e)return Qn(t)}function ai(e,t){if("input"===e||"change"===e)return Qn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ci(n,o);var a=ci(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pi=c&&"documentMode"in document&&11>=document.documentMode,gi=null,mi=null,yi=null,Ci=!1;function wi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ci||null==gi||gi!==q(i)||("selectionStart"in(i=gi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Zi(mi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function Si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ki={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},bi={},Ri={};function Ei(e){if(bi[e])return bi[e];if(!ki[e])return e;var t,n=ki[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ri)return bi[e]=n[t];return e}c&&(Ri=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);var Fi=Ei("animationend"),Pi=Ei("animationiteration"),Di=Ei("animationstart"),xi=Ei("transitionend"),Mi=new Map,Ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(e,t){Mi.set(e,t),l(t,[e])}for(var Li=0;Li<Ai.length;Li++){var Ii=Ai[Li];Ti(Ii.toLowerCase(),"on"+(Ii[0].toUpperCase()+Ii.slice(1)))}Ti(Fi,"onAnimationEnd"),Ti(Pi,"onAnimationIteration"),Ti(Di,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(xi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ni=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Gi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,u){if(We.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var c=Ge;Ne=!1,Ge=null,Be||(Be=!0,He=c)}}(i,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Gi(r,s,u),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Gi(r,s,u),o=l}}}if(Be)throw e=He,Be=!1,He=null,e}function Hi(e,t){var n=t[pr];void 0===n&&(n=t[pr]=new Set);var i=e+"__bubble";n.has(i)||(_i(t,e,2,!1),n.add(i))}function Vi(e,t,n){var i=0;t&&(i|=4),_i(n,e,i,t)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Wi]){e[Wi]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ni.has(t)||Vi(t,!1,e),Vi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wi]||(t[Wi]=!0,Vi("selectionchange",!1,t))}}function _i(e,t,n,i){switch(Yt(t)){case 1:var r=jt;break;case 4:r=Zt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ui(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Ae((function(){var i=o,r=Se(n),a=[];e:{var s=Mi.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xn;break;case Fi:case Pi:case Di:l=mn;break;case xi:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,v=i;null!==v;){var p=(f=v).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Te(v,h))&&c.push(ji(v,p,f)))),d)break;v=v.return}0<c.length&&(s=new l(s,u,null,n,r),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[vr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(d=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=vn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(c=Dn,p="onPointerLeave",h="onPointerEnter",v="pointer"),d=null==l?s:wr(l),f=null==u?s:wr(u),(s=new c(p,v+"leave",l,n,r)).target=d,s.relatedTarget=f,p=null,yr(r)===i&&((c=new c(h,v+"enter",u,n,r)).target=f,c.relatedTarget=d,p=c),d=p,l&&u)e:{for(h=u,v=0,f=c=l;f;f=Ki(f))v++;for(f=0,p=h;p;p=Ki(p))f++;for(;0<v-f;)c=Ki(c),v--;for(;0<f-v;)h=Ki(h),f--;for(;v--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ki(c),h=Ki(h)}c=null}else c=null;null!==l&&qi(a,s,l,c,!1),null!==u&&null!==d&&qi(a,d,u,c,!0)}if("select"===(l=(s=i?wr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Un(s))if(Xn)g=ai;else{g=ri;var m=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oi);switch(g&&(g=g(e,i))?jn(a,g,n,r):(m&&m(e,s,i),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=i?wr(i):window,e){case"focusin":(Un(m)||"true"===m.contentEditable)&&(gi=m,mi=i,yi=null);break;case"focusout":yi=mi=gi=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,wi(a,n,r);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":wi(a,n,r)}var y;if(In)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else zn?Vn(e,n)&&(C="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(C="onCompositionStart");C&&(Gn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==C?"onCompositionEnd"===C&&zn&&(y=en()):(Jt="value"in(Xt=r)?Xt.value:Xt.textContent,zn=!0)),0<(m=Zi(i,C)).length&&(C=new wn(C,e,null,n,r),a.push({event:C,listeners:m}),y?C.data=y:null!==(y=Wn(n))&&(C.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!In&&Vn(e,t)?(e=en(),$t=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Zi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y))}Bi(a,t)}))}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Te(e,n))&&i.unshift(ji(e,o,r)),null!=(o=Te(e,t))&&i.push(ji(e,o,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Te(n,o))&&a.unshift(ji(n,l,s)):r||null!=(l=Te(n,o))&&a.push(ji(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qi=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Xi(e){return("string"===typeof e?e:""+e).replace(Qi,"\n").replace(Yi,"")}function Ji(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(o(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);zt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,fr="__reactProps$"+dr,vr="__reactContainer$"+dr,pr="__reactEvents$"+dr,gr="__reactListeners$"+dr,mr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[hr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function Cr(e){return!(e=e[hr]||e[vr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Sr(e){return e[fr]||null}var kr=[],br=-1;function Rr(e){return{current:e}}function Er(e){0>br||(e.current=kr[br],kr[br]=null,br--)}function Fr(e,t){br++,kr[br]=e.current,e.current=t}var Pr={},Dr=Rr(Pr),xr=Rr(!1),Mr=Pr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Pr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Tr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){Er(xr),Er(Dr)}function Ir(e,t,n){if(Dr.current!==Pr)throw Error(o(168));Fr(Dr,t),Fr(xr,n)}function Or(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,_(e)||"Unknown",r));return G({},n,i)}function Nr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,Mr=Dr.current,Fr(Dr,e),Fr(xr,xr.current),!0}function Gr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Or(e,t,Mr),i.__reactInternalMemoizedMergedChildContext=e,Er(xr),Er(Dr),Fr(Dr,e)):Er(xr),Fr(xr,n)}var Br=null,Hr=!1,Vr=!1;function Wr(e){null===Br?Br=[e]:Br.push(e)}function zr(){if(!Vr&&null!==Br){Vr=!0;var e=0,t=Ct;try{var n=Br;for(Ct=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Br=null,Hr=!1}catch(r){throw null!==Br&&(Br=Br.slice(e+1)),Ke($e,zr),r}finally{Ct=t,Vr=!1}}return null}var _r=w.ReactCurrentBatchConfig;function Ur(e,t){if(e&&e.defaultProps){for(var n in t=G({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var jr=Rr(null),Zr=null,Kr=null,qr=null;function Qr(){qr=Kr=Zr=null}function Yr(e){var t=jr.current;Er(jr),e._currentValue=t}function Xr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Jr(e,t){Zr=e,qr=Kr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ss=!0),e.firstContext=null)}function $r(e){var t=e._currentValue;if(qr!==e)if(e={context:e,memoizedValue:t,next:null},null===Kr){if(null===Zr)throw Error(o(308));Kr=e,Zr.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var eo=null,to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oo(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tu(e)?(null===(e=n.interleaved)?(t.next=t,null===eo?eo=[n]:eo.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function so(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,i){var r=e.updateQueue;to=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((i&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,p=s;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(v=p.payload)){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(f,d,h):v)||void 0===h)break e;d=G({},d,h);break e;case 2:to=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var co=(new i.Component).refs;function ho(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:G({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xl(),r=Jl(e),o=ro(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=$l(e,r,i))&&ao(t,e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xl(),r=Jl(e),o=ro(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=$l(e,r,i))&&ao(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xl(),i=Jl(e),r=ro(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),oo(e,r),null!==(t=$l(e,i,n))&&ao(t,e,i)}};function vo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function po(e,t,n){var i=!1,r=Pr,o=t.contextType;return"object"===typeof o&&null!==o?o=$r(o):(r=Tr(t)?Mr:Dr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ar(e,r):Pr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function go(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function mo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=co,no(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=$r(o):(o=Tr(t)?Mr:Dr.current,r.context=Ar(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&fo.enqueueReplaceState(r,r.state,null),lo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}var yo=[],Co=0,wo=null,So=0,ko=[],bo=0,Ro=null,Eo=1,Fo="";function Po(e,t){yo[Co++]=So,yo[Co++]=wo,wo=e,So=t}function Do(e,t,n){ko[bo++]=Eo,ko[bo++]=Fo,ko[bo++]=Ro,Ro=e;var i=Eo;e=Fo;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Eo=1<<32-at(t)+r|n<<r|i,Fo=o+e}else Eo=1<<o|n<<r|i,Fo=e}function xo(e){null!==e.return&&(Po(e,1),Do(e,1,0))}function Mo(e){for(;e===wo;)wo=yo[--Co],yo[Co]=null,So=yo[--Co],yo[Co]=null;for(;e===Ro;)Ro=ko[--bo],ko[bo]=null,Fo=ko[--bo],ko[bo]=null,Eo=ko[--bo],ko[bo]=null}var Ao=null,To=null,Lo=!1,Io=null;function Oo(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function No(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ao=e,To=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ao=e,To=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ro?{id:Eo,overflow:Fo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ao=e,To=null,!0);default:return!1}}function Go(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Bo(e){if(Lo){var t=To;if(t){var n=t;if(!No(e,t)){if(Go(e))throw Error(o(418));t=ur(n.nextSibling);var i=Ao;t&&No(e,t)?Oo(i,n):(e.flags=-4097&e.flags|2,Lo=!1,Ao=e)}}else{if(Go(e))throw Error(o(418));e.flags=-4097&e.flags|2,Lo=!1,Ao=e}}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ao=e}function Vo(e){if(e!==Ao)return!1;if(!Lo)return Ho(e),Lo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=To)){if(Go(e)){for(e=To;e;)e=ur(e.nextSibling);throw Error(o(418))}for(;t;)Oo(e,t),t=ur(t.nextSibling)}if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){To=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}To=null}}else To=Ao?ur(e.stateNode.nextSibling):null;return!0}function Wo(){To=Ao=null,Lo=!1}function zo(e){null===Io?Io=[e]:Io.push(e)}function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===co&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Uo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jo(e){return(0,e._init)(e._payload)}function Zo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Tu(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Nu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var o=n.type;return o===b?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&jo(o)===t.type)?((i=r(t,n.props)).ref=_o(e,t,n),i.return=e,i):((i=Lu(n.type,n.key,n.props,null,e.mode,i)).ref=_o(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Iu(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case k:return(t=Gu(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Iu(t,e.mode,n,null)).return=e,t;Uo(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===r?u(e,t,n,i):null;case k:return n.key===r?c(e,t,n,i):null;case T:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||O(n))return null!==r?null:d(e,t,n,i,null);Uo(e,n)}return null}function v(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case k:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case T:return v(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||O(i))return d(t,e=e.get(n)||null,i,r,null);Uo(t,i)}return null}function p(r,o,s,l){for(var u=null,c=null,d=o,p=o=0,g=null;null!==d&&p<s.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var m=f(r,d,s[p],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(r,d),o=a(m,o,p),null===c?u=m:c.sibling=m,c=m,d=g}if(p===s.length)return n(r,d),Lo&&Po(r,p),u;if(null===d){for(;p<s.length;p++)null!==(d=h(r,s[p],l))&&(o=a(d,o,p),null===c?u=d:c.sibling=d,c=d);return Lo&&Po(r,p),u}for(d=i(r,d);p<s.length;p++)null!==(g=v(d,r,p,s[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),o=a(g,o,p),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(r,e)})),Lo&&Po(r,p),u}function g(r,s,l,u){var c=O(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,p=s,g=s=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var C=f(r,p,y.value,u);if(null===C){null===p&&(p=m);break}e&&p&&null===C.alternate&&t(r,p),s=a(C,s,g),null===d?c=C:d.sibling=C,d=C,p=m}if(y.done)return n(r,p),Lo&&Po(r,g),c;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,u))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return Lo&&Po(r,g),c}for(p=i(r,p);!y.done;g++,y=l.next())null!==(y=v(p,r,g,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(r,e)})),Lo&&Po(r,g),c}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===b&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===b){if(7===c.tag){n(i,c.sibling),(o=r(c,a.props.children)).return=i,i=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===T&&jo(u)===c.type){n(i,c.sibling),(o=r(c,a.props)).ref=_o(i,c,a),o.return=i,i=o;break e}n(i,c);break}t(i,c),c=c.sibling}a.type===b?((o=Iu(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=Lu(a.type,a.key,a.props,null,i.mode,l)).ref=_o(i,o,a),l.return=i,i=l)}return s(i);case k:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Gu(a,i.mode,l)).return=i,i=o}return s(i);case T:return e(i,o,(c=a._init)(a._payload),l)}if(te(a))return p(i,o,a,l);if(O(a))return g(i,o,a,l);Uo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Nu(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var Ko=Zo(!0),qo=Zo(!1),Qo={},Yo=Rr(Qo),Xo=Rr(Qo),Jo=Rr(Qo);function $o(e){if(e===Qo)throw Error(o(174));return e}function ea(e,t){switch(Fr(Jo,t),Fr(Xo,e),Fr(Yo,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er(Yo),Fr(Yo,t)}function ta(){Er(Yo),Er(Xo),Er(Jo)}function na(e){$o(Jo.current);var t=$o(Yo.current),n=le(t,e.type);t!==n&&(Fr(Xo,e),Fr(Yo,n))}function ia(e){Xo.current===e&&(Er(Yo),Er(Xo))}var ra=Rr(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var la=w.ReactCurrentDispatcher,ua=w.ReactCurrentBatchConfig,ca=0,da=null,ha=null,fa=null,va=!1,pa=!1,ga=0,ma=0;function ya(){throw Error(o(321))}function Ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function wa(e,t,n,i,r,a){if(ca=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?is:rs,e=n(i,r),pa){a=0;do{if(pa=!1,ga=0,25<=a)throw Error(o(301));a+=1,fa=ha=null,t.updateQueue=null,la.current=os,e=n(i,r)}while(pa)}if(la.current=ns,t=null!==ha&&null!==ha.next,ca=0,fa=ha=da=null,va=!1,t)throw Error(o(300));return e}function Sa(){var e=0!==ga;return ga=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?da.memoizedState=fa=e:fa=fa.next=e,fa}function ba(){if(null===ha){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===fa?da.memoizedState:fa.next;if(null!==t)fa=t,ha=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===fa?da.memoizedState=fa=e:fa=fa.next=e}return fa}function Ra(e,t){return"function"===typeof t?t(e):t}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ha,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((ca&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=i):u=u.next=h,da.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==a);null===u?s=i:u.next=l,si(i,t.memoizedState)||(Ss=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,da.lanes|=a,Ll|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(Ss=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Pa(){}function Da(e,t){var n=da,i=ba(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,Ss=!0),i=i.queue,Ha(Aa.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,Ia(9,Ma.bind(null,n,i,r,t),void 0,null),null===Fl)throw Error(o(349));0!==(30&ca)||xa(n,t,r)}return r}function xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,i){t.value=n,t.getSnapshot=i,Ta(t)&&$l(e,1,-1)}function Aa(e,t,n){return n((function(){Ta(t)&&$l(e,1,-1)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function La(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,da,e),[t.memoizedState,e]}function Ia(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Oa(){return ba().memoizedState}function Na(e,t,n,i){var r=ka();da.flags|=e,r.memoizedState=Ia(1|t,n,void 0,void 0===i?null:i)}function Ga(e,t,n,i){var r=ba();i=void 0===i?null:i;var o=void 0;if(null!==ha){var a=ha.memoizedState;if(o=a.destroy,null!==i&&Ca(i,a.deps))return void(r.memoizedState=Ia(t,n,o,i))}da.flags|=e,r.memoizedState=Ia(1|t,n,o,i)}function Ba(e,t){return Na(8390656,8,e,t)}function Ha(e,t){return Ga(2048,8,e,t)}function Va(e,t){return Ga(4,2,e,t)}function Wa(e,t){return Ga(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ga(4,4,za.bind(null,t,e),n)}function Ua(){}function ja(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ca(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ca(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=n):(si(n,t)||(n=pt(),da.lanes|=n,Ll|=n,e.baseState=!0),t)}function qa(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var i=ua.transition;ua.transition={};try{e(!1),t()}finally{Ct=n,ua.transition=i}}function Qa(){return ba().memoizedState}function Ya(e,t,n){var i=Jl(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e)?$a(t,n):(es(e,t,n),null!==(e=$l(e,i,n=Xl()))&&ts(e,t,i))}function Xa(e,t,n){var i=Jl(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))$a(t,r);else{es(e,t,r);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a))return}catch(l){}null!==(e=$l(e,i,n=Xl()))&&ts(e,t,i)}}function Ja(e){var t=e.alternate;return e===da||null!==t&&t===da}function $a(e,t){pa=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tu(e)?(null===(e=t.interleaved)?(n.next=n,null===eo?eo=[t]:eo.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:$r,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},is={readContext:$r,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:$r,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ka();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ya.bind(null,da,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:La,useDebugValue:Ua,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=qa.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=da,r=ka();if(Lo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Fl)throw Error(o(349));0!==(30&ca)||xa(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ba(Aa.bind(null,i,a,e),[e]),i.flags|=2048,Ia(9,Ma.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Fl.identifierPrefix;if(Lo){var n=Fo;t=":"+t+"R"+(n=(Eo&~(1<<32-at(Eo)-1)).toString(32)+n),0<(n=ga++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ma++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rs={readContext:$r,useCallback:ja,useContext:$r,useEffect:Ha,useImperativeHandle:_a,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Za,useReducer:Ea,useRef:Oa,useState:function(){return Ea(Ra)},useDebugValue:Ua,useDeferredValue:function(e){return Ka(ba(),ha.memoizedState,e)},useTransition:function(){return[Ea(Ra)[0],ba().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:Qa,unstable_isNewReconciler:!1},os={readContext:$r,useCallback:ja,useContext:$r,useEffect:Ha,useImperativeHandle:_a,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Za,useReducer:Fa,useRef:Oa,useState:function(){return Fa(Ra)},useDebugValue:Ua,useDeferredValue:function(e){var t=ba();return null===ha?t.memoizedState=e:Ka(t,ha.memoizedState,e)},useTransition:function(){return[Fa(Ra)[0],ba().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:Qa,unstable_isNewReconciler:!1};function as(e,t){try{var n="",i=t;do{n+=W(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ls,us,cs,ds="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ro(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,zl=i),ss(0,t)},n}function fs(e,t,n){(n=ro(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ss(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof i&&(null===_l?_l=new Set([this]):_l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ds;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Ru.bind(null,e,t,n),t.then(e,e))}function ps(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ro(-1,1)).tag=2,oo(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}function ms(e,t){if(!Lo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Cs(e,t,n){var i=t.pendingProps;switch(Mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(t),null;case 1:case 17:return Tr(t.type)&&Lr(),ys(t),null;case 3:return i=t.stateNode,ta(),Er(xr),Er(Dr),sa(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Io&&(ou(Io),Io=null))),ys(t),null;case 5:ia(t);var r=$o(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)us(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return ys(t),null}if(e=$o(Yo.current),Vo(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[hr]=t,i[fr]=a,e=0!==(1&t.mode),n){case"dialog":Hi("cancel",i),Hi("close",i);break;case"iframe":case"object":case"embed":Hi("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)Hi(Oi[r],i);break;case"source":Hi("error",i);break;case"img":case"image":case"link":Hi("error",i),Hi("load",i);break;case"details":Hi("toggle",i);break;case"input":Y(i,a),Hi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Hi("invalid",i);break;case"textarea":re(i,a),Hi("invalid",i)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Hi("scroll",i)}switch(n){case"input":Z(i),$(i,a,!0);break;case"textarea":Z(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[fr]=i,ls(e,t),t.stateNode=e;e:{switch(l=Ce(n,i),n){case"dialog":Hi("cancel",e),Hi("close",e),r=i;break;case"iframe":case"object":case"embed":Hi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)Hi(Oi[r],e);r=i;break;case"source":Hi("error",e),r=i;break;case"img":case"image":case"link":Hi("error",e),Hi("load",e),r=i;break;case"details":Hi("toggle",e),r=i;break;case"input":Y(e,i),r=Q(e,i),Hi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=G({},i,{value:void 0}),Hi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Hi("invalid",e)}for(a in ye(n,r),u=r)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Hi("scroll",e):null!=c&&C(e,a,c,l))}switch(n){case"input":Z(e),$(e,i,!1);break;case"textarea":Z(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+U(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ys(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=$o(Jo.current),$o(Yo.current),Vo(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(a=i.nodeValue!==n)&&null!==(e=Ao))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return ys(t),null;case 13:if(Er(ra),i=t.memoizedState,Lo&&null!==To&&0!==(1&t.mode)&&0===(128&t.flags)){for(i=To;i;)i=ur(i.nextSibling);return Wo(),t.flags|=98560,t}if(null!==i&&null!==i.dehydrated){if(i=Vo(t),null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[hr]=t}else Wo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ys(t),null}return null!==Io&&(ou(Io),Io=null),0!==(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?Vo(t):n=null!==e.memoizedState,i!==n&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Al&&(Al=3):vu())),null!==t.updateQueue&&(t.flags|=4),ys(t),null);case 4:return ta(),null===e&&zi(t.stateNode.containerInfo),ys(t),null;case 10:return Yr(t.type._context),ys(t),null;case 19:if(Er(ra),null===(a=t.memoizedState))return ys(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)ms(a,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=oa(e))){for(t.flags|=128,ms(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fr(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hl&&(t.flags|=128,i=!0,ms(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=oa(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ms(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Lo)return ys(t),null}else 2*Xe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,i=!0,ms(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,Fr(ra,i?1&n|2:1&n),t):(ys(t),null);case 22:case 23:return cu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&xl)&&(ys(t),6&t.subtreeFlags&&(t.flags|=8192)):ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},us=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,$o(Yo.current);var o,a=null;switch(n){case"input":r=Q(e,r),i=Q(e,i),a=[];break;case"select":r=G({},r,{value:void 0}),i=G({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Hi("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,i){n!==i&&(t.flags|=4)};var ws=w.ReactCurrentOwner,Ss=!1;function ks(e,t,n,i){t.child=null===e?qo(t,null,n,i):Ko(t,e.child,n,i)}function bs(e,t,n,i,r){n=n.render;var o=t.ref;return Jr(t,r),i=wa(e,t,n,i,o,r),n=Sa(),null===e||Ss?(Lo&&n&&xo(t),t.flags|=1,ks(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Us(e,t,r))}function Rs(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Au(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Us(e,t,r)}return t.flags|=1,(e=Tu(o,i)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(Ss=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Us(e,t,r);0!==(131072&e.flags)&&(Ss=!0)}}return Ds(e,t,n,i,r)}function Fs(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(Ml,xl),xl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fr(Ml,xl),xl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Fr(Ml,xl),xl|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Fr(Ml,xl),xl|=i;return ks(e,t,r,n),t.child}function Ps(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ds(e,t,n,i,r){var o=Tr(n)?Mr:Dr.current;return o=Ar(t,o),Jr(t,r),n=wa(e,t,n,i,o,r),i=Sa(),null===e||Ss?(Lo&&i&&xo(t),t.flags|=1,ks(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Us(e,t,r))}function xs(e,t,n,i,r){if(Tr(n)){var o=!0;Nr(t)}else o=!1;if(Jr(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),po(t,n,i),mo(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=$r(u):u=Ar(t,u=Tr(n)?Mr:Dr.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&go(t,a,i,u),to=!1;var h=t.memoizedState;a.state=h,lo(t,i,a,r),l=t.memoizedState,s!==i||h!==l||xr.current||to?("function"===typeof c&&(ho(t,n,c,i),l=t.memoizedState),(s=to||vo(t,n,s,i,h,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,io(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ur(t.type,s),a.props=u,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=$r(l):l=Ar(t,l=Tr(n)?Mr:Dr.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&go(t,a,i,l),to=!1,h=t.memoizedState,a.state=h,lo(t,i,a,r);var v=t.memoizedState;s!==d||h!==v||xr.current||to?("function"===typeof f&&(ho(t,n,f,i),v=t.memoizedState),(u=to||vo(t,n,u,i,h,v,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,v,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,v,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),a.props=i,a.state=v,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ms(e,t,n,i,o,r)}function Ms(e,t,n,i,r,o){Ps(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Gr(t,n,!1),Us(e,t,o);i=t.stateNode,ws.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,s,o)):ks(e,t,s,o),t.memoizedState=i.state,r&&Gr(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ir(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ir(0,t.context,!1),ea(e,t.containerInfo)}function Ts(e,t,n,i,r){return Wo(),zo(r),t.flags|=256,ks(e,t,n,i),t.child}var Ls={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ns(e,t,n){var i,r=t.pendingProps,a=ra.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Fr(ra,1&a),null===e)return Bo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Ou(a,r,0,null),e=Iu(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Is(n),t.memoizedState=Ls,e):Gs(t,a));if(null!==(a=e.memoizedState)){if(null!==(i=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Vs(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Ou({mode:"visible",children:r.children},a,0,null),(s=Iu(s,a,n,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Ko(t,e.child,null,n),t.child.memoizedState=Is(n),t.memoizedState=Ls,s);if(0===(1&t.mode))t=Vs(e,t,n,null);else if("$!"===i.data)t=Vs(e,t,n,Error(o(419)));else if(r=0!==(n&e.childLanes),Ss||r){if(null!==(r=Fl)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(r=0!==(s&(r.suspendedLanes|n))?0:s)&&r!==a.retryLane&&(a.retryLane=r,$l(e,r,-1))}vu(),t=Vs(e,t,n,Error(o(421)))}else"$?"===i.data?(t.flags|=128,t.child=e.child,t=Fu.bind(null,e),i._reactRetry=t,t=null):(n=a.treeContext,To=ur(i.nextSibling),Ao=t,Lo=!0,Io=null,null!==n&&(ko[bo++]=Eo,ko[bo++]=Fo,ko[bo++]=Ro,Eo=n.id,Fo=n.overflow,Ro=t),(t=Gs(t,t.pendingProps.children)).flags|=4096);return t}return s?(r=Hs(e,t,r.children,r.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Is(n):Os(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ls,r):(n=Bs(e,t,r.children,n),t.memoizedState=null,n)}return s?(r=Hs(e,t,r.children,r.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Is(n):Os(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ls,r):(n=Bs(e,t,r.children,n),t.memoizedState=null,n)}function Gs(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,i){var r=e.child;return e=r.sibling,n=Tu(r,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function Hs(e,t,n,i,r){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Tu(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?i=Tu(a,i):(i=Iu(i,o,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function Vs(e,t,n,i){return null!==i&&zo(i),Ko(t,e.child,null,n),(e=Gs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Xr(e.return,t,n)}function zs(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function _s(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(ks(e,t,i.children,n),0!==(2&(i=ra.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Fr(ra,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),zs(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===oa(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Tu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function js(e,t){switch(Mo(t),t.tag){case 1:return Tr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),Er(xr),Er(Dr),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ia(t),null;case 13:if(Er(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er(ra),null;case 4:return ta(),null;case 10:return Yr(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}var Zs=!1,Ks=!1,qs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){bu(e,t,i)}else n.current=null}function Xs(e,t,n){try{n()}catch(i){bu(e,t,i)}}var Js=!1;function $s(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&Xs(t,n,o)}r=r.next}while(r!==i)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function tl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[fr],delete t[pr],delete t[gr],delete t[mr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function al(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}var sl=null,ll=!1;function ul(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||Ys(n,t);case 6:var i=sl,r=ll;sl=null,ul(e,t,n),ll=r,null!==(sl=i)&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sl.removeChild(n.stateNode));break;case 18:null!==sl&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),zt(e)):lr(sl,n.stateNode));break;case 4:i=sl,r=ll,sl=n.stateNode.containerInfo,ll=!0,ul(e,t,n),sl=i,ll=r;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Xs(n,t,a),r=r.next}while(r!==i)}ul(e,t,n);break;case 1:if(!Ks&&(Ys(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){bu(n,t,s)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Ks=(i=Ks)||null!==n.memoizedState,ul(e,t,n),Ks=i):ul(e,t,n);break;default:ul(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var i=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function hl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:sl=l.stateNode,ll=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===sl)throw Error(o(160));cl(a,s,r),sl=null,ll=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){bu(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),vl(e),4&i){try{$s(3,e,e.return),el(3,e)}catch(p){bu(e,e.return,p)}try{$s(5,e,e.return)}catch(p){bu(e,e.return,p)}}break;case 1:hl(t,e),vl(e),512&i&&null!==n&&Ys(n,n.return);break;case 5:if(hl(t,e),vl(e),512&i&&null!==n&&Ys(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(p){bu(e,e.return,p)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(r,a),Ce(l,s);var c=Ce(l,a);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):C(r,d,h,c)}switch(l){case"input":J(r,a);break;case"textarea":oe(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var v=a.value;null!=v?ne(r,!!a.multiple,v,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[fr]=a}catch(p){bu(e,e.return,p)}}break;case 6:if(hl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(o(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(p){bu(e,e.return,p)}}break;case 3:if(hl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(p){bu(e,e.return,p)}break;case 4:default:hl(t,e),vl(e);break;case 13:hl(t,e),vl(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Bl=Xe()),4&i&&dl(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(d=Ks)||c,hl(t,e),Ks=d):hl(t,e),vl(e),8192&i){d=null!==e.memoizedState;e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{r=f.stateNode,d?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",s))}catch(p){bu(e,e.return,p)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){bu(e,e.return,p)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}if(d&&!c&&0!==(1&e.mode))for(Qs=e,e=e.child;null!==e;){for(c=Qs=e;null!==Qs;){switch(h=(d=Qs).child,d.tag){case 0:case 11:case 14:case 15:$s(4,d,d.return);break;case 1:if(Ys(d,d.return),"function"===typeof(a=d.stateNode).componentWillUnmount){f=d,v=d.return;try{r=f,a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(p){bu(f,v,p)}}break;case 5:Ys(d,d.return);break;case 22:if(null!==d.memoizedState){yl(c);continue}}null!==h?(h.return=d,Qs=h):yl(c)}e=e.sibling}}break;case 19:hl(t,e),vl(e),4&i&&dl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),al(e,rl(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ol(e,rl(e),a);break;default:throw Error(o(161))}}catch(s){bu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pl(e,t,n){Qs=e,gl(e,t,n)}function gl(e,t,n){for(var i=0!==(1&e.mode);null!==Qs;){var r=Qs,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Zs;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Zs;var u=Ks;if(Zs=a,(Ks=l)&&!u)for(Qs=r;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?Cl(r):null!==l?(l.return=a,Qs=l):Cl(r);for(;null!==o;)Qs=o,gl(o,t,n),o=o.sibling;Qs=r,Zs=s,Ks=u}ml(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Qs=o):ml(e)}}function ml(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||el(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ks)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ur(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&uo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&tl(t)}catch(f){bu(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function yl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function Cl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(l){bu(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){bu(t,r,l)}}var o=t.return;try{tl(t)}catch(l){bu(t,o,l)}break;case 5:var a=t.return;try{tl(t)}catch(l){bu(t,a,l)}}}catch(l){bu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var wl,Sl=Math.ceil,kl=w.ReactCurrentDispatcher,bl=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,El=0,Fl=null,Pl=null,Dl=0,xl=0,Ml=Rr(0),Al=0,Tl=null,Ll=0,Il=0,Ol=0,Nl=null,Gl=null,Bl=0,Hl=1/0,Vl=null,Wl=!1,zl=null,_l=null,Ul=!1,jl=null,Zl=0,Kl=0,ql=null,Ql=-1,Yl=0;function Xl(){return 0!==(6&El)?Xe():-1!==Ql?Ql:Ql=Xe()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Dl?Dl&-Dl:null!==_r.transition?(0===Yl&&(Yl=pt()),Yl):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function $l(e,t,n){if(50<Kl)throw Kl=0,ql=null,Error(o(185));var i=eu(e,t);return null===i?null:(mt(i,t,n),0!==(2&El)&&i===Fl||(i===Fl&&(0===(2&El)&&(Il|=t),4===Al&&au(i,Dl)),nu(i,n),1===t&&0===El&&0===(1&e.mode)&&(Hl=Xe()+500,Hr&&zr())),i)}function eu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tu(e){return(null!==Fl||null!==eo)&&0!==(1&e.mode)&&0===(2&El)}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=ht(e,e===Fl?Dl:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Hr=!0,Wr(e)}(su.bind(null,e)):Wr(su.bind(null,e)),ar((function(){0===El&&zr()})),n=null;else{switch(wt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Du(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,Yl=0,0!==(6&El))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var i=ht(e,e===Fl?Dl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=pu(e,i);else{t=i;var r=El;El|=2;var a=fu();for(Fl===e&&Dl===t||(Vl=null,Hl=Xe()+500,du(e,t));;)try{mu();break}catch(l){hu(e,l)}Qr(),kl.current=a,El=r,null!==Pl?t=0:(Fl=null,Dl=0,t=Al)}if(0!==t){if(2===t&&(0!==(r=vt(e))&&(i=r,t=ru(e,r))),1===t)throw n=Tl,du(e,0),au(e,i),nu(e,Xe()),n;if(6===t)au(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=pu(e,i))&&(0!==(a=vt(e))&&(i=a,t=ru(e,a))),1===t))throw n=Tl,du(e,0),au(e,i),nu(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:wu(e,Gl,Vl);break;case 3:if(au(e,i),(130023424&i)===i&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){Xl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wu.bind(null,e,Gl,Vl),t);break}wu(e,Gl,Vl);break;case 4:if(au(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=ir(wu.bind(null,e,Gl,Vl),i);break}wu(e,Gl,Vl);break;default:throw Error(o(329))}}}return nu(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function ru(e,t){var n=Nl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=pu(e,t))&&(t=Gl,Gl=n,null!==t&&ou(t)),e}function ou(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function au(e,t){for(t&=~Ol,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function su(e){if(0!==(6&El))throw Error(o(327));Su();var t=ht(e,0);if(0===(1&t))return nu(e,Xe()),null;var n=pu(e,t);if(0!==e.tag&&2===n){var i=vt(e);0!==i&&(t=i,n=ru(e,i))}if(1===n)throw n=Tl,du(e,0),au(e,t),nu(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Gl,Vl),nu(e,Xe()),null}function lu(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Hl=Xe()+500,Hr&&zr())}}function uu(e){null!==jl&&0===jl.tag&&0===(6&El)&&Su();var t=El;El|=1;var n=Rl.transition,i=Ct;try{if(Rl.transition=null,Ct=1,e)return e()}finally{Ct=i,Rl.transition=n,0===(6&(El=t))&&zr()}}function cu(){xl=Ml.current,Er(Ml)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(Mo(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Lr();break;case 3:ta(),Er(xr),Er(Dr),sa();break;case 5:ia(i);break;case 4:ta();break;case 13:case 19:Er(ra);break;case 10:Yr(i.type._context);break;case 22:case 23:cu()}n=n.return}if(Fl=e,Pl=e=Tu(e.current,null),Dl=xl=t,Al=0,Tl=null,Ol=Il=Ll=0,Gl=Nl=null,null!==eo){for(t=0;t<eo.length;t++)if(null!==(i=(n=eo[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}eo=null}return e}function hu(e,t){for(;;){var n=Pl;try{if(Qr(),la.current=ns,va){for(var i=da.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}va=!1}if(ca=0,fa=ha=da=null,pa=!1,ga=0,bl.current=null,null===n||null===n.return){Al=1,Tl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Dl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ps(s);if(null!==v){v.flags&=-257,gs(v,s,l,0,t),1&v.mode&&vs(a,c,t),u=c;var p=(t=v).updateQueue;if(null===p){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}if(0===(1&t)){vs(a,c,t),vu();break e}u=Error(o(426))}else if(Lo&&1&l.mode){var m=ps(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,l,0,t),zo(u);break e}}a=u,4!==Al&&(Al=2),null===Nl?Nl=[a]:Nl.push(a),u=as(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,so(l,hs(0,u,t));break e;case 1:a=u;var y=l.type,C=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===_l||!_l.has(C)))){l.flags|=65536,t&=-t,l.lanes|=t,so(l,fs(l,a,t));break e}}l=l.return}while(null!==l)}Cu(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fu(){var e=kl.current;return kl.current=ns,null===e?ns:e}function vu(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Fl||0===(268435455&Ll)&&0===(268435455&Il)||au(Fl,Dl)}function pu(e,t){var n=El;El|=2;var i=fu();for(Fl===e&&Dl===t||(Vl=null,du(e,t));;)try{gu();break}catch(r){hu(e,r)}if(Qr(),El=n,kl.current=i,null!==Pl)throw Error(o(261));return Fl=null,Dl=0,Al}function gu(){for(;null!==Pl;)yu(Pl)}function mu(){for(;null!==Pl&&!Qe();)yu(Pl)}function yu(e){var t=wl(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?Cu(e):Pl=t,bl.current=null}function Cu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Cs(n,t,xl)))return void(Pl=n)}else{if(null!==(n=js(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function wu(e,t,n){var i=Ct,r=Rl.transition;try{Rl.transition=null,Ct=1,function(e,t,n,i){do{Su()}while(null!==jl);if(0!==(6&El))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Fl&&(Pl=Fl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ul||(Ul=!0,Du(tt,(function(){return Su(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Rl.transition,Rl.transition=null;var s=Ct;Ct=1;var l=El;El|=4,bl.current=null,function(e,t){if(er=Ut,fi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==a||0!==i&&3!==h.nodeType||(u=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(v=h.firstChild);)f=h,h=v;for(;;){if(h===e)break t;if(f===n&&++c===r&&(l=s),f===a&&++d===i&&(u=s),null!==(v=h.nextSibling))break;f=(h=f).parentNode}h=v}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ut=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,C=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ur(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var S=w.body;null!=S&&(S.textContent="")}break;default:throw Error(o(163))}}catch(k){bu(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}p=Js,Js=!1}(e,n),fl(n,e),vi(tr),Ut=!!er,tr=er=null,e.current=n,pl(n,e,r),Ye(),El=l,Ct=s,Rl.transition=a}else e.current=n;if(Ul&&(Ul=!1,jl=e,Zl=r),0===(a=e.pendingLanes)&&(_l=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nu(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i(t[n]);if(Wl)throw Wl=!1,e=zl,zl=null,e;0!==(1&Zl)&&0!==e.tag&&Su(),0!==(1&(a=e.pendingLanes))?e===ql?Kl++:(Kl=0,ql=e):Kl=0,zr()}(e,t,n,i)}finally{Rl.transition=r,Ct=i}return null}function Su(){if(null!==jl){var e=wt(Zl),t=Rl.transition,n=Ct;try{if(Rl.transition=null,Ct=16>e?16:e,null===jl)var i=!1;else{if(e=jl,jl=null,Zl=0,0!==(6&El))throw Error(o(331));var r=El;for(El|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:$s(8,d,a)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,v=d.return;if(nl(d),d===c){Qs=null;break}if(null!==f){f.return=v,Qs=f;break}Qs=v}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:$s(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var C=e.current;for(Qs=C;null!==Qs;){var w=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Qs=w;else e:for(s=C;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(k){bu(l,l.return,k)}if(l===s){Qs=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Qs=S;break e}Qs=l.return}}if(El=r,zr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(k){}i=!0}return i}finally{Ct=n,Rl.transition=t}}return!1}function ku(e,t,n){oo(e,t=hs(0,t=as(n,t),1)),t=Xl(),null!==(e=eu(e,1))&&(mt(e,1,t),nu(e,t))}function bu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===_l||!_l.has(i))){oo(t,e=fs(t,e=as(n,e),1)),e=Xl(),null!==(t=eu(t,1))&&(mt(t,1,e),nu(t,e));break}}t=t.return}}function Ru(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Xl(),e.pingedLanes|=e.suspendedLanes&n,Fl===e&&(Dl&n)===n&&(4===Al||3===Al&&(130023424&Dl)===Dl&&500>Xe()-Bl?du(e,0):Ol|=n),nu(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Xl();null!==(e=eu(e,t))&&(mt(e,t,n),nu(e,n))}function Fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Eu(e,n)}function Du(e,t){return Ke(e,t)}function xu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,i){return new xu(e,t,n,i)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tu(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Au(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case b:return Iu(n.children,r,a,t);case R:s=8,r|=8;break;case E:return(e=Mu(12,n,t,2|r)).elementType=E,e.lanes=a,e;case x:return(e=Mu(13,n,t,r)).elementType=x,e.lanes=a,e;case M:return(e=Mu(19,n,t,r)).elementType=M,e.lanes=a,e;case L:return Ou(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case F:s=10;break e;case P:s=9;break e;case D:s=11;break e;case A:s=14;break e;case T:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Iu(e,t,n,i){return(e=Mu(7,e,i,t)).lanes=n,e}function Ou(e,t,n,i){return(e=Mu(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={},e}function Nu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Hu(e,t,n,i,r,o,a,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function Vu(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Wu(e){if(!e)return Pr;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Tr(n))return Or(e,n,t)}return t}function zu(e,t,n,i,r,o,a,s,l){return(e=Hu(n,i,!0,e,0,o,0,s,l)).context=Wu(null),n=e.current,(o=ro(i=Xl(),r=Jl(n))).callback=void 0!==t&&null!==t?t:null,oo(n,o),e.current.lanes=r,mt(e,r,i),nu(e,i),e}function _u(e,t,n,i){var r=t.current,o=Xl(),a=Jl(r);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=ro(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),oo(r,t),null!==(e=$l(r,a,o))&&ao(e,r,a),a}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ju(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zu(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xr.current)Ss=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ss=!1,function(e,t,n){switch(t.tag){case 3:As(t),Wo();break;case 5:na(t);break;case 1:Tr(t.type)&&Nr(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Fr(jr,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Fr(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Fr(ra,1&ra.current),null!==(e=Us(e,t,n))?e.sibling:null);Fr(ra,1&ra.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return _s(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Fr(ra,ra.current),i)break;return null;case 22:case 23:return t.lanes=0,Fs(e,t,n)}return Us(e,t,n)}(e,t,n);Ss=0!==(131072&e.flags)}else Ss=!1,Lo&&0!==(1048576&t.flags)&&Do(t,So,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var r=Ar(t,Dr.current);Jr(t,n),r=wa(null,t,i,e,r,n);var a=Sa();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(i)?(a=!0,Nr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,no(t),r.updater=fo,t.stateNode=r,r._reactInternals=t,mo(t,i,e,n),t=Ms(null,t,i,!0,a,n)):(t.tag=0,Lo&&a&&xo(t),ks(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===A)return 14}return 2}(i),e=Ur(i,e),r){case 0:t=Ds(null,t,i,e,n);break e;case 1:t=xs(null,t,i,e,n);break e;case 11:t=bs(null,t,i,e,n);break e;case 14:t=Rs(null,t,i,Ur(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ds(e,t,i,r=t.elementType===i?r:Ur(i,r),n);case 1:return i=t.type,r=t.pendingProps,xs(e,t,i,r=t.elementType===i?r:Ur(i,r),n);case 3:e:{if(As(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,io(e,t),lo(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ts(e,t,i,n,r=Error(o(423)));break e}if(i!==r){t=Ts(e,t,i,n,r=Error(o(424)));break e}for(To=ur(t.stateNode.containerInfo.firstChild),Ao=t,Lo=!0,Io=null,n=qo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Wo(),i===r){t=Us(e,t,n);break e}ks(e,t,i,n)}t=t.child}return t;case 5:return na(t),null===e&&Bo(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),Ps(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&Bo(t),null;case 13:return Ns(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ko(t,null,i,n):ks(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,bs(e,t,i,r=t.elementType===i?r:Ur(i,r),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Fr(jr,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!xr.current){t=Us(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=ro(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Xr(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Xr(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ks(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Jr(t,n),i=i(r=$r(r)),t.flags|=1,ks(e,t,i,n),t.child;case 14:return r=Ur(i=t.type,t.pendingProps),Rs(e,t,i,r=Ur(i.type,r),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ur(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Tr(i)?(e=!0,Nr(t)):e=!1,Jr(t,n),po(t,i,r),mo(t,i,r,n),Ms(null,t,i,!0,e,n);case 19:return _s(e,t,n);case 22:return Fs(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function $u(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Uu(a);s.call(e)}}_u(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Uu(a);o.call(e)}}var a=zu(t,i,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[vr]=a.current,zi(8===e.nodeType?e.parentNode:e),uu(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Uu(l);s.call(e)}}var l=Hu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[vr]=l.current,zi(8===e.nodeType?e.parentNode:e),uu((function(){_u(t,l,n,i)})),l}(n,t,e,r,i);return Uu(a)}Qu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));_u(e,t,null,null)},Qu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){_u(null,e,null,null)})),t[vr]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Gt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nu(t,Xe()),0===(6&El)&&(Hl=Xe()+500,zr()))}break;case 13:var i=Xl();uu((function(){return $l(e,1,i)})),Zu(e,1)}},kt=function(e){13===e.tag&&($l(e,134217728,Xl()),Zu(e,134217728))},bt=function(e){if(13===e.tag){var t=Xl(),n=Jl(e);$l(e,n,t),Zu(e,n)}},Rt=function(){return Ct},Et=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Sr(i);if(!r)throw Error(o(90));K(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},De=lu,xe=uu;var ec={usingClientEntryPoint:!1,Events:[Cr,wr,Sr,Fe,Pe,lu]},tc={findFiberByHostInstance:yr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{rt=ic.inject(nc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return Vu(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(o(299));var n=!1,i="",r=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Hu(e,1,!1,null,0,n,0,i,r),e[vr]=t.current,zi(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return uu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return $u(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,r,0,a,s),e[vr]=t.current,zi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return $u(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(uu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[vr]=null}))})),!0)},t.unstable_batchedUpdates=lu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $u(e,t,n,!1,i)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var i=n(4164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var i=n(2791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:o,_owner:s.current}}t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function y(){}function C(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=C.prototype=new y;w.constructor=C,p(w,m.prototype),w.isPureReactComponent=!0;var S=Array.isArray,k=Object.prototype.hasOwnProperty,b={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!R.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:b.current}}function F(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+D(l,0):o,S(a)?(r="",null!=e&&(r=e.replace(P,"$&/")+"/"),x(a,t,r,"",(function(e){return e}))):null!=a&&(F(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",S(e))for(var u=0;u<e.length;u++){var c=o+D(s=e[u],u);l+=x(s,t,r,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=x(s=s.value,t,r,c=o+D(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var i=[],r=0;return x(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},L={transition:null},I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:L,ReactCurrentOwner:b};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!F(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=a,t.PureComponent=C,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!R.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=F,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<r&&0>o(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>o(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,f=3,v=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,C="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function S(e){if(g=!1,w(e),!p)if(null!==i(u))p=!0,L(k);else{var t=i(c);null!==t&&I(S,t.startTime-e)}}function k(e,n){p=!1,g&&(g=!1,y(F),F=-1),v=!0;var o=f;try{for(w(n),h=i(u);null!==h&&(!(h.expirationTime>n)||e&&!x());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(u)&&r(u),w(n)}else r(u);h=i(u)}if(null!==h)var l=!0;else{var d=i(c);null!==d&&I(S,d.startTime-n),l=!1}return l}finally{h=null,f=o,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var b,R=!1,E=null,F=-1,P=5,D=-1;function x(){return!(t.unstable_now()-D<P)}function M(){if(null!==E){var e=t.unstable_now();D=e;var n=!0;try{n=E(!0,e)}finally{n?b():(R=!1,E=null)}}else R=!1}if("function"===typeof C)b=function(){C(M)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=M,b=function(){T.postMessage(null)}}else b=function(){m(M,0)};function L(e){E=e,R||(R=!0,b())}function I(e,n){F=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,L(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(g?(y(F),F=-1):g=!0,I(S,o-a))):(e.sortIndex=s,n(u,e),p||v||(p=!0,L(k))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9984:function(e,t,n){"use strict";e.exports=n.p+"static/media/jezuch logo.02cc06340f55ae908174.png"},3914:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgCAMAAADsrvZaAAAAM1BMVEXj4+O+vr7U1NTIyMjZ2dnQ0NDX19e8vLzGxsbNzc3c3NzDw8PBwcHLy8ve3t7S0tLh4eGMubLfAAATgUlEQVR4XuzTyQ0CMRAAQT9mfOxJ/tEiB8AHwWOt6oqhiwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVnRF1MwcfdY+1mcjM2vEVcTaIu75xNG+7Ji33BFFrCRqjr63H7b3kTVeRTzZVvPs7Y/1M+tWxNO82bPX3NhBGIDCBgJmEvPY/2rv/VNp1KodTdKZEnK+PRxh7DXFbPomlk+TCbC0sukf2EpbZGygDdM/ZUNWAlR/23QQ281XGQWwtuB0MC60VQYF4iASoN7FMXAkVd4N6KmYnoSV1OVtgLVlPZn8nmkLSMX0lKwkeSWg++D0xFzwXV4F1KETGKERUAeNgDpoBEhFp3T8zw6sxem0XFllN6A208nZzkM7kIJeQkjyJKBG08uwWOU48HjwjAA9ml6QxS6PAGvRy3qw1AJ81kvLXr4B9GZ6eda6fAXUm9P/4G5VPgF5FP0ALfeJAEvQe9CwEMAH8sj6BfK4iYA8SATkQSIgDxIBeZAIyINEwN0D3EXQn8wDpctVoEenT4KLF0kE3nQHmJf5Ydl0J2yLzA016AEIVeaFHvUgzPsVQTI9DJZkRqhZfwVyFTBdgTnrB0xXYM5idwX2WWj/2LvXXcdtJAqjTV1pSZb4/k87QBDEyKDp9nFsSaSWgA/5Gxxjd9WuGzXOv0DYCKAKJub8S0R35iqAOf8iPQEUzmSw5KvMgojwAUFE+IAgInxAEMHfrMLHbsx6Inof0BOph6R1vjOt6ayC6ISP3Qm2DYvhRgBHcCMA7hwKvoXTcOeHEdw9cREO7svpnUOaJb2CNEv1CqpZ+IskvToJMyOiOQhNw6LYCOBMmM1S3YV6L/sBRqR8JvbjhAQdkZPQEMA50RHR/YCOiNUoWKNiz8Gqs+dg1XXPoasO5SvFLDgM57Ac3sV0STHcCcD0FUxmKe9CuZc+QCFuM8A1B+1BaBnSBygE9EEhoA8KgdtwrsrB+BUMZtEHKIQ+QCH0AQqhD1AIfYBC9D+gHwL6oBDQB4WAPkAh9AEKsT8IO4b0AQqhD1CI+1dwL4s+QCHui8JVUhjAMpaF1+kIoHY6AtAghIbhN0j0cQGCYq8GCLRDPk9LANegJQDvn8N76gq8UOzdi4kAroRSlgIWlLIUsKCUZUIR5haPZSOA67ERgAksmMpi0MGofxUG/aLMBKCDDh11HXToqFsBgeUQHULoF+oQQr+QAQEbwoCgeMJKBzog0A3RAYFuiBEsGMoyggVDWY6YwJkTOyCwG1ImqwQLar0qvFDr9QwIPBziChZcypJgQZIlwYIkS4IFSZYEC5IsCRYkWRIsQJL1F5EA8HvixwVgBgtmssxgwUyWIXfA4PtAAHjGcG19pIUA8IwlaYEAv0UzZCUA/IlVCwTQDOHQwadz6ODTOXTw6Rw6+HQ9dOinu8SL0umsEQKWC70lBe9OKfFCqVeJF0q93gKBN0O89owSuOsRArqFAgiEED1C6BZaA4HFEAEEQogAAiFEAIEQIoBACBFAamKOse/7pvu/r+n7PkYjz/+mE0AuwxL7vnvBdnZd38fLjHYKIR1phNg3P375Ymr6GCikE0DqJt6G/zAysQ63KIQIIJUS++4jMbiPQkhlCCDL7aPnz4bbIoTUggASty9Moq5bFELKx6mftvnaqk9qWieASsYeyLx9eREubbO9EHsgpfqOXX7LtUA/Yi9EAGl3PEo+tEJIDdyu0wvsd/4V1/46XcSbUyaFsxxy5qxZHDgpm+0iRd3DHnwZLlL43SoVyHIJeRxap+8uIZHlctd4yYNEXOqN5JGFRMybTNUH/tMMQXTV2/VJk7A0wqnCfhM0Cwsj1a2P/mSlx1T5+fzkvYOSiCds7q7RawinQI13OelL98Oi0lsMQ8WTD6cN96ni2Z7BIkgZzKde4OlmayHmeE+ZC/N+ZnpZ9KWAevy0sOks+sncByfCprPooRifOAQ2fW9Y9HktyALObHqhFt1am2VONn27UHolzbI3xaLPBU6TTjObvg8G3dsiR+VSa+i9uEF39oMRMfQe7Ht+A1vPQRPkfISijyd3QSvkm8iwwlS4HwxyLKuER3QH9QwtFsp75wp+kDRfww8aM6EPCmmrzrDog0LkWA19nI4U5VifRoY1f14AYogcK4kfFHJQjiXDog8KaarNsOiDQuRYqXZ9UIgcS4YVqnw2cg1yLBnWl+evzGXJsUy6d78q/braZ95NuovhMuChzkl3+4N2DM28L1LcLEyi2w2TAm8exV63GzYFrDxKWe5jRQYwi0KKR6ETg56HUddMH0y4F8FccZxX5DVhYubkXl2RlwER6hV612oNCBviIQRF3iVdRyBpqbbQq0mr/aSl25rkzeMRVc8QB3MmKrxqve+FexbEDojdkI0FUcFSyXrLhLAgKlgqWYEF0SLULnzPhLAgxkMNX281WRCNWaMPTEiosQWiGcKEGMQK6aoCSeFqUd9BGWd+/Gqq6manbSjc6plc0EPXTzcbpMS7L0q9JnveQwDxw2kTCiBCyOZeQx4BRAi511INEUCEEC5dANkbIUScFkCEkPdcOo9uzN3Y+1aHR9dEZyC59Nk8Tx4TWVy6kemiCVy6dVt7IHl6a7dsnkXCPKsSi820w7Y27UvLAKIar0pvMV0sdUI1Xr+gIpZjihZCKyhisehsujLWoM2UR6uXi+xN8uQxTaeMdffWdvEk01iHVHk1QbRC1HnNKR6DicXiBSLDkmMRSCc4H4NEuVPlzaOGpY41qPLm0SXUK+yNKeQxh2Ue61Z68uoPax6LlZzlrnnMvJsXUh48IX5IAlHklStrg7jWsB+9RgiBuMjrl9RgYkHeo6qGr8DMgjAhfa3lc12Qrm//qY/Pbf9eruCnVPuosQuSmt9sX7RN0gn5KbE+gRjEmrIbmPeuvnEsAlncrP4J3dOIG7varlgbqhOWf0D64/7+PXHpP6Aqgah8DOGFADeoSL5OTWsE1tHvZz/W0fCTh7Vf3eNLL489z+mwG5la6QRyoD5OrxACUTtfDtLHjypEYVWSPKanxdfFA+PH6WNIvHzFhUD6MtYu5+v8mgRCIPdCDs8SiAG3rhSjNtRQcjGtGAnkowb9QUgEsr+jJJBy3oe4X6HOSyAE0hUT7AiEQOaCgmys/8gZgYjJXUFTMX5OMfkYB1KGC2EpCaQv6mWaVHkjhEAIpClpNJ9ACKSo1zFbAiGQfWnKCrF1r0wRiEZ6V+D/7m4QCIH0RVkmAiGQ/S1IQSaEQAikrNb0XLVACIRACjChBEIgBEIgBEIgBFLY3TgCSdcWCIEkAslCIATCg/AgBEIgBEIgBEIgBEIgGoUEQiBGTQiEQAwrEgiBGHcnEAKxMGVhikCs3Fq5JRACcbSBQAjE2R8CcTjO4TgCcatyD6YP17AIxG1ex6sdryYQzx94/oBACMQDOgSile4JNgLxiKdHPD3i6eFgz0D7NQmkgOrQfKFfk0DYuvRDhcypDkdJIENpAlkOuo8UzmPQ8yxHCuBAo3a8rTOckObTxI88o5ILgUynV8icqvkxCWQdrUy9yv3D9SvrUuP6q6JxXr5ueMGIhEHF5XV+VSUQzdf0xyByT4eORRCIwkc41rPFp+I91nQGJUml88Pz1i4bRe4TP/kzYo0CUTtPzW8uObRNqrGnRSC30YDbG3R9+0/Zd277HVIrP+Ux9OJyLUQVyS+wjUofx6AgOW4FCKQbK2i/wi9JIM8Ds68nEIGZCckTJcsEwoT4IYs+pWSLQBfkdWaRebfyue8mV/aHzY/w+Bb/0Cl+ZMexfOuoHCl3zTaYfNvIS2qEKPRmiaM2iPJg7mUaXxpVeQkku5juawhEcM6/julrJcpf4y7HOgIZ1t2QmzqWGlaevv4ZBVMK9c8LmRiaxlGvUJdwfyZjoOaxjAvlMcXzDuax/ILqvGbeucgx2tXUCtEEydNbtWHTWfR3UgBlLLcbWPRxss28yxVrXyhTINpMJhbNKf6g1WsaS6VXjffB3SQPm6fEkmdztFIlXRcrT+fmmD+yjek80lghRAB5y6Nz6UKIAHK3byOECCAf9uhcuhDih+PShRABZLSymUcIEUBm8247sWiiWwg1z2Miy69mpeA9QrqqPlIoVyCrkWl7ITZBswRbm1YLRf08rdN8OxKVeLUJrd0+YTDmbt2WCcmzXNCnp2VkQZiQF7m51MCCMCFP6PTQWRAmJM/snDsLwoQ8odcCqcGCMCHqIsL92HqkSCVLBSvPpjGrkqWClWc1O30EgxahDQWXG/KEi8xkraFwgdzNLqj1qvDmGby1zYYwIHmS8VA2RJzPEr1Gfxih+m7IFIoXyKb9dBxz5d2QNI/Ff5MjGZq0xh1eL/Iq9DLqDPqDOwPooIwzP3kGz0HaDbEDkiVIcZWyFLDytGK4mRMTJi9lwJrpir0KvK+30eVYFEIfbb11EgqhDzXGNFIIfRySYcmxzL7TR1tzL0oMoQ9d3DRSCH0ckGHJsSiEPlrzPidTCH3IsORYeebie+rrPI4yLDPv3yJM5q9Mupt5zxOKnu3tHvow6W7m/Ts0/KBJdznWE272B2VYbjc8oS3SG6azFtwd4F9qU8hcoFWfMuUr1xrcx/o8oTh7OISxtm/zQj0jwn7kWV1f0jPUHczSuv9aQJolvdIEYdNz3IqoZqVHesWie0R1V5YCqlnTDjVEzxCz6Rl6/zSx6Gz6E+ZTz2Z1D3fOorPpnEjGfbDobPqBLCf9sYaH+2DR2fQjiesJbV98CID3s1h4MP3J8qyUMedWCQ29H0M41ZpIk2kNGnQ39H4Yy2nqWV3GfBh09yj0ocRTSKS7wB/ae19FS4Q8bD2r9OYlQh5qvPam8sTD2iJDRh42pcoghfEa33JICtAs4zW+kLzKXTqh37l1uN4yhV3LnGZ6z0m7Y6Y1ZGZBzfFqFp6Y5bbuEzyKyq00CYWQB/OWvuzrtsdAuwBiLaRA2uZrGklNkamVRZA83XjFL25fsOzrFscrfpk+k3mT0v3IRz37kPMdpkyEkGKJffeRKNw/QocAIoTURbwN/8FkrsPtIQ4BRAipkxD7Zvpx3Gj6+OgFCiBCSO0sse+77gVldH0fM45DABFCqmeOse/7pvv7m/7+b9P3fYyHNDkEECEEAogQAgFECIEAUn8IAQQQIQQCiBACAcReCOyB2AuBPRAhBAKIAydwysRrCPDeQT0k43f4AcvbAcSlXrjGWyMGVfEycwEC0C2EHqETQHDqR7cQeoRKvVDiVeqFEm+9DASAPzMULQCLIbAGwqeDQ+fTwaHz6eDQ+XRw6Prp0EOvn9XqFLKE9dflv40AkGOjD80QaIE8ZSIA/J6JOjRDoAViuRDWCCVZkGBJsiDBkmRBgiXJggRLkgUJliQLEiwzWTCDZSYLMINl8B2G3L0ZAm+BuNYLl3j34zb6MN4oQa0XKrxqvVDh9e4UvCXlfWh47fkcJDbk0syJBp4zsSEXJpjhZUPAgOiGQAdENwQ6IIayYATLUBaMYNkNgR0Q/ULoEOoXQoeQUfcx6HApC65g6ahDB11HHTrozpzAEROlLChgKWVBActyCKyAmMqCCSzFXijwwsMhngGBuUWYUKQQ0Id2CDRAKAT0QSGgDw1DaBBSCOiDQkAfoBD6AIXQB4xlwQAWhYA+KAT0QSGgDwoBfVAI6ONCNKq9BRPoQz8E+h8UAvqgENAHhYA+qmOyQVUcM33YMYT9QQoBfRRAcg2oIO704V4W3L9ylRTuixrMgvGrOug0RE5P6AhAyxDag8q9UN4tj9QSwHlp6cN76vD+uWIWlK9YdbDnrDrYc5NZMH2Ff7ERwJnYCOAb6KrrnoMRYT+gI6L7AVfl4Dacaw5wm0G9F6q70ixIr3yrNOsg5pUAVLOgeqVpCM1Ba1SwGnVdNkFkR4LZK14d3LnDcnAYTl8deucQRIQPCCLCBwQR4QPfY4oE8B2i8KEnAr2P+lk11j9Oq/dRE8NCAJ9kMXlVGYlZ/yC9yav6WJn1DxFlV/Is5FgGApBnQXalnoUf8z927ii3YRAIgGjBQBdYwPc/baT0r0orO3EcMPPxjjDCuyCzu7o8lwngWZnd1Qwso8hT1BLAHFZvCGAvw/DB/+XAH+Hwo5LIDoXZfD5OCGAbYTYnEZAHSIQ8QCLkARIhD5AIeaALjidavyzkAe5FuPfAZjXyAOXORPLAI2tT8tC2EgD+Yief18USAP6VJh5GSiIAbHgNrzPWobxnx1ZhurXvEggAO9SZjhH17K3AMcLhgWPV6+99tXF44AWpmOvWYVhb4XXhoovfwlyOY6z2cuPIYvtZ6oJGqAM0Qh2gkaFndkMdeLdQdMw6lKkc50hNRqtDGhtdnGgd6CDREhg7cL7a+p9IzMJVOT4odRyJWfiuApEQB/pXbcy9xJGjrQSA/rhWPlxJLs0RAKiENjCyFLzoWWmo+DDkwAEyKfLONKSQBobngo9y6HCSJfrgbu3WQQqAIABE0YLRDELvf9v0AG1aynvr2X6YYyeQjFnK/+v1tNnFyO5hQE9qKbOW5by+tOWew5r0Y0MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALzmEwOmV3y6IAAAAABJRU5ErkJggg=="},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var i=n(3897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var i=n(8698).default;function r(){"use strict";e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var r=t&&t.prototype instanceof C?t:C,o=Object.create(r.prototype),a=new T(i||[]);return s(o,"_invoke",{value:D(e,n,a)}),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var p="suspendedStart",g="executing",m="completed",y={};function C(){}function w(){}function S(){}var k={};h(k,u,(function(){return this}));var b=Object.getPrototypeOf,R=b&&b(b(L([])));R&&R!==o&&a.call(R,u)&&(k=R);var E=S.prototype=C.prototype=Object.create(k);function F(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(r,o,s,l){var u=v(e[r],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==i(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var r;s(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}})}function D(e,n,i){var r=p;return function(o,a){if(r===g)throw Error("Generator is already running");if(r===m){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===y)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=g;var u=v(e,n,i);if("normal"===u.type){if(r=i.done?m:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=m,i.method="throw",i.arg=u.arg)}}}function x(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var o=v(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=S,s(E,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:w,configurable:!0}),w.displayName=h(S,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,h(e,d,"GeneratorFunction")),e.prototype=Object.create(E),e},n.awrap=function(e){return{__await:e}},F(P.prototype),h(P.prototype,c,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,i,r,o){void 0===o&&(o=Promise);var a=new P(f(e,t,i,r),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},F(E),h(E,d,"Generator"),h(E,u,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=L,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:L(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),y}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var i=n(5372),r=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var i=n(3405),r=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var i=n(3897);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var i=n(7061)();e.exports=i;try{regeneratorRuntime=i}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},907:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:function(){return i}})},3878:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(9142);function r(e,t,n){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(null,arguments)}n.d(t,{Z:function(){return i}})},9199:function(e,t,n){"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return i}})},5267:function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return i}})},3366:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}n.d(t,{Z:function(){return i}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(3878);var r=n(181),o=n(5267);function a(e,t){return(0,i.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(e,t)||(0,r.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(907);var r=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||(0,r.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(1002);function r(e){var t=function(e,t){if("object"!=(0,i.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=(0,i.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.Z)(t)?t:t+""}},1002:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:function(){return i}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(907);function r(e,t){if(e){if("string"==typeof e)return(0,i.Z)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return i[e]}}));return a.default=function(){return i},n.d(o,a),o}}(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/radio-jezuch/",function(){"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:function(){return jh},hasStandardBrowserEnv:function(){return Zh},hasStandardBrowserWebWorkerEnv:function(){return Kh},origin:function(){return qh}});var t=n(2791),i=n(1250),r=n(9439),o=n(3433);function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=s(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},l.apply(null,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var h=n(1002);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(t&&("object"==(0,h.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function p(e){var t=d();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}var g=n(4942);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var w=n(9142);function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,w.Z)(i.key),i)}}function k(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){b(o,i,r,a,s,"next",e)}function s(e){b(o,i,r,a,s,"throw",e)}a(void 0)}))}}function E(e,t,n){if(d())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&u(r,n.prototype),r}var F=n(3366);function P(e,t){if(null==e)return{};var n,i,r=(0,F.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var D=n(181);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,D.Z)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var M=n(4687),A=n.n(M),T=["key"],L=function(){function e(){C(this,e),this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return k(e,[{key:"setFrameworkOverrides",value:function(e){this.frameworkOverrides=e}},{key:"getListeners",value:function(e,t,n){var i=t?this.allAsyncListeners:this.allSyncListeners,r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}},{key:"noRegisteredListenersExist",value:function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}},{key:"addEventListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.getListeners(e,n,!0).add(t)}},{key:"removeEventListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getListeners(e,n,!1);if(i&&(i.delete(t),0===i.size)){var r=n?this.allAsyncListeners:this.allSyncListeners;r.delete(e)}}},{key:"addGlobalListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}},{key:"removeGlobalListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}},{key:"dispatchEvent",value:function(e){var t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}},{key:"dispatchEventOnce",value:function(e){this.firedEvents[e.type]||this.dispatchEvent(e)}},{key:"dispatchToListeners",value:function(e,t){var n,i=this,r=e.type;if(t&&"event"in e){var o=e.event;o instanceof Event&&(e.eventPath=o.composedPath())}var a,s=null!==(n=this.getListeners(r,t,!1))&&void 0!==n?n:new Set,l=new Set(s);l.size>0&&(a=s,l.forEach((function(n){if(a.has(n)){var r=i.frameworkOverrides?function(){return i.frameworkOverrides.wrapIncoming((function(){return n(e)}))}:function(){return n(e)};t?i.dispatchAsync(r):r()}}))),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(n){var o=i.frameworkOverrides?function(){return i.frameworkOverrides.wrapIncoming((function(){return n(r,e)}))}:function(){return n(r,e)};t?i.dispatchAsync(o):o()}))}},{key:"dispatchAsync",value:function(e){var t=this;if(this.asyncFunctionsQueue.push(e),!this.scheduled){var n=function(){window.setTimeout(t.flushAsyncQueue.bind(t),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(n):n(),this.scheduled=!0}}},{key:"flushAsyncQueue",value:function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((function(e){return e()}))}}]),e}();function I(e){if(e&&e.length)return e[e.length-1]}function O(e,t,n){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((function(e,i){return n?n(e,t[i]):t[i]===e}))}function N(e,t){var n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.pop())}function G(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function B(e,t,n){e.splice(n,0,t)}function H(e,t,n){!function(e,t){for(var n=0;n<t.length;n++)G(e,t[n])}(e,t),t.slice().reverse().forEach((function(t){return B(e,t,n)}))}function V(e,t){return e.indexOf(t)>-1}function W(e,t){null!=t&&null!=e&&t.forEach((function(t){return e.push(t)}))}var z="__ag_Grid_Stop_Propagation",_=["touchstart","touchend","touchmove","touchcancel","scroll"],U={};function j(e){e[z]=!0}function Z(e){return!0===e[z]}var K=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t){if("boolean"===typeof U[t])return U[t];var n=document.createElement(e[t]||"div");return U[t="on"+t]=t in n}}();function q(e,t,n){for(var i=t;i;){var r=e.getDomData(i,n);if(r)return r;i=i.parentElement}return null}function Q(e,t){return!(!t||!e)&&function(e){var t=e;if(t.path)return t.path;if(t.composedPath)return t.composedPath();return function(e){var t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}(t)}(t).indexOf(e)>=0}var Y=function(){function e(){var t=this;C(this,e),this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=function(){return!t.destroyed}}return k(e,[{key:"preWireBeans",value:function(e){this.gridId=e.context.getGridId(),this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}},{key:"getFrameworkOverrides",value:function(){return this.frameworkOverrides}},{key:"destroy",value:function(){for(var e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}},{key:"addEventListener",value:function(e,t){this.localEventService||(this.localEventService=new L),this.localEventService.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}},{key:"dispatchLocalEvent",value:function(e){this.localEventService&&this.localEventService.dispatchEvent(e)}},{key:"addManagedElementListeners",value:function(e,t){return this._setupListeners(e,t)}},{key:"addManagedEventListeners",value:function(e){return this._setupListeners(this.eventService,e)}},{key:"addManagedListeners",value:function(e,t){return this._setupListeners(e,t)}},{key:"_setupListeners",value:function(e,t){var n=[];for(var i in t){var r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}},{key:"_setupListener",value:function(e,t,n){var i=this;if(this.destroyed)return function(){return null};e instanceof HTMLElement?function(e,t,n,i){var r=V(_,n)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,n,i,r)}(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var r=function(){return e.removeEventListener(t,n),null};return this.destroyFunctions.push(r),function(){return r(),i.destroyFunctions=i.destroyFunctions.filter((function(e){return e!==r})),null}}},{key:"setupGridOptionListener",value:function(e,t){var n=this;this.gos.addPropertyEventListener(e,t);var i=function(){return n.gos.removePropertyEventListener(e,t),null};return this.destroyFunctions.push(i),function(){return i(),n.destroyFunctions=n.destroyFunctions.filter((function(e){return e!==i})),null}}},{key:"addManagedPropertyListener",value:function(e,t){return this.destroyed?function(){return null}:this.setupGridOptionListener(e,t)}},{key:"addManagedPropertyListeners",value:function(e,t){var n=this;if(!this.destroyed){var i=e.join("-")+this.propertyListenerId++,r=function(e){if(e.changeSet){if(e.changeSet&&e.changeSet.id===n.lastChangeSetIdLookup[i])return;n.lastChangeSetIdLookup[i]=e.changeSet.id}var r={type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source};t(r)};e.forEach((function(e){return n.setupGridOptionListener(e,r)}))}}},{key:"addDestroyFunc",value:function(e){this.isAlive()?this.destroyFunctions.push(e):e()}},{key:"createManagedBean",value:function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}},{key:"createBean",value:function(e,t,n){return(t||this.stubContext).createBean(e,n)}},{key:"destroyBean",value:function(e,t){return(t||this.stubContext).destroyBean(e)}},{key:"destroyBeans",value:function(e,t){return(t||this.stubContext).destroyBeans(e)}}]),e}(),X=function(){function e(t){C(this,e),this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return k(e,[{key:"wrap",value:function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(n){t.frameworkOverrides.wrapOutgoing((function(){return e(n)}))},this.wrappedListeners.set(e,n)),n}},{key:"wrapGlobal",value:function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(n,i){t.frameworkOverrides.wrapOutgoing((function(){return e(n,i)}))},this.wrappedGlobalListeners.set(e,n)),n}},{key:"unwrap",value:function(e){var t;return null!==(t=this.wrappedListeners.get(e))&&void 0!==t?t:e}},{key:"unwrapGlobal",value:function(e){var t;return null!==(t=this.wrappedGlobalListeners.get(e))&&void 0!==t?t:e}}]),e}();function J(e){return null==e||""===e?null:e}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null!=e&&(""!==e||t)}function ee(e){return!$(e)}function te(e){return null==e||0===e.length}function ne(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function ie(e){if(void 0!==e){if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function re(e){if(void 0!==e)return null!==e&&""!==e&&oe(e)}function oe(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)}function ae(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null==e,r=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return o(e,t);if(!n)return o(e,t);try{return e.localeCompare(t)}catch(a){return o(e,t)}}function le(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach((function(e){return t.push(e)})),t}return Object.values(e)}var ue=new Set(["__proto__","constructor","prototype"]);function ce(e,t){if(null!=e)if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n.toString(),e[n]);else for(var i=0,o=Object.entries(e);i<o.length;i++){var a=(0,r.Z)(o[i],2);t(a[0],a[1])}}function de(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)if(!ue.has(n[i])){var r=n[i],o=e[r];t[r]=o}return t}function he(e,t){if(e){var n=e,i={};return Object.keys(n).forEach((function(e){if(!(t&&t.indexOf(e)>=0||ue.has(e))){var r=n[e],o=ge(r)&&r.constructor===Object;i[e]=o?he(r):r}})),i}}function fe(e){if(!e)return[];var t=Object;if("function"===typeof t.values)return t.values(e);var n=[];for(var i in e)e.hasOwnProperty(i)&&e.propertyIsEnumerable(i)&&n.push(e[i]);return n}function ve(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];$(t)&&ce(t,(function(t,r){if(!ue.has(t)){var o=e[t];if(o!==r){if(i)if(null==o&&null!=r)"object"===typeof r&&r.constructor===Object&&(o={},e[t]=o);ge(r)&&ge(o)&&!Array.isArray(o)?ve(o,r,n,i):(n||void 0!==r)&&(e[t]=r)}}}))}function pe(e,t,n){if(t&&e){if(!n)return e[t];for(var i=t.split("."),r=e,o=0;o<i.length;o++){if(null==r)return;r=r[i[o]]}return r}}function ge(e){return"object"===typeof e&&null!==e}var me={resizable:!0,sortable:!0},ye=0;function Ce(){return ye++}function we(e){return e instanceof Se}var Se=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this)).isColumn=!0,a.instanceId=Ce(),a.autoHeaderHeight=null,a.moving=!1,a.menuVisible=!1,a.lastLeftPinned=!1,a.firstRightPinned=!1,a.filterActive=!1,a.columnEventService=new L,a.tooltipEnabled=!1,a.rowGroupActive=!1,a.pivotActive=!1,a.aggregationActive=!1,a.colDef=e,a.userProvidedColDef=i,a.colId=r,a.primary=o,a.setState(e),a}return k(n,[{key:"wireBeans",value:function(e){this.columnHoverService=e.columnHoverService}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"setState",value:function(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);var t=e.sortIndex,n=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==n&&(this.sortIndex=n);var i=e.hide,r=e.initialHide;this.visible=void 0!==i?!i:!r,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var o=e.flex,a=e.initialFlex;void 0!==o?this.flex=o:void 0!==a&&(this.flex=a)}},{key:"setColDef",value:function(e,t,n){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}},{key:"getUserProvidedColDef",value:function(){return this.userProvidedColDef}},{key:"setParent",value:function(e){this.parent=e}},{key:"getParent",value:function(){return this.parent}},{key:"setOriginalParent",value:function(e){this.originalParent=e}},{key:"getOriginalParent",value:function(){return this.originalParent}},{key:"postConstruct",value:function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}},{key:"initDotNotation",value:function(){var e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=$(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=$(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}},{key:"initMinAndMaxWidths",value:function(){var e,t,n=this.colDef;this.minWidth=null!==(e=n.minWidth)&&void 0!==e?e:20,this.maxWidth=null!==(t=n.maxWidth)&&void 0!==t?t:Number.MAX_SAFE_INTEGER}},{key:"initTooltip",value:function(){this.tooltipEnabled=$(this.colDef.tooltipField)||$(this.colDef.tooltipValueGetter)||$(this.colDef.tooltipComponent)}},{key:"resetActualWidth",value:function(e){var t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}},{key:"calculateColInitialWidth",value:function(e){var t,n=ie(e.width),i=ie(e.initialWidth);return t=null!=n?n:null!=i?i:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}},{key:"isEmptyGroup",value:function(){return!1}},{key:"isRowGroupDisplayed",value:function(e){if(ee(this.colDef)||ee(this.colDef.showRowGroup))return!1;var t=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===e;return t||n}},{key:"isPrimary",value:function(){return this.primary}},{key:"isFilterAllowed",value:function(){return!!this.colDef.filter}},{key:"isFieldContainsDots",value:function(){return this.fieldContainsDots}},{key:"isTooltipEnabled",value:function(){return this.tooltipEnabled}},{key:"isTooltipFieldContainsDots",value:function(){return this.tooltipFieldContainsDots}},{key:"addEventListener",value:function(e,t){var n,i;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new X(this.frameworkOverrides));var r=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.wrap(t))&&void 0!==n?n:t;this.columnEventService.addEventListener(e,r)}},{key:"removeEventListener",value:function(e,t){var n,i,r=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(t))&&void 0!==n?n:t;this.columnEventService.removeEventListener(e,r)}},{key:"createColumnFunctionCallbackParams",value:function(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}},{key:"isSuppressNavigable",value:function(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}},{key:"isCellEditable",value:function(e){return!(e.group&&!this.gos.get("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)}},{key:"isSuppressFillHandle",value:function(){return!!this.colDef.suppressFillHandle}},{key:"isAutoHeight",value:function(){return!!this.colDef.autoHeight}},{key:"isAutoHeaderHeight",value:function(){return!!this.colDef.autoHeaderHeight}},{key:"isRowDrag",value:function(e){return this.isColumnFunc(e,this.colDef.rowDrag)}},{key:"isDndSource",value:function(e){return this.isColumnFunc(e,this.colDef.dndSource)}},{key:"isCellCheckboxSelection",value:function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}},{key:"isSuppressPaste",value:function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}},{key:"isResizable",value:function(){return!!this.getColDefValue("resizable")}},{key:"getColDefValue",value:function(e){var t;return null!==(t=this.colDef[e])&&void 0!==t?t:me[e]}},{key:"isColumnFunc",value:function(e,t){return"boolean"===typeof t?t:"function"===typeof t&&t(this.createColumnFunctionCallbackParams(e))}},{key:"setMoving",value:function(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}},{key:"createColumnEvent",value:function(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}},{key:"isMoving",value:function(){return this.moving}},{key:"getSort",value:function(){return this.sort}},{key:"setSort",value:function(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}},{key:"isSortable",value:function(){return!!this.getColDefValue("sortable")}},{key:"isSortAscending",value:function(){return"asc"===this.sort}},{key:"isSortDescending",value:function(){return"desc"===this.sort}},{key:"isSortNone",value:function(){return ee(this.sort)}},{key:"isSorting",value:function(){return $(this.sort)}},{key:"getSortIndex",value:function(){return this.sortIndex}},{key:"setSortIndex",value:function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}},{key:"setMenuVisible",value:function(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}},{key:"isMenuVisible",value:function(){return this.menuVisible}},{key:"setAggFunc",value:function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}},{key:"getAggFunc",value:function(){return this.aggFunc}},{key:"getLeft",value:function(){return this.left}},{key:"getOldLeft",value:function(){return this.oldLeft}},{key:"getRight",value:function(){return this.left+this.actualWidth}},{key:"setLeft",value:function(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}},{key:"isFilterActive",value:function(){return this.filterActive}},{key:"setFilterActive",value:function(e,t,n){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var i=this.createColumnEvent("filterChanged",t);n&&ve(i,n),this.columnEventService.dispatchEvent(i)}},{key:"isHovered",value:function(){return this.columnHoverService.isHovered(this)}},{key:"setPinned",value:function(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}},{key:"setFirstRightPinned",value:function(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}},{key:"setLastLeftPinned",value:function(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}},{key:"isFirstRightPinned",value:function(){return this.firstRightPinned}},{key:"isLastLeftPinned",value:function(){return this.lastLeftPinned}},{key:"isPinned",value:function(){return"left"===this.pinned||"right"===this.pinned}},{key:"isPinnedLeft",value:function(){return"left"===this.pinned}},{key:"isPinnedRight",value:function(){return"right"===this.pinned}},{key:"getPinned",value:function(){return this.pinned}},{key:"setVisible",value:function(e,t){var n=!0===e;this.visible!==n&&(this.visible=n,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}},{key:"isVisible",value:function(){return this.visible}},{key:"isSpanHeaderHeight",value:function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}},{key:"getColumnGroupPaddingInfo",value:function(){var e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var t=e.getPaddingLevel()+1,n=!0;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}},{key:"getColDef",value:function(){return this.colDef}},{key:"getDefinition",value:function(){return this.colDef}},{key:"getColumnGroupShow",value:function(){return this.colDef.columnGroupShow}},{key:"getColId",value:function(){return this.colId}},{key:"getId",value:function(){return this.colId}},{key:"getUniqueId",value:function(){return this.colId}},{key:"getActualWidth",value:function(){return this.actualWidth}},{key:"getAutoHeaderHeight",value:function(){return this.autoHeaderHeight}},{key:"setAutoHeaderHeight",value:function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}},{key:"createBaseColDefParams",value:function(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}},{key:"getColSpan",value:function(e){if(ee(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}},{key:"getRowSpan",value:function(e){if(ee(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}},{key:"setActualWidth",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}},{key:"fireColumnWidthChangedEvent",value:function(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}},{key:"isGreaterThanMax",value:function(e){return e>this.maxWidth}},{key:"getMinWidth",value:function(){return this.minWidth}},{key:"getMaxWidth",value:function(){return this.maxWidth}},{key:"getFlex",value:function(){return this.flex||0}},{key:"setFlex",value:function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}},{key:"setMinimum",value:function(e){this.setActualWidth(this.minWidth,e)}},{key:"setRowGroupActive",value:function(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}},{key:"isRowGroupActive",value:function(){return this.rowGroupActive}},{key:"setPivotActive",value:function(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}},{key:"isPivotActive",value:function(){return this.pivotActive}},{key:"isAnyFunctionActive",value:function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}},{key:"isAnyFunctionAllowed",value:function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}},{key:"setValueActive",value:function(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}},{key:"isValueActive",value:function(){return this.aggregationActive}},{key:"isAllowPivot",value:function(){return!0===this.colDef.enablePivot}},{key:"isAllowValue",value:function(){return!0===this.colDef.enableValue}},{key:"isAllowRowGroup",value:function(){return!0===this.colDef.enableRowGroup}},{key:"dispatchStateUpdatedEvent",value:function(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}}]),n}(Y);function ke(e){return e instanceof be}var be=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this)).isColumn=!1,a.expandable=!1,a.instanceId=Ce(),a.expandableListenerRemoveCallback=null,a.colGroupDef=e,a.groupId=i,a.expanded=!!e&&!!e.openByDefault,a.padding=r,a.level=o,a}return k(n,[{key:"destroy",value:function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),l(a(n.prototype),"destroy",this).call(this)}},{key:"reset",value:function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"setOriginalParent",value:function(e){this.originalParent=e}},{key:"getOriginalParent",value:function(){return this.originalParent}},{key:"getLevel",value:function(){return this.level}},{key:"isVisible",value:function(){return!!this.children&&this.children.some((function(e){return e.isVisible()}))}},{key:"isPadding",value:function(){return this.padding}},{key:"setExpanded",value:function(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}},{key:"isExpandable",value:function(){return this.expandable}},{key:"isExpanded",value:function(){return this.expanded}},{key:"getGroupId",value:function(){return this.groupId}},{key:"getId",value:function(){return this.getGroupId()}},{key:"setChildren",value:function(e){this.children=e}},{key:"getChildren",value:function(){return this.children}},{key:"getColGroupDef",value:function(){return this.colGroupDef}},{key:"getLeafColumns",value:function(){var e=[];return this.addLeafColumns(e),e}},{key:"addLeafColumns",value:function(e){this.children&&this.children.forEach((function(t){we(t)?e.push(t):ke(t)&&t.addLeafColumns(e)}))}},{key:"getColumnGroupShow",value:function(){var e=this.colGroupDef;if(e)return e.columnGroupShow}},{key:"setupExpandable",value:function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((function(e){return e.addEventListener("visibleChanged",t)})),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach((function(e){return e.removeEventListener("visibleChanged",t)})),e.expandableListenerRemoveCallback=null}}},{key:"setExpandable",value:function(){if(!this.isPadding()){for(var e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding(),r=0,o=i.length;r<o;r++){var a=i[r];if(a.isVisible()){var s=a.getColumnGroupShow();"open"===s?(e=!0,n=!0):"closed"===s?(t=!0,n=!0):(e=!0,t=!0)}}var l=e&&t&&n;this.expandable!==l&&(this.expandable=l,this.dispatchLocalEvent({type:"expandableChanged"}))}}},{key:"findChildrenRemovingPadding",value:function(){var e=[];return function t(n){n.forEach((function(n){ke(n)&&n.isPadding()?t(n.children):e.push(n)}))}(this.children),e}},{key:"onColumnVisibilityChanged",value:function(){this.setExpandable()}}]),n}(Y),Re={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Ee={};function Fe(e,t){Ee[t]||(e(),Ee[t]=!0)}function Pe(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=console).log.apply(t,["AG Grid: "+e].concat(i))}function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Fe((function(){var t;return(t=console).warn.apply(t,["AG Grid: "+e].concat(n))}),e+(null===n||void 0===n?void 0:n.join("")))}function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Fe((function(){var t;return(t=console).error.apply(t,["AG Grid: "+e].concat(n))}),e+(null===n||void 0===n?void 0:n.join("")))}function Me(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ae(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.length>0&&window.setTimeout((function(){return e.forEach((function(e){return e()}))}),t)}(e,400)}var Te=[],Le=!1;function Ie(e){Te.push(e),Le||(Le=!0,window.setTimeout((function(){var e=Te.slice();Te.length=0,Le=!1,e.forEach((function(e){return e()}))}),0))}function Oe(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=this;window.clearTimeout(n),n=window.setTimeout((function(){e.apply(a,r)}),t)}}function Ne(e,t){var n=0;return function(){var i=this,r=(new Date).getTime();if(!(r-n<t)){n=r;for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];e.apply(i,a)}}}function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}}var Be=function(){function e(){C(this,e),this.existingKeys={}}return k(e,[{key:"addExistingKeys",value:function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}},{key:"getUniqueKey",value:function(e,t){e=ne(e);for(var n=0;;){var i=void 0;if(e?(i=e,0!==n&&(i+="_"+n)):t?(i=t,0!==n&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}}]),e}(),He="ag-Grid-AutoColumn";function Ve(e){var t=[];return function e(n){for(var i=0;i<n.length;i++){var r=n[i];we(r)?t.push(r):ke(r)&&e(r.getChildren())}}(e),t}function We(e){return e.reduce((function(e,t){return e+t.getActualWidth()}),0)}function ze(e,t,n){var i={};if(t){Ze(null,t,(function(e){i[e.getInstanceId()]=e})),n&&Ze(null,n,(function(e){i[e.getInstanceId()]=null}));var r=Object.values(i).filter((function(e){return null!=e}));e.destroyBeans(r)}}function _e(e){return e.getId().startsWith(He)}function Ue(e){var t=[];e instanceof Array?e.some((function(e){return"string"!==typeof e}))?De("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"===typeof e?t=e.split(","):De("colDef.type should be of type 'string' | 'string[]'");return t}var je=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnFactory",e}return k(n,[{key:"wireBeans",value:function(e){this.dataTypeService=e.dataTypeService}},{key:"createColumnTree",value:function(e,t,n,i){var r=new Be,o=this.extractExistingTreeData(n),a=o.existingCols,s=o.existingGroups,l=o.existingColKeys;r.addExistingKeys(l);var u=this.recursivelyCreateColumns(e,0,t,a,r,s,i),c=this.findMaxDept(u,0),d=this.balanceColumnTree(u,0,c,r);return Ze(null,d,(function(e,t){ke(e)&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:d,treeDept:c}}},{key:"extractExistingTreeData",value:function(e){var t=[],n=[],i=[];return e&&Ze(null,e,(function(e){if(ke(e)){var r=e;n.push(r)}else{var o=e;i.push(o.getId()),t.push(o)}})),{existingCols:t,existingGroups:n,existingColKeys:i}}},{key:"createForAutoGroups",value:function(e,t){var n=this,i=[],r=this.findDepth(t);return e.forEach((function(e){for(var t=e,o=r-1;o>=0;o--){var a=new be(null,"FAKE_PATH_".concat(e.getId(),"}_").concat(o),!0,o);n.createBean(a),a.setChildren([t]),t.setOriginalParent(a),t=a}0===r&&e.setOriginalParent(null),i.push(t)})),[i,r]}},{key:"findDepth",value:function(e){for(var t=0,n=e;n&&n[0]&&ke(n[0]);)t++,n=n[0].getChildren();return t}},{key:"balanceColumnTree",value:function(e,t,n,i){for(var r=[],o=0;o<e.length;o++){var a=e[o];if(ke(a)){var s=a,l=this.balanceColumnTree(s.getChildren(),t+1,n,i);s.setChildren(l),r.push(s)}else{for(var u=void 0,c=void 0,d=n-1;d>=t;d--){var h=i.getUniqueKey(null,null),f=this.createMergedColGroupDef(null),v=new be(f,h,!0,t);this.createBean(v),c&&c.setChildren([v]),c=v,u||(u=c)}if(u&&c){if(r.push(u),e.some((function(e){return ke(e)}))){c.setChildren([a]);continue}c.setChildren(e);break}r.push(a)}}return r}},{key:"findMaxDept",value:function(e,t){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(ke(r)){var o=r,a=this.findMaxDept(o.getChildren(),t+1);n<a&&(n=a)}}return n}},{key:"recursivelyCreateColumns",value:function(e,t,n,i,r,o,a){if(!e)return[];for(var s=new Array(e.length),l=0;l<s.length;l++){var u=e[l];this.isColumnGroup(u)?s[l]=this.createColumnGroup(n,u,t,i,r,o,a):s[l]=this.createColumn(n,u,i,r,a)}return s}},{key:"createColumnGroup",value:function(e,t,n,i,r,o,a){var s=this.createMergedColGroupDef(t),l=r.getUniqueKey(s.groupId||null,null),u=new be(s,l,!1,n);this.createBean(u);var c=this.findExistingGroup(t,o);c&&o.splice(c.idx,1);var d=null===c||void 0===c?void 0:c.group;d&&u.setExpanded(d.isExpanded());var h=this.recursivelyCreateColumns(s.children,n+1,e,i,r,o,a);return u.setChildren(h),u}},{key:"createMergedColGroupDef",value:function(e){var t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}},{key:"createColumn",value:function(e,t,n,i,r){var o,a=this.findExistingColumn(t,n);a&&(null===n||void 0===n||n.splice(a.idx,1));var s=null===a||void 0===a?void 0:a.column;if(s){var l=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(l,t,r),this.applyColumnState(s,l,r)}else{var u=i.getUniqueKey(t.colId,t.field),c=this.addColumnDefaultAndTypes(t,u);s=new Se(c,t,u,e),this.createBean(s)}return null===(o=this.dataTypeService)||void 0===o||o.addColumnListeners(s),s}},{key:"applyColumnState",value:function(e,t,n){var i=ie(t.flex);if(void 0!==i&&e.setFlex(i),e.getFlex()<=0){var r=ie(t.width);if(null!=r)e.setActualWidth(r,n);else{var o=e.getActualWidth();e.setActualWidth(o,n)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort,n):e.setSort(void 0,n));var a=ie(t.sortIndex);void 0!==a&&e.setSortIndex(a);var s=re(t.hide);void 0!==s&&e.setVisible(!s,n),void 0!==t.pinned&&e.setPinned(t.pinned)}},{key:"findExistingColumn",value:function(e,t){if(t)for(var n=0;n<t.length;n++){var i=t[n].getUserProvidedColDef();if(i)if(null!=e.colId){if(t[n].getId()===e.colId)return{idx:n,column:t[n]}}else if(null!=e.field){if(i.field===e.field)return{idx:n,column:t[n]}}else if(i===e)return{idx:n,column:t[n]}}}},{key:"findExistingGroup",value:function(e,t){if(null!=e.groupId)for(var n=0;n<t.length;n++){var i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}},{key:"addColumnDefaultAndTypes",value:function(e,t){var n,i={};ve(i,this.gos.get("defaultColDef"),!1,!0);var r=this.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),ve(i,e,!1,!0);var o=this.gos.get("autoGroupColumnDef"),a=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&o&&a&&ve(i,{sort:o.sort,initialSort:o.initialSort},!1,!0),null===(n=this.dataTypeService)||void 0===n||n.validateColDef(i),i}},{key:"updateColDefAndGetColumnType",value:function(e,t,n){var i,r,o,a=null===(i=this.dataTypeService)||void 0===i?void 0:i.updateColDefAndGetColumnType(e,t,n),s=null!==(r=null!==(o=t.type)&&void 0!==o?o:a)&&void 0!==r?r:e.type;return e.type=s,s?Ue(s):void 0}},{key:"assignColumnTypes",value:function(e,t){if(e.length){var n=Object.assign({},Re);ce(this.gos.get("columnTypes")||{},(function(e,t){e in n?De("the column type '".concat(e,"' is a default column type and cannot be overridden.")):(t.type&&De("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[e]=t)})),e.forEach((function(e){var i=n[e.trim()];i?ve(t,i,!1,!0):De("colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))}}},{key:"isColumnGroup",value:function(e){return void 0!==e.children}}]),n}(Y);function Ze(e,t,n){if(t)for(var i=0;i<t.length;i++){var r=t[i];ke(r)&&Ze(r,r.getChildren(),n),n(r,e)}}var Ke=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnModel",e.pivotMode=!1,e.autoHeightActiveAtLeastOnce=!1,e.ready=!1,e.changeEventsDispatching=!1,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return k(n,[{key:"wireBeans",value:function(e){this.context=e.context,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}},{key:"postConstruct",value:function(){var e=this,t=this.gos.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(function(t){return e.refreshAll(qe(t.source))})),this.addManagedPropertyListener("autoGroupColumnDef",(function(t){return e.onAutoGroupColumnDefChanged(qe(t.source))})),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],(function(t){return e.recreateColumnDefs(qe(t.source))})),this.addManagedPropertyListener("pivotMode",(function(t){return e.setPivotMode(e.gos.get("pivotMode"),qe(t.source))})),this.addManagedEventListeners({firstDataRendered:function(){return e.onFirstDataRendered()}})}},{key:"createColsFromColDefs",value:function(e,t){var n,i=e?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();var r=this.colDefCols&&this.colDefCols.list,o=this.colDefCols&&this.colDefCols.tree,a=this.columnFactory.createColumnTree(this.colDefs,!0,o,t);ze(this.context,null===(n=this.colDefCols)||void 0===n?void 0:n.tree,a.columnTree);var s=a.columnTree,l=a.treeDept,u=Ve(s),c={};u.forEach((function(e){return c[e.getId()]=e})),this.colDefCols={tree:s,treeDepth:l,list:u,map:c},this.funcColsService.extractCols(t,r),this.ready=!0,this.refreshCols(),e&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),i&&(this.changeEventsDispatching=!0,i(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),"gridInitializing"===t&&this.columnSizeService.applyAutosizeStrategy()}},{key:"refreshCols",value:function(){var e,t,n;if(this.colDefCols){var i=null===(e=this.cols)||void 0===e?void 0:e.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),null===(t=this.showRowGroupColsService)||void 0===t||t.refresh(),null===(n=this.quickFilterService)||void 0===n||n.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!O(i,this.cols.tree)&&this.eventDispatcher.gridColumns()}}},{key:"selectCols",value:function(){var e=this,t=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=t,t){var n=t.map,i=t.list,r=t.tree,o=t.treeDepth;this.cols={list:i.slice(),map:y({},n),tree:r.slice(),treeDepth:o},t.list.some((function(t){var n;return void 0!==(null===(n=e.cols)||void 0===n?void 0:n.map[t.getColId()])}))||(this.lastPivotOrder=null)}else{var a=this.colDefCols,s=a.map,l=a.list,u=a.tree,c=a.treeDepth;this.cols={list:l.slice(),map:y({},s),tree:u.slice(),treeDepth:c}}}},{key:"getColsToShow",value:function(){var e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter((function(n){var i=_e(n);if(e){var r=t&&V(t,n);return i||r}return i||n.isVisible()}))}},{key:"addAutoCols",value:function(){var e;null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),(e=this.cols).map={},e.list.forEach((function(t){return e.map[t.getId()]=t})))}},{key:"createAutoCols",value:function(){var e,t,n,i=this,a=this.gos.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),l=this.funcColsService.getRowGroupColumns(),u=function(){i.autoCols&&(ze(i.context,i.autoCols.tree),i.autoCols=null)};if(!(!(l.length>0||this.gos.get("treeData"))||s||a)&&this.autoColService){var c,d,h=null!==(e=this.autoColService.createAutoCols(l))&&void 0!==e?e:[],f=(c=h,d=(null===(t=this.autoCols)||void 0===t?void 0:t.list)||null,O(c,d,(function(e,t){return e.getColId()===t.getColId()}))),v=this.cols.treeDepth,p=this.autoCols?this.autoCols.treeDepth:-1;if(!f||!(p==v)){u();var g=this.columnFactory.createForAutoGroups(h,null===(n=this.cols)||void 0===n?void 0:n.tree),m=(0,r.Z)(g,2),y=m[0],C=m[1];this.autoCols={list:h,tree:y,treeDepth:C,map:{}};var w=function(e){if(!e)return null;var t=e.filter((function(e){return!_e(e)}));return[].concat((0,o.Z)(h),(0,o.Z)(t))};this.lastOrder=w(this.lastOrder),this.lastPivotOrder=w(this.lastPivotOrder)}}else u()}},{key:"refreshAll",value:function(e){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(e))}},{key:"setColsVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this.columnApplyStateService.applyColumnState({state:e.map((function(e){return{colId:"string"===typeof e?e:e.getColId(),hide:!t}}))},n)}},{key:"setColsPinned",value:function(e,t,n){var i=this;if(this.cols&&!te(e))if(this.gos.isDomLayout("print"))De("Changing the column pinning status is not allowed with domLayout='print'");else{var r;this.columnAnimationService.start(),r=!0===t||"left"===t?"left":"right"===t?"right":null;var o=[];e.forEach((function(e){if(e){var t=i.getCol(e);t&&t.getPinned()!==r&&(t.setPinned(r),o.push(t))}})),o.length&&(this.visibleColsService.refresh(n),this.eventDispatcher.columnPinned(o,n)),this.columnAnimationService.finish()}}},{key:"setColumnGroupOpened",value:function(e,t,n){var i;i=ke(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:i,open:t}],n)}},{key:"getProvidedColGroup",value:function(e){var t,n=null;return Ze(null,null===(t=this.cols)||void 0===t?void 0:t.tree,(function(t){ke(t)&&t.getId()===e&&(n=t)})),n}},{key:"isColGroupLocked",value:function(e){var t=this.gos.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===t)&&(-1===t||t>this.funcColsService.getRowGroupColumns().findIndex((function(t){return t.getColId()===e.getColId()})))}},{key:"isSuppressAutoCol",value:function(){return"custom"===this.gos.get("groupDisplayType")||"custom"===this.gos.get("treeDataDisplayType")}},{key:"setAutoHeightActive",value:function(){(this.autoHeightActive=this.cols.list.some((function(e){return e.isAutoHeight()})),this.autoHeightActive)&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||De("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}},{key:"restoreColOrder",value:function(){var e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(e){var t=new Map(e.map((function(e,t){return[e,t]})));if(!!this.cols.list.some((function(e){return t.has(e)}))){var n=new Map(this.cols.list.map((function(e){return[e,!0]}))),i=e.filter((function(e){return n.has(e)})),r=new Map(i.map((function(e){return[e,!0]}))),a=this.cols.list.filter((function(e){return!r.has(e)})),s=i.slice();a.forEach((function(e){var t=e.getOriginalParent();if(t){for(var n=[];!n.length&&t;){t.getLeafColumns().forEach((function(e){var t=s.indexOf(e)>=0,i=n.indexOf(e)<0;t&&i&&n.push(e)})),t=t.getOriginalParent()}if(n.length){var i=n.map((function(e){return s.indexOf(e)})),r=Math.max.apply(Math,(0,o.Z)(i));B(s,e,r+1)}else s.push(e)}else s.push(e)})),this.cols.list=s}}}},{key:"orderColsLikeColDefCols",value:function(){var e=this;if(this.colDefCols&&this.cols){var t=this.colDefCols.list.filter((function(t){return e.cols.list.indexOf(t)>=0})),n=this.cols.list.filter((function(e){return t.indexOf(e)<0}));this.cols.list=[].concat((0,o.Z)(n),(0,o.Z)(t)),this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}}},{key:"sortColsLikeKeys",value:function(e){var t=this;if(null!=this.cols){var n=[],i={};e.forEach((function(e){if(!i[e]){var r=t.cols.map[e];r&&(n.push(r),i[e]=!0)}}));var r=0;this.cols.list.forEach((function(e){var t=e.getColId();null!=i[t]||(t.startsWith(He)?B(n,e,r++):n.push(e))})),n=this.columnMoveService.placeLockedColumns(n),this.columnMoveService.doesMovePassMarryChildren(n)?this.cols.list=n:De("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}}},{key:"sortColsLikeCols",value:function(e){var t=this;!e||e.length<=1||(e.filter((function(e){return t.cols.list.indexOf(e)<0})).length>0||e.sort((function(e,n){return t.cols.list.indexOf(e)-t.cols.list.indexOf(n)})))}},{key:"resetColDefIntoCol",value:function(e,t){var n=e.getUserProvidedColDef();if(!n)return!1;var i=this.columnFactory.addColumnDefaultAndTypes(n,e.getColId());return e.setColDef(i,n,t),!0}},{key:"queueResizeOperations",value:function(){this.shouldQueueResizeOperations=!0}},{key:"isShouldQueueResizeOperations",value:function(){return this.shouldQueueResizeOperations}},{key:"processResizeOperations",value:function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((function(e){return e()})),this.resizeOperationQueue=[]}},{key:"pushResizeOperation",value:function(e){this.resizeOperationQueue.push(e)}},{key:"moveInCols",value:function(e,t,n){var i;H(null===(i=this.cols)||void 0===i?void 0:i.list,e,t),this.visibleColsService.refresh(n)}},{key:"positionLockedCols",value:function(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}},{key:"saveColOrder",value:function(){var e,t;this.showingPivotResult?this.lastPivotOrder=null===(e=this.cols)||void 0===e?void 0:e.list:this.lastOrder=null===(t=this.cols)||void 0===t?void 0:t.list}},{key:"getColumnDefs",value:function(){var e=this;if(this.colDefCols){var t=this.colDefCols.list.slice();this.showingPivotResult?t.sort((function(t,n){return e.lastOrder.indexOf(t)-e.lastOrder.indexOf(n)})):this.lastOrder&&t.sort((function(t,n){return e.cols.list.indexOf(t)-e.cols.list.indexOf(n)}));var n=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(t,n,i)}}},{key:"isShowingPivotResult",value:function(){return this.showingPivotResult}},{key:"isChangeEventsDispatching",value:function(){return this.changeEventsDispatching}},{key:"isColSpanActive",value:function(){return this.colSpanActive}},{key:"isProvidedColGroupsPresent",value:function(){var e;return(null===(e=this.colDefCols)||void 0===e?void 0:e.treeDepth)>0}},{key:"setColSpanActive",value:function(){this.colSpanActive=this.cols.list.some((function(e){return null!=e.getColDef().colSpan}))}},{key:"isAutoRowHeightActive",value:function(){return this.autoHeightActive}},{key:"wasAutoRowHeightEverActive",value:function(){return this.autoHeightActiveAtLeastOnce}},{key:"getHeaderRowCount",value:function(){return this.cols?this.cols.treeDepth+1:-1}},{key:"isReady",value:function(){return this.ready}},{key:"isPivotMode",value:function(){return this.pivotMode}},{key:"setPivotMode",value:function(e,t){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}},{key:"isPivotSettingAllowed",value:function(e){return!e||!this.gos.get("treeData")||(De("Pivot mode not available with treeData."),!1)}},{key:"isPivotActive",value:function(){var e=this.funcColsService.getPivotColumns();return this.pivotMode&&!te(e)}},{key:"recreateColumnDefs",value:function(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(!0,e))}},{key:"setColumnDefs",value:function(e,t){var n=!!this.colDefs;this.colDefs=e,this.createColsFromColDefs(n,t)}},{key:"destroy",value:function(){var e,t;ze(this.context,null===(e=this.colDefCols)||void 0===e?void 0:e.tree),ze(this.context,null===(t=this.autoCols)||void 0===t?void 0:t.tree),l(a(n.prototype),"destroy",this).call(this)}},{key:"getColTree",value:function(){return this.cols.tree}},{key:"getColDefColTree",value:function(){return this.colDefCols.tree}},{key:"getColDefCols",value:function(){var e;return null!==(e=this.colDefCols)&&void 0!==e&&e.list?this.colDefCols.list:null}},{key:"getCols",value:function(){var e,t;return null!==(e=null===(t=this.cols)||void 0===t?void 0:t.list)&&void 0!==e?e:[]}},{key:"getAllCols",value:function(){var e,t,n,i=this.pivotResultColsService.getPivotResultCols(),r=null===i||void 0===i?void 0:i.list;return(e=[]).concat.apply(e,[(null===(t=this.colDefCols)||void 0===t?void 0:t.list)||[],(null===(n=this.autoCols)||void 0===n?void 0:n.list)||[],r||[]])}},{key:"getColsForKeys",value:function(e){var t=this;if(!e)return[];var n=e.map((function(e){return t.getCol(e)})).filter((function(e){return null!=e}));return n}},{key:"getColDefCol",value:function(e){var t;return null!==(t=this.colDefCols)&&void 0!==t&&t.list?this.getColFromCollection(e,this.colDefCols):null}},{key:"getCol",value:function(e){return null==e?null:this.getColFromCollection(e,this.cols)}},{key:"getColFromCollection",value:function(e,t){if(null==t)return null;var n=t.map,i=t.list;if("string"==typeof e&&n[e])return n[e];for(var r=0;r<i.length;r++)if(Qe(i[r],e))return i[r];return this.getAutoCol(e)}},{key:"getAutoCol",value:function(e){return null==this.autoCols?null:this.autoCols.list.find((function(t){return Qe(t,e)}))||null}},{key:"getAutoCols",value:function(){var e;return(null===(e=this.autoCols)||void 0===e?void 0:e.list)||null}},{key:"setColHeaderHeight",value:function(e,t){e.setAutoHeaderHeight(t)&&this.eventDispatcher.headerHeight(e)}},{key:"getColumnGroupHeaderRowHeight",value:function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}},{key:"getColumnHeaderRowHeight",value:function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.visibleColsService.getAllCols().filter((function(e){return e.isAutoHeaderHeight()})).map((function(e){return e.getAutoHeaderHeight()||0}));return Math.max.apply(Math,[e].concat((0,o.Z)(t)))}},{key:"getHeaderHeight",value:function(){var e;return null!==(e=this.gos.get("headerHeight"))&&void 0!==e?e:this.environment.getDefaultHeaderHeight()}},{key:"getFloatingFiltersHeight",value:function(){var e;return null!==(e=this.gos.get("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()}},{key:"getGroupHeaderHeight",value:function(){var e;return null!==(e=this.gos.get("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}},{key:"getPivotHeaderHeight",value:function(){var e;return null!==(e=this.gos.get("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}},{key:"getPivotGroupHeaderHeight",value:function(){var e;return null!==(e=this.gos.get("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()}},{key:"onFirstDataRendered",value:function(){var e=this,t=this.gos.get("autoSizeStrategy");if("fitCellContents"===(null===t||void 0===t?void 0:t.type)){var n=t.colIds,i=t.skipHeader;setTimeout((function(){n?e.columnAutosizeService.autoSizeCols({colKeys:n,skipHeader:i,source:"autosizeColumns"}):e.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)}))}}},{key:"onAutoGroupColumnDefChanged",value:function(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}}]),n}(Y);function qe(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function Qe(e,t){var n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var Ye=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnAutosizeService",e.timesDelayed=0,e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}},{key:"autoSizeCols",value:function(e){var t=this;if(this.columnModel.isShouldQueueResizeOperations())this.columnModel.pushResizeOperation((function(){return t.autoSizeCols(e)}));else{var n=e.colKeys,i=e.skipHeader,r=e.skipHeaderGroups,o=e.stopAtGroup,a=e.source,s=void 0===a?"api":a;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout((function(){return t.autoSizeCols(e)}));this.timesDelayed=0;for(var l=[],u=-1,c=null!=i?i:this.gos.get("skipHeaderOnAutoSize"),d=null!=r?r:c,h=function(){u=0;var e=[];if(n.forEach((function(n){if(n){var i=t.columnModel.getCol(n);if(i&&!(l.indexOf(i)>=0)){var r=t.autoWidthCalculator.getPreferredWidthForColumn(i,c);if(r>0){var o=t.normaliseColumnWidth(i,r);i.setActualWidth(o,s),l.push(i),u++}e.push(i)}}})),!e.length)return"continue";t.visibleColsService.refresh(s)};0!==u;)h();d||this.autoSizeColumnGroupsByColumns(n,s,o),this.eventDispatcher.columnResized(l,!0,"autosizeColumns")}}},{key:"autoSizeColumn",value:function(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}},{key:"autoSizeColumnGroupsByColumns",value:function(e,t,n){var i,r=new Set;this.columnModel.getColsForKeys(e).forEach((function(e){for(var t=e.getParent();t&&t!=n;)t.isPadding()||r.add(t),t=t.getParent()}));var o,a=x(r);try{for(a.s();!(o=a.n()).done;){var s,l=o.value,u=x(this.ctrlsService.getHeaderRowContainerCtrls());try{for(u.s();!(s=u.n()).done;){if(i=s.value.getHeaderCtrlForColumn(l))break}}catch(Am){u.e(Am)}finally{u.f()}i&&i.resizeLeafColumnsToFit(t)}}catch(Am){a.e(Am)}finally{a.f()}return[]}},{key:"autoSizeAllColumns",value:function(e,t){var n=this;if(this.columnModel.isShouldQueueResizeOperations())this.columnModel.pushResizeOperation((function(){return n.autoSizeAllColumns(e,t)}));else{var i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}}},{key:"normaliseColumnWidth",value:function(e,t){var n=e.getMinWidth();t<n&&(t=n);var i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t}}]),n}(Y),Xe=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="funcColsService",e.rowGroupCols=[],e.valueCols=[],e.pivotCols=[],e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}},{key:"getModifyColumnsNoEventsCallbacks",value:function(){var e=this;return{addGroupCol:function(t){return e.rowGroupCols.push(t)},removeGroupCol:function(t){return G(e.rowGroupCols,t)},addPivotCol:function(t){return e.pivotCols.push(t)},removePivotCol:function(t){return G(e.pivotCols,t)},addValueCol:function(t){return e.valueCols.push(t)},removeValueCol:function(t){return G(e.valueCols,t)}}}},{key:"getSourceColumnsForGroupColumn",value:function(e){var t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);var n=this.columnModel.getColDefCol(t);return n?[n]:null}},{key:"sortRowGroupColumns",value:function(e){this.rowGroupCols.sort(e)}},{key:"sortPivotColumns",value:function(e){this.pivotCols.sort(e)}},{key:"getValueColumns",value:function(){return this.valueCols?this.valueCols:[]}},{key:"getPivotColumns",value:function(){return this.pivotCols?this.pivotCols:[]}},{key:"getRowGroupColumns",value:function(){return this.rowGroupCols?this.rowGroupCols:[]}},{key:"isRowGroupEmpty",value:function(){return te(this.rowGroupCols)}},{key:"setColumnAggFunc",value:function(e,t,n){if(e){var i=this.columnModel.getColDefCol(e);i&&(i.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[i],n))}}},{key:"setRowGroupColumns",value:function(e,t){var n=this;this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(function(e,i){return n.setRowGroupActive(e,i,t)}),t)}},{key:"setRowGroupActive",value:function(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,n),e||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.columnModel.setColsVisible([t],!0,n))}},{key:"addRowGroupColumns",value:function(e,t){var n=this;this.updateColList(e,this.rowGroupCols,!0,!0,(function(e){return n.setRowGroupActive(!0,e,t)}),"columnRowGroupChanged",t)}},{key:"removeRowGroupColumns",value:function(e,t){var n=this;this.updateColList(e,this.rowGroupCols,!1,!0,(function(e){return n.setRowGroupActive(!1,e,t)}),"columnRowGroupChanged",t)}},{key:"addPivotColumns",value:function(e,t){this.updateColList(e,this.pivotCols,!0,!1,(function(e){return e.setPivotActive(!0,t)}),"columnPivotChanged",t)}},{key:"setPivotColumns",value:function(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(function(e,n){n.setPivotActive(e,t)}),t)}},{key:"removePivotColumns",value:function(e,t){this.updateColList(e,this.pivotCols,!1,!1,(function(e){return e.setPivotActive(!1,t)}),"columnPivotChanged",t)}},{key:"setValueColumns",value:function(e,t){var n=this;this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(function(e,i){return n.setValueActive(e,i,t)}),t)}},{key:"setValueActive",value:function(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc()&&this.aggFuncService)){var i=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(i)}}},{key:"addValueColumns",value:function(e,t){var n=this;this.updateColList(e,this.valueCols,!0,!1,(function(e){return n.setValueActive(!0,e,t)}),"columnValueChanged",t)}},{key:"removeValueColumns",value:function(e,t){var n=this;this.updateColList(e,this.valueCols,!1,!1,(function(e){return n.setValueActive(!1,e,t)}),"columnValueChanged",t)}},{key:"moveRowGroupColumn",value:function(e,t,n){if(!this.isRowGroupEmpty()){var i=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,i),this.eventDispatcher.rowGroupChanged(r,n)}}},{key:"setColList",value:function(e,t,n,i,r,a,s){var l=this;if(!te(this.columnModel.getCols())){var u=new Map;t.forEach((function(e,t){return u.set(e,t)})),t.length=0,$(e)&&e.forEach((function(e){var n=l.columnModel.getColDefCol(e);n&&t.push(n)})),t.forEach((function(e,t){var n=u.get(e);void 0!==n?i&&n!==t||u.delete(e):u.set(e,0)})),(this.columnModel.getColDefCols()||[]).forEach((function(e){var n=t.indexOf(e)>=0;a(n,e)})),r&&this.columnModel.refreshCols(),this.visibleColsService.refresh(s),this.eventDispatcher.columnChanged(n,(0,o.Z)(u.keys()),s)}}},{key:"updateColList",value:function(e,t,n,i,r,o,a){var s=this;if(e&&!te(e)){var l=!1;e.forEach((function(e){if(e){var i=s.columnModel.getColDefCol(e);if(i){if(n){if(t.indexOf(i)>=0)return;t.push(i)}else{if(t.indexOf(i)<0)return;G(t,i)}r(i),l=!0}}})),l&&(i&&this.columnModel.refreshCols(),this.visibleColsService.refresh(a),this.eventDispatcher.genericColumnEvent(o,t,a))}}},{key:"extractCols",value:function(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}},{key:"extractValueCols",value:function(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(function(t,n){return t.setValueActive(n,e)}),(function(){}),(function(){}),(function(e){var t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc})),this.valueCols.forEach((function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))}},{key:"extractRowGroupCols",value:function(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(function(t,n){return t.setRowGroupActive(n,e)}),(function(e){return e.rowGroupIndex}),(function(e){return e.initialRowGroupIndex}),(function(e){return e.rowGroup}),(function(e){return e.initialRowGroup}))}},{key:"extractPivotCols",value:function(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(function(t,n){return t.setPivotActive(n,e)}),(function(e){return e.pivotIndex}),(function(e){return e.initialPivotIndex}),(function(e){return e.pivot}),(function(e){return e.initialPivot}))}},{key:"extractColsCommon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=[],l=[],u=this.columnModel.getColDefCols()||[];u.forEach((function(n){var u=e.indexOf(n)<0,c=n.getColDef(),d=re(o(c)),h=re(a(c)),f=ie(i(c)),v=ie(r(c));(void 0!==d?d:void 0!==f?null!==f&&f>=0:u?void 0!==h?h:!!(void 0!==v)&&(null!=v&&v>=0):t.indexOf(n)>=0)&&((u?null!=f||null!=v:null!=f)?s.push(n):l.push(n))}));var c=function(e){var t=i(e.getColDef()),n=r(e.getColDef());return null!=t?t:n};s.sort((function(e,t){var n=c(e),i=c(t);return n===i?0:n<i?-1:1}));var d=[].concat(s);return t.forEach((function(e){l.indexOf(e)>=0&&d.push(e)})),l.forEach((function(e){d.indexOf(e)<0&&d.push(e)})),t.forEach((function(e){d.indexOf(e)<0&&n(e,!1)})),d.forEach((function(e){t.indexOf(e)<0&&n(e,!0)})),d}},{key:"generateColumnStateForRowGroupAndPivotIndexes",value:function(e,t){var n=this,i={},r=function(e,t,r,o,a,s){var l=n.columnModel.getColDefCols();if(!t.length||!l)return[];for(var u=Object.keys(e),c=new Set(u),d=new Set(u),h=new Set(t.map((function(e){var t=e.getColId();return d.delete(t),t})).concat(u)),f=[],v={},p=0,g=0;g<l.length;g++){var m=l[g].getColId();h.has(m)&&(f.push(m),v[m]=p++)}var y=1e3,C=!1,w=0,S=function(t){for(var n=v[t],i=w;i<n;i++){var r=f[i];d.has(r)&&(e[r][a]=y++,d.delete(r))}w=n};t.forEach((function(t){var n=t.getColId();if(c.has(n))S(n),e[n][a]=y++;else{var l=t.getColDef();if(null===l[a]||void 0===l[a]&&null==l[s]){if(!C)l[r]||void 0===l[r]&&l[o]?S(n):(d.forEach((function(t){e[t][a]=y+v[t]})),y+=f.length,C=!0);i[n]||(i[n]={colId:n}),i[n][a]=y++}}}))};return r(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),r(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}}]),n}(Y),Je=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnApplyStateService",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}},{key:"applyColumnState",value:function(e,t){var n=this,i=this.columnModel.getColDefCols()||[];if(te(i))return!1;if(e&&e.state&&!e.state.forEach)return De("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var r=this.funcColsService.getModifyColumnsNoEventsCallbacks(),o=function(i,o,a){var s=n.compareColumnStatesAndDispatchEvents(t),l=o.slice(),u={},c={},d=[],h=[],f=0,v=n.funcColsService.getRowGroupColumns().slice(),p=n.funcColsService.getPivotColumns().slice();i.forEach((function(i){var o=i.colId||"";if(o.startsWith(He))return d.push(i),void h.push(i);var s=a(o);s?(n.syncColumnWithStateItem(s,i,e.defaultState,u,c,!1,t,r),G(l,s)):(h.push(i),f+=1)}));var g=function(i){return n.syncColumnWithStateItem(i,null,e.defaultState,u,c,!1,t,r)};l.forEach(g),n.funcColsService.sortRowGroupColumns($e.bind(n,u,v)),n.funcColsService.sortPivotColumns($e.bind(n,c,p)),n.columnModel.refreshCols();var m=(n.columnModel.getAutoCols()||[]).slice();return d.forEach((function(i){var o=n.columnModel.getAutoCol(i.colId);G(m,o),n.syncColumnWithStateItem(o,i,e.defaultState,null,null,!0,t,r)})),m.forEach(g),n.orderLiveColsLikeState(e),n.visibleColsService.refresh(t),n.eventDispatcher.everythingChanged(t),s(),{unmatchedAndAutoStates:h,unmatchedCount:f}};this.columnAnimationService.start();var a=o(e.state||[],i,(function(e){return n.columnModel.getColDefCol(e)})),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;if(s.length>0||$(e.defaultState)){var u=this.pivotResultColsService.getPivotResultCols();l=o(s,(null===u||void 0===u?void 0:u.list)||[],(function(e){return n.pivotResultColsService.getPivotResultCol(e)})).unmatchedCount}return this.columnAnimationService.finish(),0===l}},{key:"resetColumnState",value:function(e){var t=this;if(!te(this.columnModel.getColDefCols())){var n=Ve(this.columnModel.getColDefColTree()),i=[],r=1e3,o=1e3,a=[],s=this.columnModel.getAutoCols();s&&(a=a.concat(s)),n&&(a=a.concat(n)),a.forEach((function(e){var n=t.getColumnStateFromColDef(e);ee(n.rowGroupIndex)&&n.rowGroup&&(n.rowGroupIndex=r++),ee(n.pivotIndex)&&n.pivot&&(n.pivotIndex=o++),i.push(n)})),this.applyColumnState({state:i,applyOrder:!0},e)}}},{key:"getColumnStateFromColDef",value:function(e){var t=function(e,t){return null!=e?e:null!=t?t:null},n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),a=t(n.pinned,n.initialPinned),s=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex),u=t(n.rowGroupIndex,n.initialRowGroupIndex),c=t(n.rowGroup,n.initialRowGroup);null!=u||null!=c&&0!=c||(u=null,c=null);var d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);null!=d||null!=h&&0!=h||(d=null,h=null);var f=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:o,pinned:a,width:s,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:f}}},{key:"syncColumnWithStateItem",value:function(e,t,n,i,r,o,a,s){var l;if(e){var u=function(e,i){var r={value1:void 0,value2:void 0},o=!1;return t&&(void 0!==t[e]&&(r.value1=t[e],o=!0),$(i)&&void 0!==t[i]&&(r.value2=t[i],o=!0)),!o&&n&&(void 0!==n[e]&&(r.value1=n[e]),$(i)&&void 0!==n[i]&&(r.value2=n[i])),r},c=u("hide").value1;void 0!==c&&e.setVisible(!c,a);var d=u("pinned").value1;void 0!==d&&e.setPinned(d);var h=null!==(l=e.getColDef().minWidth)&&void 0!==l?l:20,f=u("flex").value1;if(void 0!==f&&e.setFlex(f),null==f){var v=u("width").value1;null!=v&&null!=h&&v>=h&&e.setActualWidth(v,a)}var p=u("sort").value1;void 0!==p&&("desc"===p||"asc"===p?e.setSort(p,a):e.setSort(void 0,a));var g=u("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),!o&&e.isPrimary()){var m=u("aggFunc").value1;void 0!==m&&("string"===typeof m?(e.setAggFunc(m),e.isValueActive()||(e.setValueActive(!0,a),s.addValueCol(e))):($(m)&&De("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),s.removeValueCol(e))));var y=u("rowGroup","rowGroupIndex"),C=y.value1,w=y.value2;void 0===C&&void 0===w||("number"===typeof w||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),s.addGroupCol(e)),i&&"number"===typeof w&&(i[e.getId()]=w)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),s.removeGroupCol(e)));var S=u("pivot","pivotIndex"),k=S.value1,b=S.value2;void 0===k&&void 0===b||("number"===typeof b||k?(e.isPivotActive()||(e.setPivotActive(!0,a),s.addPivotCol(e)),r&&"number"===typeof b&&(r[e.getId()]=b)):e.isPivotActive()&&(e.setPivotActive(!1,a),s.removePivotCol(e)))}}}},{key:"orderLiveColsLikeState",value:function(e){if(e.applyOrder&&e.state){var t=[];e.state.forEach((function(e){null!=e.colId&&t.push(e.colId)})),this.columnModel.sortColsLikeKeys(t)}}},{key:"compareColumnStatesAndDispatchEvents",value:function(e){var t=this,n={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),r={};return i.forEach((function(e){r[e.colId]=e})),function(){var a=t.columnModel.getAllCols(),s=function(n,i,r,a){if(!O(i.map(a),r.map(a))){var s=new Set(i);r.forEach((function(e){s.delete(e)||s.add(e)}));var l=(0,o.Z)(s),u={type:n,columns:l,column:1===l.length?l[0]:null,source:e};t.eventService.dispatchEvent(u)}},l=function(e){var t=[];return a.forEach((function(n){var i=r[n.getColId()];i&&e(i,n)&&t.push(n)})),t},u=function(e){return e.getColId()};s("columnRowGroupChanged",n.rowGroupColumns,t.funcColsService.getRowGroupColumns(),u),s("columnPivotChanged",n.pivotColumns,t.funcColsService.getPivotColumns(),u);var c=l((function(e,t){var n=null!=e.aggFunc,i=n!=t.isValueActive(),r=n&&e.aggFunc!=t.getAggFunc();return i||r}));c.length>0&&t.eventDispatcher.columnChanged("columnValueChanged",c,e);t.eventDispatcher.columnResized(l((function(e,t){return e.width!=t.getActualWidth()})),!0,e);t.eventDispatcher.columnPinned(l((function(e,t){return e.pinned!=t.getPinned()})),e);t.eventDispatcher.columnVisible(l((function(e,t){return e.hide==t.isVisible()})),e);var d=l((function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()}));d.length>0&&t.sortController.dispatchSortChangedEvents(e,d),t.normaliseColumnMovedEventForColumnState(i,e)}}},{key:"normaliseColumnMovedEventForColumnState",value:function(e,t){var n=this,i=this.columnGetStateService.getColumnState(),r={};i.forEach((function(e){return r[e.colId]=e}));var o={};e.forEach((function(e){r[e.colId]&&(o[e.colId]=!0)}));var a=e.filter((function(e){return o[e.colId]})),s=i.filter((function(e){return o[e.colId]})),l=[];s.forEach((function(e,t){var i=a&&a[t];if(i&&i.colId!==e.colId){var r=n.columnModel.getCol(i.colId);r&&l.push(r)}})),l.length&&this.eventDispatcher.columnMoved({movedColumns:l,source:t,finished:!0})}}]),n}(Y),$e=function(e,t,n,i){var r=e[n.getId()],o=e[i.getId()],a=null!=r,s=null!=o;if(a&&s)return r-o;if(a)return-1;if(s)return 1;var l=t.indexOf(n),u=t.indexOf(i),c=l>=0;return c&&u>=0?l-u:c?-1:1},et=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnMoveService",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}},{key:"moveColumnByIndex",value:function(e,t,n){var i=this.columnModel.getCols();if(i){var r=i[e];this.moveColumns([r],t,n)}}},{key:"moveColumns",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.columnModel.getCols();if(r){if(this.columnAnimationService.start(),t>r.length-e.length)return De("tried to insert columns in invalid location, toIndex = ",t),void De("remember that you should not count the moving columns when calculating the new index");var o=this.columnModel.getColsForKeys(e),a=!this.doesMovePassRules(o,t);a||(this.columnModel.moveInCols(o,t,n),this.eventDispatcher.columnMoved({movedColumns:o,source:n,toIndex:t,finished:i}),this.columnAnimationService.finish())}}},{key:"doesMovePassRules",value:function(e,t){var n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}},{key:"doesOrderPassRules",value:function(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)}},{key:"getProposedColumnOrder",value:function(e,t){var n=this.columnModel.getCols().slice();return H(n,e,t),n}},{key:"doesMovePassLockedPositions",value:function(e){var t=this.gos.get("enableRtl"),n=t?1:-1,i=!0;return e.forEach((function(e){var r,o=(r=e.getColDef().lockPosition)?"left"===r||!0===r?-1:1:0;t?o>n&&(i=!1):o<n&&(i=!1),n=o})),i}},{key:"doesMovePassMarryChildren",value:function(e){var t=!0;return Ze(null,this.columnModel.getColTree(),(function(n){if(ke(n)){var i=n,r=i.getColGroupDef();if(r&&r.marryChildren){var o=[];i.getLeafColumns().forEach((function(t){var n=e.indexOf(t);o.push(n)})),Math.max.apply(Math,o)-Math.min.apply(Math,o)>i.getLeafColumns().length-1&&(t=!1)}}})),t}},{key:"placeLockedColumns",value:function(e){var t=[],n=[],i=[];return e.forEach((function(e){var r=e.getColDef().lockPosition;"right"===r?i.push(e):"left"===r||!0===r?t.push(e):n.push(e)})),this.gos.get("enableRtl")?[].concat(i,n,t):[].concat(t,n,i)}}]),n}(Y),tt=/[&<>"']/g,nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function it(e){var t=String.fromCharCode;function n(e,n){return t(e>>n&63|128)}function i(e){if(0==(4294967168&e))return t(e);var i="";return 0==(4294965248&e)?i=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),i=t(e>>12&15|224),i+=n(e,6)):0==(4292870144&e)&&(i=t(e>>18&7|240),i+=n(e,12),i+=n(e,6)),i+=t(63&e|128)}for(var r=function(e){var t=[];if(!e)return[];for(var n,i,r=e.length,o=0;o<r;)(n=e.charCodeAt(o++))>=55296&&n<=56319&&o<r?56320==(64512&(i=e.charCodeAt(o++)))?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),o--):t.push(n);return t}(e),o=r.length,a=-1,s="";++a<o;)s+=i(r[a]);return s}function rt(e,t){if(null==e)return null;var n=e.toString().toString();return t?n:n.replace(tt,(function(e){return nt[e]}))}var ot=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnNameService",e}return k(n,[{key:"wireBeans",value:function(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}},{key:"getDisplayNameForColumn",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;var i=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,i):i}},{key:"getDisplayNameForProvidedColumnGroup",value:function(e,t,n){var i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,n):null}},{key:"getDisplayNameForColumnGroup",value:function(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}},{key:"getHeaderName",value:function(e,t,n,i,r){var o,a=e.headerValueGetter;if(a){var s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return"function"===typeof a?a(s):"string"===typeof a?this.expressionService.evaluate(a,s):(De("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?(o=e.field)&&null!=o?o.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")})).join(" "):null:""}},{key:"wrapHeaderNameWithAggFunc",value:function(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;var n,i=e.getColDef().pivotValueColumn,r=null;if($(i)){var o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===o.length,s=void 0!==e.getColDef().pivotTotalColumnIds;if(a&&!s)return t;r=i?i.getAggFunc():null,n=!0}else{var l=e.isValueActive(),u=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();l&&u?(r=e.getAggFunc(),n=!0):n=!1}if(n){var c="string"===typeof r?r:"func",d=this.localeService.getLocaleTextFunc()(c,c);return"".concat(d,"(").concat(t,")")}return t}}]),n}(Y),at=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="pivotResultColsService",e}return k(n,[{key:"wireBeans",value:function(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}},{key:"destroy",value:function(){var e;ze(this.context,null===(e=this.pivotResultCols)||void 0===e?void 0:e.tree),l(a(n.prototype),"destroy",this).call(this)}},{key:"isPivotResultColsPresent",value:function(){return null!=this.pivotResultCols}},{key:"lookupPivotResultCol",value:function(e,t){if(null==this.pivotResultCols)return null;var n=this.columnModel.getColDefCol(t),i=null;return this.pivotResultCols.list.forEach((function(t){var r=t.getColDef().pivotKeys,o=t.getColDef().pivotValueColumn;O(r,e)&&o===n&&(i=t)})),i}},{key:"getPivotResultCols",value:function(){return this.pivotResultCols}},{key:"getPivotResultCol",value:function(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}},{key:"setPivotResultCols",value:function(e,t){var n=this;if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){var i,r;this.processPivotResultColDef(e);var o=this.columnFactory.createColumnTree(e,!1,(null===(i=this.pivotResultCols)||void 0===i?void 0:i.tree)||this.previousPivotResultCols||void 0,t);ze(this.context,null===(r=this.pivotResultCols)||void 0===r?void 0:r.tree,o.columnTree);var a=o.columnTree,s=o.treeDept,l=Ve(a);this.pivotResultCols={tree:a,treeDepth:s,list:l,map:{}},this.pivotResultCols.list.forEach((function(e){return n.pivotResultCols.map[e.getId()]=e})),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(t)}}},{key:"processPivotResultColDef",value:function(e){var t=this.gos.get("processPivotResultColDef"),n=this.gos.get("processPivotResultColGroupDef");if(t||n){e&&function e(i){i.forEach((function(i){if($(i.children)){var r=i;n&&n(r),e(r.children)}else t&&t(i)}))}(e)}}}]),n}(Y),st=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnSizeService",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}},{key:"setColumnWidths",value:function(e,t,n,i){var r=this,o=[];e.forEach((function(e){var n=r.columnModel.getColDefCol(e.key)||r.columnModel.getCol(e.key);if(n&&(o.push({width:e.newWidth,ratios:[1],columns:[n]}),"shift"===r.gos.get("colResizeDefault")&&(t=!t),t)){var i=r.visibleColsService.getColAfter(n);if(!i)return;var a=n.getActualWidth()-e.newWidth,s=i.getActualWidth()+a;o.push({width:s,ratios:[1],columns:[i]})}})),0!==o.length&&this.resizeColumnSets({resizeSets:o,finished:n,source:i})}},{key:"resizeColumnSets",value:function(e){var t=this,n=e.resizeSets,i=e.finished,r=e.source;if(!n||n.every((function(e){return t.checkMinAndMaxWidthsForSet(e)}))){var o=[],a=[];n.forEach((function(e){var t=e.width,n=e.columns,i=e.ratios,s={},l={};n.forEach((function(e){return a.push(e)}));for(var u=!0,c=0,d=function(){if(++c>1e3)return xe("infinite loop in resizeColumnSets"),"break";u=!1;var e=[],r=0,o=t;n.forEach((function(t,n){if(l[t.getId()])o-=s[t.getId()];else{e.push(t);var a=i[n];r+=a}}));var a=1/r;e.forEach((function(n,r){var c;r===e.length-1?c=o:(c=Math.round(i[r]*t*a),o-=c);var d=n.getMinWidth(),h=n.getMaxWidth();c<d?(c=d,l[n.getId()]=!0,u=!0):h>0&&c>h&&(c=h,l[n.getId()]=!0,u=!0),s[n.getId()]=c}))};u;){if("break"===d())break}n.forEach((function(e){var t=s[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,r),o.push(e))}))}));var s=o.length>0,l=[];s&&(l=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.visibleColsService.setLeftValues(r),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());var u=a.concat(l);(s||i)&&this.eventDispatcher.columnResized(u,i,r,l)}else if(i){var c=n&&n.length>0?n[0].columns:null;this.eventDispatcher.columnResized(c,i,r)}}},{key:"checkMinAndMaxWidthsForSet",value:function(e){var t=e.columns,n=e.width,i=0,r=0,o=!0;return t.forEach((function(e){var t=e.getMinWidth();i+=t||0;var n=e.getMaxWidth();n>0?r+=n:o=!1})),n>=i&&(!o||n<=r)}},{key:"refreshFlexedColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var n=this.visibleColsService.getCenterCols(),i=-1;if(e.resizingCols)for(var r=new Set(e.resizingCols),o=n.length-1;o>=0;o--)if(r.has(n[o])){i=o;break}for(var a=0,s=[],l=0,u=0,c=0;c<n.length;c++){var d=n[c].getFlex()&&c>i;d?(s.push(n[c]),u+=n[c].getFlex(),l+=n[c].getMinWidth()):a+=n[c].getActualWidth()}if(!s.length)return[];var h=[];a+l>this.flexViewportWidth&&(s.forEach((function(e){return e.setActualWidth(e.getMinWidth(),t)})),h=s,s=[]);var f,v=[];e:for(;;){for(var p=(f=this.flexViewportWidth-a)/u,g=0;g<s.length;g++){var m=s[g],y=p*m.getFlex(),C=0,w=m.getMinWidth(),S=m.getMaxWidth();if(y<w?C=w:y>S&&(C=S),C){m.setActualWidth(C,t),N(s,m),u-=m.getFlex(),h.push(m),a+=m.getActualWidth();continue e}v[g]=Math.round(y)}break}var k=f;return s.forEach((function(e,n){e.setActualWidth(Math.min(v[n],k),t),h.push(e),k-=v[n]})),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(h,!0,t,s),s}},{key:"sizeColumnsToFit",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sizeColumnsToFit",i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.columnModel.isShouldQueueResizeOperations())this.columnModel.pushResizeOperation((function(){return t.sizeColumnsToFit(e,n,i,r)}));else{var o,a={};if(r)null===r||void 0===r||null===(o=r.columnLimits)||void 0===o||o.forEach((function(e){var t=e.key,n=P(e,T);a["string"===typeof t?t:t.getColId()]=n}));var s=this.visibleColsService.getAllCols(),l=e===We(s);if(!(e<=0||!s.length||l)){var u=[],c=[];s.forEach((function(e){!0===e.getColDef().suppressSizeToFit?c.push(e):u.push(e)}));var d=u.slice(0),h=!1,f=function(e){G(u,e),c.push(e)};for(u.forEach((function(e){var t,i;e.resetActualWidth(n);var o=null===a||void 0===a?void 0:a[e.getId()],s=null!==(t=null===o||void 0===o?void 0:o.minWidth)&&void 0!==t?t:null===r||void 0===r?void 0:r.defaultMinWidth,l=null!==(i=null===o||void 0===o?void 0:o.maxWidth)&&void 0!==i?i:null===r||void 0===r?void 0:r.defaultMaxWidth,u=e.getActualWidth();"number"===typeof s&&u<s?e.setActualWidth(s,n,!0):"number"===typeof l&&u>l&&e.setActualWidth(l,n,!0)}));!h;){h=!0;var v=e-We(c);if(v<=0)u.forEach((function(e){var t,i,o=null!==(t=null===a||void 0===a||null===(i=a[e.getId()])||void 0===i?void 0:i.minWidth)&&void 0!==t?t:null===r||void 0===r?void 0:r.defaultMinWidth;"number"!==typeof o?e.setMinimum(n):e.setActualWidth(o,n,!0)}));else for(var p=v/We(u),g=v,m=u.length-1;m>=0;m--){var y,C,w=u[m],S=null===a||void 0===a?void 0:a[w.getId()],k=null!==(y=null===S||void 0===S?void 0:S.minWidth)&&void 0!==y?y:null===r||void 0===r?void 0:r.defaultMinWidth,b=null!==(C=null===S||void 0===S?void 0:S.maxWidth)&&void 0!==C?C:null===r||void 0===r?void 0:r.defaultMaxWidth,R=w.getMinWidth(),E=w.getMaxWidth(),F="number"===typeof k&&k>R?k:R,D="number"===typeof b&&b<E?b:E,x=Math.round(w.getActualWidth()*p);x<F?(x=F,f(w),h=!1):x>D?(x=D,f(w),h=!1):0===m&&(x=g),w.setActualWidth(x,n,!0),g-=x}}d.forEach((function(e){e.fireColumnWidthChangedEvent(n)})),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),i||this.eventDispatcher.columnResized(d,!0,n)}}}},{key:"applyAutosizeStrategy",value:function(){var e=this,t=this.gos.get("autoSizeStrategy");if(t){var n=t.type;setTimeout((function(){if("fitGridWidth"===n){var i=t.columnLimits,r=t.defaultMinWidth,o=t.defaultMaxWidth,a=null===i||void 0===i?void 0:i.map((function(e){return{key:e.colId,minWidth:e.minWidth,maxWidth:e.maxWidth}}));e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:r,defaultMaxWidth:o,columnLimits:a})}else"fitProvidedWidth"===n&&e.sizeColumnsToFit(t.width,"sizeColumnsToFit")}))}}}]),n}(Y);function lt(e,t){return e+"_"+t}function ut(e){return e instanceof ct}var ct=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this)).isColumn=!1,a.displayedChildren=[],a.parent=null,a.groupId=i,a.partId=r,a.providedColumnGroup=e,a.pinned=o,a}return k(n,[{key:"reset",value:function(){this.parent=null,this.children=null,this.displayedChildren=null}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e}},{key:"getUniqueId",value:function(){return lt(this.groupId,this.partId)}},{key:"isEmptyGroup",value:function(){return 0===this.displayedChildren.length}},{key:"isMoving",value:function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((function(e){return e.isMoving()}))}},{key:"checkLeft",value:function(){if(this.displayedChildren.forEach((function(e){ut(e)&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){var e=I(this.displayedChildren).getLeft();this.setLeft(e)}else{var t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}},{key:"getLeft",value:function(){return this.left}},{key:"getOldLeft",value:function(){return this.oldLeft}},{key:"setLeft",value:function(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}},{key:"getPinned",value:function(){return this.pinned}},{key:"getGroupId",value:function(){return this.groupId}},{key:"getPartId",value:function(){return this.partId}},{key:"getActualWidth",value:function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach((function(t){e+=t.getActualWidth()})),e}},{key:"isResizable",value:function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach((function(t){t.isResizable()&&(e=!0)})),e}},{key:"getMinWidth",value:function(){var e=0;return this.displayedChildren.forEach((function(t){e+=t.getMinWidth()})),e}},{key:"addChild",value:function(e){this.children||(this.children=[]),this.children.push(e)}},{key:"getDisplayedChildren",value:function(){return this.displayedChildren}},{key:"getLeafColumns",value:function(){var e=[];return this.addLeafColumns(e),e}},{key:"getDisplayedLeafColumns",value:function(){var e=[];return this.addDisplayedLeafColumns(e),e}},{key:"getDefinition",value:function(){return this.providedColumnGroup.getColGroupDef()}},{key:"getColGroupDef",value:function(){return this.providedColumnGroup.getColGroupDef()}},{key:"isPadding",value:function(){return this.providedColumnGroup.isPadding()}},{key:"isExpandable",value:function(){return this.providedColumnGroup.isExpandable()}},{key:"isExpanded",value:function(){return this.providedColumnGroup.isExpanded()}},{key:"setExpanded",value:function(e){this.providedColumnGroup.setExpanded(e)}},{key:"addDisplayedLeafColumns",value:function(e){this.displayedChildren.forEach((function(t){we(t)?e.push(t):ut(t)&&t.addDisplayedLeafColumns(e)}))}},{key:"addLeafColumns",value:function(e){this.children.forEach((function(t){we(t)?e.push(t):ut(t)&&t.addLeafColumns(e)}))}},{key:"getChildren",value:function(){return this.children}},{key:"getColumnGroupShow",value:function(){return this.providedColumnGroup.getColumnGroupShow()}},{key:"getProvidedColumnGroup",value:function(){return this.providedColumnGroup}},{key:"getPaddingLevel",value:function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}},{key:"calculateDisplayedColumns",value:function(){var e=this;this.displayedChildren=[];for(var t=this;null!=t&&t.isPadding();)t=t.getParent();if(!(!!t&&t.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((function(n){if(!(ut(n)&&(!n.displayedChildren||!n.displayedChildren.length)))switch(n.getColumnGroupShow()){case"open":t.getProvidedColumnGroup().isExpanded()&&e.displayedChildren.push(n);break;case"closed":t.getProvidedColumnGroup().isExpanded()||e.displayedChildren.push(n);break;default:e.displayedChildren.push(n)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}}]),n}(Y),dt=function(){function e(){C(this,e),this.existingIds={}}return k(e,[{key:"getInstanceIdForKey",value:function(e){var t,n=this.existingIds[e];return t="number"!==typeof n?0:n+1,this.existingIds[e]=t,t}}]),e}(),ht=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="visibleColsService",e.colsAndGroupsMap={},e.columnsLeft=[],e.columnsRight=[],e.columnsCenter=[],e.columns=[],e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}},{key:"refresh",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=vt(this.treeLeft),this.columnsCenter=vt(this.treeCenter),this.columnsRight=vt(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter((function(e){return e.isAutoHeight()})),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols()}},{key:"updateBodyWidths",value:function(){var e=We(this.columnsCenter),t=We(this.columnsLeft),n=We(this.columnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n;this.eventService.dispatchEvent({type:"columnContainerWidthChanged"});this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"})}}},{key:"setLeftValues",value:function(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}},{key:"setFirstRightAndLastLeftPinned",value:function(e){var t,n;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,n=this.columnsRight?I(this.columnsRight):null):(t=this.columnsLeft?I(this.columnsLeft):null,n=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach((function(i){i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===n,e)}))}},{key:"buildTrees",value:function(){var e=this.columnModel.getColsToShow(),t=e.filter((function(e){return"left"==e.getPinned()})),n=e.filter((function(e){return"right"==e.getPinned()})),i=e.filter((function(e){return"left"!=e.getPinned()&&"right"!=e.getPinned()})),r=new dt;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:n,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:i,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}},{key:"clear",value:function(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}},{key:"joinColsAriaOrder",value:function(){var e,t=[],n=[],i=[],r=x(this.columnModel.getCols());try{for(r.s();!(e=r.n()).done;){var o=e.value,a=o.getPinned();a?!0===a||"left"===a?t.push(o):i.push(o):n.push(o)}}catch(Am){r.e(Am)}finally{r.f()}this.ariaOrderColumns=t.concat(n).concat(i)}},{key:"getAriaColIndex",value:function(e){var t;return t=ut(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}},{key:"getAllAutoHeightCols",value:function(){return this.autoHeightCols}},{key:"setLeftValuesOfGroups",value:function(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((function(e){e.forEach((function(e){ut(e)&&e.checkLeft()}))}))}},{key:"setLeftValuesOfCols",value:function(e){if(this.columnModel.getColDefCols()){var t=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach((function(i){if(n){var r=We(i);i.forEach((function(t){r-=t.getActualWidth(),t.setLeft(r,e)}))}else{var o=0;i.forEach((function(t){t.setLeft(o,e),o+=t.getActualWidth()}))}!function(e,t){for(var n=0;n<t.length;n++)N(e,t[n])}(t,i)})),t.forEach((function(t){t.setLeft(null,e)}))}}},{key:"joinCols",value:function(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}},{key:"getColsCenter",value:function(){return this.columnsCenter}},{key:"getAllTrees",value:function(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}},{key:"getTreeLeft",value:function(){return this.treeLeft}},{key:"getTreeRight",value:function(){return this.treeRight}},{key:"getTreeCenter",value:function(){return this.treeCenter}},{key:"getAllCols",value:function(){return this.columns}},{key:"isColDisplayed",value:function(e){return this.getAllCols().indexOf(e)>=0}},{key:"getLeftColsForRow",value:function(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}},{key:"getRightColsForRow",value:function(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}},{key:"getColsForRow",value:function(e,t,n,i){for(var r=[],o=null,a=0;a<t.length;a++){var s=t[a],l=t.length-a,u=Math.min(s.getColSpan(e),l),c=[s];if(u>1){for(var d=u-1,h=1;h<=d;h++)c.push(t[a+h]);a+=d}var f=void 0;if(n?(f=!1,c.forEach((function(e){n(e)&&(f=!0)}))):f=!0,f){if(0===r.length&&o)!!i&&i(s)&&r.push(o);r.push(s)}o=s}return r}},{key:"getBodyContainerWidth",value:function(){return this.bodyWidth}},{key:"getContainerWidth",value:function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}},{key:"getCenterCols",value:function(){return this.columnsCenter}},{key:"getLeftCols",value:function(){return this.columnsLeft}},{key:"getRightCols",value:function(){return this.columnsRight}},{key:"getColBefore",value:function(e){var t=this.getAllCols(),n=t.indexOf(e);return n>0?t[n-1]:null}},{key:"getGroupAtDirection",value:function(e,t){for(var n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r="After"===t?I(i):i[0],o="getCol".concat(t);;){var a=this[o](r);if(!a)return null;var s=this.getColGroupAtLevel(a,n);if(s!==e)return s}}},{key:"getColGroupAtLevel",value:function(e,t){for(var n=e.getParent();;){if(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=t)break;n=n.getParent()}return n}},{key:"isPinningLeft",value:function(){return this.columnsLeft.length>0}},{key:"isPinningRight",value:function(){return this.columnsRight.length>0}},{key:"updateColsAndGroupsMap",value:function(){var e=this;this.colsAndGroupsMap={};var t=function(t){e.colsAndGroupsMap[t.getUniqueId()]=t};ft(this.treeCenter,!1,t),ft(this.treeLeft,!1,t),ft(this.treeRight,!1,t)}},{key:"isVisible",value:function(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}},{key:"updateOpenClosedVisibilityInColumnGroups",value:function(){ft(this.getAllTrees(),!1,(function(e){ut(e)&&e.calculateDisplayedColumns()}))}},{key:"getFirstColumn",value:function(){var e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(var n=0;n<t.length;n++){var i=this[t[n]]();if(i.length)return e?I(i):i[0]}return null}},{key:"getColumnGroup",value:function(e,t){if(!e)return null;if(ut(e))return e;var n=this.getAllTrees(),i="number"===typeof t,r=null;return ft(n,!1,(function(n){if(ut(n)){var o=n;(i?e===o.getGroupId()&&t===o.getPartId():e===o.getGroupId())&&(r=o)}})),r}},{key:"getColAfter",value:function(e){var t=this.getAllCols(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null}},{key:"isBodyWidthDirty",value:function(){return this.bodyWidthDirty}},{key:"setBodyWidthDirty",value:function(){this.bodyWidthDirty=!0}},{key:"getColsLeftWidth",value:function(){return We(this.columnsLeft)}},{key:"getDisplayedColumnsRightWidth",value:function(){return We(this.columnsRight)}},{key:"isColAtEdge",value:function(e,t){var n=this.getAllCols();if(!n.length)return!1;var i,r="first"===t;if(ut(e)){var o=e.getDisplayedLeafColumns();if(!o.length)return!1;i=r?o[0]:I(o)}else i=e;return(r?n[0]:I(n))===i}},{key:"createGroups",value:function(e){for(var t=this,n=e.columns,i=e.idCreator,r=e.pinned,o=e.oldDisplayedGroups,a=e.isStandaloneStructure,s=this.mapOldGroupsById(o),l=[],u=n,c=function(){var e=u;u=[];for(var n=0,o=function(o){var c=n;n=o;var d=e[c],h=(ut(d)?d.getProvidedColumnGroup():d).getOriginalParent();if(null!=h){for(var f=t.createColGroup(h,i,s,r,a),v=c;v<o;v++)f.addChild(e[v]);u.push(f)}else for(var p=c;p<o;p++)l.push(e[p])},c=1;c<e.length;c++){var d=e[c],h=(ut(d)?d.getProvidedColumnGroup():d).getOriginalParent(),f=e[n];h!==(ut(f)?f.getProvidedColumnGroup():f).getOriginalParent()&&o(c)}n<e.length&&o(e.length)};u.length;)c();return a||this.setupParentsIntoCols(l,null),l}},{key:"createColGroup",value:function(e,t,n,i,r){var o=e.getGroupId(),a=t.getInstanceIdForKey(o),s=n[lt(o,a)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),$(s)?s.reset():(s=new ct(e,o,a,i),r||this.createBean(s)),s}},{key:"mapOldGroupsById",value:function(e){var t={};return e&&function e(n){n.forEach((function(n){if(ut(n)){var i=n;t[n.getUniqueId()]=i,e(i.getChildren())}}))}(e),t}},{key:"setupParentsIntoCols",value:function(e,t){var n=this;e.forEach((function(e){if(e.setParent(t),ut(e)){var i=e;n.setupParentsIntoCols(i.getChildren(),i)}}))}}]),n}(Y);function ft(e,t,n){if(e)for(var i=0;i<e.length;i++){var r=e[i];if(ut(r))ft(t?r.getDisplayedChildren():r.getChildren(),t,n);n(r)}}function vt(e){var t=[];return ft(e,!0,(function(e){we(e)&&t.push(e)})),t}var pt=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],gt=[].concat(pt,["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged"]),mt={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},yt=k((function e(){C(this,e)}));yt.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],yt.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],yt.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],yt.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],yt.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"],yt.OTHER_PROPERTIES=["suppressStickyTotalRow"],yt.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],yt.ALL_PROPERTIES=[].concat((0,o.Z)(yt.ARRAY_PROPERTIES),(0,o.Z)(yt.OBJECT_PROPERTIES),(0,o.Z)(yt.STRING_PROPERTIES),(0,o.Z)(yt.NUMBER_PROPERTIES),(0,o.Z)(yt.FUNCTION_PROPERTIES),(0,o.Z)(yt.BOOLEAN_PROPERTIES),(0,o.Z)(yt.OTHER_PROPERTIES));var Ct=yt,wt=function(){function e(){C(this,e)}return k(e,null,[{key:"getCallbackForEvent",value:function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}}]),e}();wt.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",wt.PUBLIC_EVENTS=pt,wt.EVENT_CALLBACKS=gt.map((function(e){return wt.getCallbackForEvent(e)})),wt.BOOLEAN_PROPERTIES=Ct.BOOLEAN_PROPERTIES,wt.ALL_PROPERTIES=Ct.ALL_PROPERTIES,wt.ALL_PROPERTIES_AND_CALLBACKS=[].concat((0,o.Z)(wt.ALL_PROPERTIES),(0,o.Z)(wt.EVENT_CALLBACKS)),wt.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(wt.ALL_PROPERTIES_AND_CALLBACKS);var St=wt;var kt,bt,Rt,Et,Ft,Pt,Dt,xt,Mt,At=function(){function e(t){C(this,e),this.cssClassStates={},this.getGui=t}return k(e,[{key:"addCssClass",value:function(e){var t=this,n=(e||"").split(" ");if(n.length>1)n.forEach((function(e){return t.addCssClass(e)}));else if(!0!==this.cssClassStates[e]&&e.length){var i=this.getGui();i&&i.classList.add(e),this.cssClassStates[e]=!0}}},{key:"removeCssClass",value:function(e){var t=this,n=(e||"").split(" ");if(n.length>1)n.forEach((function(e){return t.removeCssClass(e)}));else if(!1!==this.cssClassStates[e]&&e.length){var i=this.getGui();i&&i.classList.remove(e),this.cssClassStates[e]=!1}}},{key:"containsCssClass",value:function(e){var t=this.getGui();return!!t&&t.classList.contains(e)}},{key:"addOrRemoveCssClass",value:function(e,t){var n=this;if(e){if(e.indexOf(" ")>=0){var i=(e||"").split(" ");if(i.length>1)return void i.forEach((function(e){return n.addOrRemoveCssClass(e,t)}))}if(this.cssClassStates[e]!==t&&e.length){var r=this.getGui();r&&r.classList.toggle(e,t),this.cssClassStates[e]=t}}}}]),e}();function Tt(e,t,n){null==n||"string"===typeof n&&""==n?It(e,t):Lt(e,t,n)}function Lt(e,t,n){e.setAttribute(Ot(t),n.toString())}function It(e,t){e.removeAttribute(Ot(t))}function Ot(e){return"aria-".concat(e)}function Nt(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Gt(e,t){Tt(e,"label",t)}function Bt(e,t){Tt(e,"labelledby",t)}function Ht(e,t){Tt(e,"live",t)}function Vt(e,t){Tt(e,"hidden",t)}function Wt(e,t){Lt(e,"expanded",t)}function zt(e,t){Lt(e,"rowcount",t)}function _t(e,t){Lt(e,"rowindex",t)}function Ut(e,t){Lt(e,"colcount",t)}function jt(e,t){Lt(e,"colindex",t)}function Zt(e,t){Lt(e,"sort",t)}function Kt(e){It(e,"sort")}function qt(e,t){Tt(e,"selected",t)}function Qt(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function Yt(){return void 0===kt&&(kt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),kt}function Xt(){if(void 0===bt)if(Yt()){var e=navigator.userAgent.match(/version\/(\d+)/i);e&&(bt=null!=e[1]?parseFloat(e[1]):0)}else bt=0;return bt}function Jt(){if(void 0===Rt){var e=window;Rt=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Rt}function $t(){return void 0===Et&&(Et=/(firefox)/i.test(navigator.userAgent)),Et}function en(){return void 0===Ft&&(Ft=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Ft}function tn(){return void 0===Pt&&(Pt=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Pt}function nn(){return!Yt()||Xt()>=15}function rn(e){if(!e)return null;var t=e.tabIndex,n=e.getAttribute("tabIndex");return-1!==t||null!==n&&(""!==n||$t())?t.toString():null}function on(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var n=t.offsetWidth-t.clientWidth;0===n&&0===t.clientWidth&&(n=null),t.parentNode&&t.parentNode.removeChild(t),null!=n&&(xt=n,Dt=0===n)}function an(){return null==Dt&&on(),Dt}var sn="[tabindex], input, select, button, textarea, [href]",ln="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function un(e){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),i=t.call(e,ln),r=Fn(e);return n&&!i&&r}function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipAriaHidden;e.classList.toggle("ag-hidden",!t),i||Vt(e,!t)}function dn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipAriaHidden;e.classList.toggle("ag-invisible",!t),i||Vt(e,!t)}function hn(e,t){var n="disabled",i=t?function(e){return e.setAttribute(n,"")}:function(e){return e.removeAttribute(n)};i(e),In(e.querySelectorAll("input"),(function(e){return i(e)}))}function fn(e,t,n){for(var i=0;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof n){if(++i>n)break}else if(e===n)break}return!1}function vn(e){var t=window.getComputedStyle(e),n=t.height,i=t.width,r=t.borderTopWidth,o=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,u=t.paddingRight,c=t.paddingBottom,d=t.paddingLeft,h=t.marginTop,f=t.marginRight,v=t.marginBottom,p=t.marginLeft,g=t.boxSizing;return{height:parseFloat(n||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(v||"0"),marginLeft:parseFloat(p||"0"),boxSizing:g}}function pn(e){var t=vn(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function gn(e){var t=vn(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function mn(e){var t=vn(e),n=t.height,i=t.marginBottom,r=t.marginTop;return Math.floor(n+i+r)}function yn(e){var t=vn(e),n=t.width,i=t.marginLeft,r=t.marginRight;return Math.floor(n+i+r)}function Cn(e){var t=e.getBoundingClientRect(),n=vn(e),i=n.borderTopWidth,r=n.borderLeftWidth,o=n.borderRightWidth,a=n.borderBottomWidth;return{top:t.top+(i||0),left:t.left+(r||0),right:t.right+(o||0),bottom:t.bottom+(a||0)}}function wn(){if("boolean"===typeof Mt)return Mt;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Mt=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Mt}function Sn(e,t){var n=e.scrollLeft;return t&&(n=Math.abs(n),Jt()&&!wn()&&(n=e.scrollWidth-e.clientWidth-n)),n}function kn(e,t,n){n&&(wn()?t*=-1:(Yt()||Jt())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function bn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Rn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function En(e){return!!e.offsetParent}function Fn(e){var t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!En(e)||"visible"!==window.getComputedStyle(e).visibility)}function Pn(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Dn(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):xn(e,t)}function xn(e,t){t=An(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Mn(e,t){t=An(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function An(e){return"number"===typeof e?"".concat(e,"px"):e}function Tn(e){return e instanceof Node||e instanceof HTMLElement}function Ln(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n.toString())}function In(e,t){if(null!=e)for(var n=0;n<e.length;n++)t(e[n])}var On=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;C(this,e),this.nextValue=t,this.step=n}return k(e,[{key:"next",value:function(){var e=this.nextValue;return this.nextValue+=this.step,e}},{key:"peek",value:function(){return this.nextValue}},{key:"skip",value:function(e){this.nextValue+=e}}]),e}(),Nn=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this)).parentComp=e,a.tooltipShowDelayOverride=i,a.tooltipHideDelayOverride=r,a.shouldDisplayTooltip=o,a.interactionEnabled=!1,a.isInteractingWithTooltip=!1,a.state=0,a.tooltipInstanceCount=0,a.tooltipMouseTrack=!1,a}return k(n,[{key:"wireBeans",value:function(e){this.popupService=e.popupService,this.userComponentFactory=e.userComponentFactory}},{key:"postConstruct",value:function(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");var e=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}},{key:"getGridOptionsTooltipDelay",value:function(e){var t=this.gos.get(e);return t<0&&De("".concat(e," should not be lower than 0")),Math.max(200,t)}},{key:"getTooltipDelay",value:function(e){var t,n;return"show"===e?null!==(n=this.tooltipShowDelayOverride)&&void 0!==n?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!==(t=this.tooltipHideDelayOverride)&&void 0!==t?t:this.getGridOptionsTooltipDelay("tooltipHideDelay")}},{key:"destroy",value:function(){this.setToDoNothing(),l(a(n.prototype),"destroy",this).call(this)}},{key:"getTooltipTrigger",value:function(){var e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}},{key:"onMouseEnter",value:function(e){var t=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),tn()||(n.isLocked?this.showTooltipTimeoutId=window.setTimeout((function(){t.prepareToShowTooltip(e)}),100):this.prepareToShowTooltip(e))}},{key:"onMouseMove",value:function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}},{key:"onMouseDown",value:function(){this.setToDoNothing()}},{key:"onMouseLeave",value:function(){this.interactionEnabled?this.lockService():this.setToDoNothing()}},{key:"onFocusIn",value:function(){this.prepareToShowTooltip()}},{key:"onFocusOut",value:function(e){var t,n=e.relatedTarget,i=this.parentComp.getGui(),r=null===(t=this.tooltipComp)||void 0===t?void 0:t.getGui();this.isInteractingWithTooltip||i.contains(n)||this.interactionEnabled&&null!==r&&void 0!==r&&r.contains(n)||this.setToDoNothing()}},{key:"onKeyDown",value:function(){this.setToDoNothing()}},{key:"prepareToShowTooltip",value:function(e){if(0==this.state&&!n.isLocked){var t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}}},{key:"isLastTooltipHiddenRecently",value:function(){return(new Date).getTime()-n.lastTooltipHideTime<1e3}},{key:"setToDoNothing",value:function(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}},{key:"showTooltip",value:function(){var e=y({},this.parentComp.getTooltipParams());if(!$(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())this.setToDoNothing();else{this.state=2,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}}},{key:"hideTooltip",value:function(e){if(e||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),n.lastTooltipHideTime=(new Date).getTime());var t={type:"tooltipHide",parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(t),e&&(this.isInteractingWithTooltip=!1),this.state=0}}},{key:"newTooltipComponentCallback",value:function(e,t){if(2!==this.state||this.tooltipInstanceCount!==e)this.destroyBean(t);else{var n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");var i=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){var a=this.setToDoNothing.bind(this),s=this.addManagedEventListeners({bodyScroll:a,columnMoved:a}),l=(0,r.Z)(s,2);this.onBodyScrollEventCallback=l[0],this.onColumnMovedEventCallback=l[1]}if(this.interactionEnabled)if(0===this.tooltipTrigger){var u=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),c=(0,r.Z)(u,2);this.tooltipMouseEnterListener=c[0],this.tooltipMouseLeaveListener=c[1]}else{var d=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}),h=(0,r.Z)(d,2);this.tooltipFocusInListener=h[0],this.tooltipFocusOutListener=h[1]}var f={type:"tooltipShow",tooltipGui:n,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(f),this.startHideTimeout()}}},{key:"onTooltipMouseEnter",value:function(){this.isInteractingWithTooltip=!0,this.unlockService()}},{key:"onTooltipMouseLeave",value:function(){this.isInteractingWithTooltip=!1,this.lockService()}},{key:"onTooltipFocusIn",value:function(){this.isInteractingWithTooltip=!0}},{key:"onTooltipFocusOut",value:function(e){var t,n=this.parentComp.getGui(),i=null===(t=this.tooltipComp)||void 0===t?void 0:t.getGui(),r=e.relatedTarget;null!==i&&void 0!==i&&i.contains(r)||(this.isInteractingWithTooltip=!1,n.contains(r)?this.startHideTimeout():this.hideTooltip())}},{key:"positionTooltip",value:function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(y(y({},e),{},{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(y(y({},e),{},{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}},{key:"destroyTooltipComp",value:function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,n=this.tooltipComp,i=0===this.tooltipTrigger?1e3:0;window.setTimeout((function(){t(),e.destroyBean(n)}),i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}},{key:"clearTooltipListeners",value:function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((function(e){e&&e()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}},{key:"lockService",value:function(){var e=this;n.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((function(){e.unlockService(),e.setToDoNothing()}),100)}},{key:"unlockService",value:function(){n.isLocked=!1,this.clearInteractiveTimeout()}},{key:"startHideTimeout",value:function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}},{key:"clearShowTimeout",value:function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}},{key:"clearHideTimeout",value:function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}},{key:"clearInteractiveTimeout",value:function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}},{key:"clearTimeouts",value:function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}}]),n}(Y);Nn.isLocked=!1;var Gn=Nn,Bn=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).ctrl=e,i&&(r.beans=i),r}return k(n,[{key:"wireBeans",value:function(e){this.beans=e}},{key:"postConstruct",value:function(){this.refreshToolTip()}},{key:"setBrowserTooltip",value:function(e){var t="title",n=this.ctrl.getGui();n&&(null!=e&&""!=e?n.setAttribute(t,e):n.removeAttribute(t))}},{key:"updateTooltipText",value:function(){this.tooltip=this.ctrl.getTooltipValue()}},{key:"createTooltipFeatureIfNeeded",value:function(){var e,t,n,i,r=this;if(null==this.tooltipManager){var o={getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}};this.tooltipManager=this.createBean(new Gn(o,null===(e=(t=this.ctrl).getTooltipShowDelayOverride)||void 0===e?void 0:e.call(t),null===(n=(i=this.ctrl).getTooltipHideDelayOverride)||void 0===n?void 0:n.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context)}}},{key:"refreshToolTip",value:function(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}},{key:"getTooltipParams",value:function(){var e=this,t=this.ctrl,n=t.getColumn?t.getColumn():void 0,i=t.getColDef?t.getColDef():void 0,r=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:i,column:n,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:r,data:r?r.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0,hideTooltipCallback:function(){var t;return null===(t=e.tooltipManager)||void 0===t?void 0:t.hideTooltip(!0)}}}},{key:"getTooltipText",value:function(){return this.tooltip}},{key:"destroy",value:function(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),Hn=new On,Vn=null,Wn=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).suppressDataRefValidation=!1,r.displayed=!0,r.visible=!0,r.compId=Hn.next(),r.cssClassManager=new At((function(){return r.eGui})),r.componentSelectors=new Map((null!==i&&void 0!==i?i:[]).map((function(e){return[e.selector,e]}))),e&&r.setTemplate(e),r}return k(n,[{key:"preWireBeans",value:function(e){l(a(n.prototype),"preWireBeans",this).call(this,e)}},{key:"preConstruct",value:function(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}},{key:"wireTemplate",value:function(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}},{key:"getCompId",value:function(){return this.compId}},{key:"getTooltipParams",value:function(){return{value:this.tooltipText,location:"UNKNOWN"}}},{key:"setTooltip",value:function(e){var t=this,n=e||{},i=n.newTooltipText,r=n.showDelayOverride,o=n.hideDelayOverride,a=n.location,s=n.shouldDisplayTooltip;this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);null!=i&&(this.tooltipFeature=this.createBean(new Bn({getTooltipValue:function(){return t.tooltipText},getGui:function(){return t.getGui()},getLocation:function(){return null!==a&&void 0!==a?a:"UNKNOWN"},getColDef:null===e||void 0===e?void 0:e.getColDef,getColumn:null===e||void 0===e?void 0:e.getColumn,getTooltipShowDelayOverride:null!=r?function(){return r}:void 0,getTooltipHideDelayOverride:null!=o?function(){return o}:void 0,shouldDisplayTooltip:s})))}},{key:"getDataRefAttribute",value:function(e){return e.getAttribute?e.getAttribute("data-ref"):null}},{key:"applyElementsToComponent",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===t&&(t=this.getDataRefAttribute(e)),t){var r=this[t];if(r===Vn)this[t]=null!==i&&void 0!==i?i:e;else{var o=n&&n[t];this.suppressDataRefValidation||o||De("Issue with data-ref: ".concat(t," on ").concat(this.constructor.name," with ").concat(r))}}}},{key:"createChildComponentsFromTags",value:function(e,t){var n=this;(function(e){if(null==e)return[];var t=[];return In(e,(function(e){return t.push(e)})),t})(e.childNodes).forEach((function(i){if(i instanceof HTMLElement){var r=n.createComponentFromElement(i,(function(e){e.getGui()&&n.copyAttributesFromNode(i,e.getGui())}),t);if(r){if(r.addItems&&i.children.length){n.createChildComponentsFromTags(i,t);var o=Array.prototype.slice.call(i.children);r.addItems(o)}n.swapComponentForNode(r,e,i)}else i.childNodes&&n.createChildComponentsFromTags(i,t)}}))}},{key:"createComponentFromElement",value:function(e,t,i){var r=e.nodeName,o=this.getDataRefAttribute(e),a=0===r.indexOf("AG-"),s=a?this.componentSelectors.get(r):null,l=null;if(s){n.elementGettingCreated=e;var u=i&&o?i[o]:void 0;(l=new s.component(u)).setParentComponent(this),this.createBean(l,null,t)}else a&&De("Missing selector: ".concat(r));return this.applyElementsToComponent(e,o,i,l),l}},{key:"copyAttributesFromNode",value:function(e,t){!function(e,t){if(e)for(var n=0;n<e.length;n++){var i=e[n];t(i.name,i.value)}}(e.attributes,(function(e,n){return t.setAttribute(e,n)}))}},{key:"swapComponentForNode",value:function(e,t,n){var i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}},{key:"activateTabIndex",value:function(e){var t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach((function(e){return e.setAttribute("tabindex",t.toString())}))}},{key:"setTemplate",value:function(e,t,n){var i=Pn(e);this.setTemplateFromElement(i,t,n)}},{key:"setTemplateFromElement",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.eGui=e,this.suppressDataRefValidation=i,t)for(var r=0;r<t.length;r++){var o=t[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,n)}},{key:"getGui",value:function(){return this.eGui}},{key:"getFocusableElement",value:function(){return this.eGui}},{key:"getAriaElement",value:function(){return this.getFocusableElement()}},{key:"setParentComponent",value:function(e){this.parentComponent=e}},{key:"getParentComponent",value:function(){return this.parentComponent}},{key:"setGui",value:function(e){this.eGui=e}},{key:"queryForHtmlElement",value:function(e){return this.eGui.querySelector(e)}},{key:"getContainerAndElement",value:function(e,t){var n=t;return null==e?null:(n||(n=this.eGui),Tn(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}},{key:"prependChild",value:function(e,t){var n=this.getContainerAndElement(e,t)||{},i=n.element,r=n.parent;i&&r&&r.insertAdjacentElement("afterbegin",i)}},{key:"appendChild",value:function(e,t){var n=this.getContainerAndElement(e,t)||{},i=n.element,r=n.parent;i&&r&&r.appendChild(i)}},{key:"isDisplayed",value:function(){return this.displayed}},{key:"setVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.visible){this.visible=e;var n=t.skipAriaHidden;dn(this.eGui,e,{skipAriaHidden:n})}}},{key:"setDisplayed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.displayed){this.displayed=e;var n=t.skipAriaHidden;cn(this.eGui,e,{skipAriaHidden:n});var i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}},{key:"destroy",value:function(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),l(a(n.prototype),"destroy",this).call(this)}},{key:"addGuiEventListener",value:function(e,t,n){var i=this;this.eGui.addEventListener(e,t,n),this.addDestroyFunc((function(){return i.eGui.removeEventListener(e,t)}))}},{key:"addCssClass",value:function(e){this.cssClassManager.addCssClass(e)}},{key:"removeCssClass",value:function(e){this.cssClassManager.removeCssClass(e)}},{key:"containsCssClass",value:function(e){return this.cssClassManager.containsCssClass(e)}},{key:"addOrRemoveCssClass",value:function(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}}]),n}(Y),zn={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"};function _n(e,t,n){var i=Un(e,t,n);if(i){var r=i.className;if("string"===typeof r&&r.indexOf("ag-icon")>-1||"object"===typeof r&&r["ag-icon"])return i}var o=document.createElement("span");return o.appendChild(i),o}function Un(e,t,n,i){var r,o=null,a=n&&n.getColDef().icons;if(a&&(o=a[e]),t&&!o){var s=t.get("icons");s&&(o=s[e])}if(!o){var l=document.createElement("span"),u=zn[e];return u||(i?u=e:(De("Did not find icon ".concat(e)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),Nt(l,"presentation"),l}if("function"===typeof o)r=o();else{if("string"!==typeof o)throw new Error("icon from grid options needs to be a string or a function");r=o}return"string"===typeof r?Pn(r):Tn(r)?r:void De("iconRenderer should return back a string or a dom object")}function jn(e,t,n){if(0===n)return!1;var i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}var Zn=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C(this,e),this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new L,this.eElement=t,this.preventMouseClick=i;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",a,{passive:!1})}))}return k(e,[{key:"getActiveTouch",value:function(e){for(var t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null}},{key:"addEventListener",value:function(e,t){this.localEventService.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.localEventService.removeEventListener(e,t)}},{key:"onTouchStart",value:function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout((function(){var i=t.touchStart===n;if(t.touching&&i&&!t.moved){t.moved=!0;var r={type:"longTap",touchStart:t.touchStart,touchEvent:e};t.localEventService.dispatchEvent(r)}}),500)}}},{key:"onTouchMove",value:function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t)!jn(t,this.touchStart,4)&&(this.moved=!0)}}},{key:"onTouchEnd",value:function(e){if(this.touching){if(!this.moved){var t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}},{key:"checkForDoubleTap",value:function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){var t={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}},{key:"destroy",value:function(){this.destroyFuncs.forEach((function(e){return e()}))}}]),e}(),Kn=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).eSortOrder=Vn,i.eSortAsc=Vn,i.eSortDesc=Vn,i.eSortMixed=Vn,i.eSortNone=Vn,e||i.setTemplate('<span class="ag-sort-indicator-container">\n        <span data-ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n    </span>'),i}return k(n,[{key:"wireBeans",value:function(e){this.sortController=e.sortController}},{key:"attachCustomElements",value:function(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}},{key:"setupSort",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.column=e,this.suppressOrder=n,this.setupMultiSortIndicator(),(this.column.isSortable()||this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",(function(){return t.updateIcons()})),this.addManagedEventListeners({newColumnsLoaded:this.updateIcons.bind(this),sortChanged:this.onSortChanged.bind(this),columnRowGroupChanged:this.onSortChanged.bind(this)}),this.onSortChanged())}},{key:"addInIcon",value:function(e,t,n){if(null!=t){var i=Un(e,this.gos,n);i&&t.appendChild(i)}}},{key:"onSortChanged",value:function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}},{key:"updateIcons",value:function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var t="asc"===e;cn(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){var n="desc"===e;cn(this.eSortDesc,n,{skipAriaHidden:!0})}if(this.eSortNone){var i=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),r=null===e||void 0===e;cn(this.eSortNone,!i&&r,{skipAriaHidden:!0})}}},{key:"setupMultiSortIndicator",value:function(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);var e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}},{key:"updateMultiSortIndicator",value:function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);cn(this.eSortMixed,e,{skipAriaHidden:!0})}}},{key:"updateSortOrder",value:function(){var e,t=this;if(this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),i=null!==(e=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==e?e:-1,r=n.some((function(e){var n;return null!==(n=t.sortController.getDisplaySortIndexForColumn(e))&&void 0!==n&&n})),o=i>=0&&r;cn(this.eSortOrder,o,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():bn(this.eSortOrder)}}}]),n}(Wn),qn={selector:"AG-SORT-INDICATOR",component:Kn},Qn=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).eFilter=Vn,e.eFilterButton=Vn,e.eSortIndicator=Vn,e.eMenu=Vn,e.eLabel=Vn,e.eText=Vn,e.eSortOrder=Vn,e.eSortAsc=Vn,e.eSortDesc=Vn,e.eSortMixed=Vn,e.eSortNone=Vn,e.lastMovingChanged=0,e}return k(n,[{key:"wireBeans",value:function(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}},{key:"refresh",value:function(e){var t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}},{key:"workOutTemplate",value:function(){var e,t=null!==(e=this.params.template)&&void 0!==e?e:'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return t=t&&t.trim?t.trim():t}},{key:"init",value:function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[qn]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}},{key:"setDisplayName",value:function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=rt(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}},{key:"addInIcon",value:function(e,t,n){if(null!=t){var i=Un(e,this.gos,n);i&&t.appendChild(i)}}},{key:"setupTap",value:function(){var e=this;if(!this.gos.get("suppressTouch")){var t=new Zn(this.getGui(),!0),n=this.shouldSuppressMenuHide(),i=n&&$(this.eMenu),r=i?new Zn(this.eMenu,!0):t;if(this.params.enableMenu){var o=i?"tap":"longTap";this.addManagedListeners(r,(0,g.Z)({},o,(function(t){return e.params.showColumnMenuAfterMouseClick(t.touchStart)})))}if(this.params.enableSorting){this.addManagedListeners(t,{tap:function(t){var i,r,o=t.touchStart.target;n&&(null!==(i=e.eMenu)&&void 0!==i&&i.contains(o)||null!==(r=e.eFilterButton)&&void 0!==r&&r.contains(o))||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}})}if(this.params.enableFilterButton){var a=new Zn(this.eFilterButton,!0);this.addManagedListeners(a,{tap:function(){return e.params.showFilter(e.eFilterButton)}}),this.addDestroyFunc((function(){return a.destroy()}))}this.addDestroyFunc((function(){return t.destroy()})),i&&this.addDestroyFunc((function(){return r.destroy()}))}}},{key:"workOutShowMenu",value:function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}},{key:"shouldSuppressMenuHide",value:function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}},{key:"setMenu",value:function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return Rn(this.eMenu),void(this.eMenu=void 0);var t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:function(){return e.params.showColumnMenu(e.eMenu)}}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}}},{key:"onMenuKeyboardShortcut",value:function(e){var t,n,i=this.params.column,r=this.menuService.isLegacyMenuEnabled();if(e&&!r){if(this.menuService.isFilterMenuInHeaderEnabled(i))return this.params.showFilter(null!==(t=null!==(n=this.eFilterButton)&&void 0!==n?n:this.eMenu)&&void 0!==t?t:this.getGui()),!0}else if(this.params.enableMenu){var o,a;return this.params.showColumnMenu(null!==(o=null!==(a=this.eMenu)&&void 0!==a?a:this.eFilterButton)&&void 0!==o?o:this.getGui()),!0}return!1}},{key:"workOutSort",value:function(){return this.params.enableSorting}},{key:"setupSort",value:function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Kn(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){this.addManagedListeners(this.params.column,{movingChanged:function(){e.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:function(t){var n=e.params.column.isMoving(),i=(new Date).getTime()-e.lastMovingChanged<50;if(!(n||i)){var r="ctrl"===e.gos.get("multiSortKey")?t.ctrlKey||t.metaKey:t.shiftKey;e.params.progressSort(r)}}});var t=function(){var t=e.params.column.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===t),e.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===t),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),e.params.column.getColDef().showRowGroup){var n=e.funcColsService.getSourceColumnsForGroupColumn(e.params.column),i=!(null===n||void 0===n?void 0:n.every((function(t){return e.params.column.getSort()==t.getSort()})));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedEventListeners({sortChanged:t,columnRowGroupChanged:t})}}},{key:"setupFilterIcon",value:function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}},{key:"setupFilterButton",value:function(){var e=this;this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:function(){return e.params.showFilter(e.eFilterButton)}}):this.eFilterButton=void 0)}},{key:"configureFilter",value:function(e,t,n){if(!e)return Rn(t),!1;var i=this.params.column;return this.addInIcon("filter",t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}},{key:"onFilterChangedIcon",value:function(){var e=this.params.column.isFilterActive();cn(this.eFilter,e,{skipAriaHidden:!0})}},{key:"onFilterChangedButton",value:function(){var e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}},{key:"getAnchorElementForMenu",value:function(e){var t,n,i,r;return e?null!==(i=null!==(r=this.eFilterButton)&&void 0!==r?r:this.eMenu)&&void 0!==i?i:this.getGui():null!==(t=null!==(n=this.eMenu)&&void 0!==n?n:this.eFilterButton)&&void 0!==t?t:this.getGui()}}]),n}(Wn),Yn=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>')).agOpened=Vn,e.agClosed=Vn,e.agLabel=Vn,e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}},{key:"init",value:function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}},{key:"checkWarnings",value:function(){this.params.template&&De("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}},{key:"setupExpandIcons",value:function(){var e=this;this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);var t=function(t){if(!Z(t)){var n=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.agClosed,t),this.addTouchAndClickListeners(this.agOpened,t);var n=function(e){j(e)};this.addManagedElementListeners(this.agClosed,{dblclick:n}),this.addManagedElementListeners(this.agOpened,{dblclick:n}),this.addManagedElementListeners(this.getGui(),{dblclick:t}),this.updateIconVisibility();var i=this.params.columnGroup.getProvidedColumnGroup(),r=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:r,expandableChanged:r})}},{key:"addTouchAndClickListeners",value:function(e,t){var n=new Zn(e,!0);this.addManagedListeners(n,{tap:t}),this.addDestroyFunc((function(){return n.destroy()})),this.addManagedElementListeners(e,{click:t})}},{key:"updateIconVisibility",value:function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();cn(this.agOpened,e),cn(this.agClosed,!e)}else cn(this.agOpened,!1),cn(this.agClosed,!1)}},{key:"addInIcon",value:function(e,t){var n=Un(e,this.gos,null);n&&t.appendChild(n)}},{key:"addGroupExpandIcon",value:function(){if(!this.params.columnGroup.isExpandable())return cn(this.agOpened,!1),void cn(this.agClosed,!1)}},{key:"setupLabel",value:function(){var e,t=this.params,n=t.displayName,i=t.columnGroup;if($(n)){var r=rt(n,!0);this.agLabel.textContent=r}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=i.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))}}]),n}(Wn),Xn=function(e){return e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e}(Xn||{}),Jn=function(){function e(){C(this,e)}return k(e,null,[{key:"register",value:function(t){e.__register(t,!0,void 0)}},{key:"registerModules",value:function(t){e.__registerModules(t,!0,void 0)}},{key:"__register",value:function(t,n,i){e.runVersionChecks(t),void 0!==i?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[i]&&(e.gridModulesMap[i]={}),e.gridModulesMap[i][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(n)}},{key:"__unRegisterGridModules",value:function(t){delete e.gridModulesMap[t]}},{key:"__registerModules",value:function(t,n,i){e.setModuleBased(n),t&&t.forEach((function(t){return e.__register(t,n,i)}))}},{key:"isValidModuleVersion",value:function(t){var n=t.version.split(".")||[],i=(0,r.Z)(n,2),o=i[0],a=i[1],s=e.currentModuleVersion.split(".")||[],l=(0,r.Z)(s,2),u=l[0],c=l[1];return o===u&&a===c}},{key:"runVersionChecks",value:function(t){e.currentModuleVersion||(e.currentModuleVersion=t.version);var n=function(e){return"You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ".concat(e," Please update all modules to the same version.")};if(t.version?e.isValidModuleVersion(t)||xe(n("'".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(e.currentModuleVersion,"."))):xe(n("'".concat(t.moduleName,"' is incompatible."))),t.validate){var i=t.validate();if(!i.isValid)xe("".concat(i.message))}}},{key:"setModuleBased",value:function(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&(xe("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),xe("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}},{key:"__setIsBundled",value:function(){e.isBundled=!0}},{key:"__assertRegistered",value:function(t,n,i){if(this.__isRegistered(t,i))return!0;var o;if(e.isBundled)o="AG Grid: unable to use ".concat(n," as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise");else if(e.moduleBased||void 0===e.moduleBased){var a,s=null===(a=Object.entries(Xn).find((function(e){var n=(0,r.Z)(e,2);n[0];return n[1]===t})))||void 0===a?void 0:a[0];o="AG Grid: unable to use ".concat(n," as the ").concat(s," is not registered").concat(e.areGridScopedModules?" for gridId: ".concat(i):"",". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ").concat(s," } from '").concat(t,"';\n    \n    ModuleRegistry.registerModules([ ").concat(s," ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/")}else o="AG Grid: unable to use ".concat(n," as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';");return xe(o),!1}},{key:"__isRegistered",value:function(t,n){var i;return!!e.globalModulesMap[t]||!(null===(i=e.gridModulesMap[n])||void 0===i||!i[t])}},{key:"__getRegisteredModules",value:function(t){return[].concat((0,o.Z)(le(e.globalModulesMap)),(0,o.Z)(le(e.gridModulesMap[t]||{})))}},{key:"__getGridRegisteredModules",value:function(t){var n;return le(null!==(n=e.gridModulesMap[t])&&void 0!==n?n:{})||[]}},{key:"__isPackageBased",value:function(){return!e.moduleBased}}]),e}();Jn.globalModulesMap={},Jn.gridModulesMap={},Jn.areGridScopedModules=!1;var $n=Jn,ei=function(e){c(n,e);var t=p(n);function n(){var e;C(this,n),(e=t.call(this)).refreshCount=0;var i=document.createElement("span"),r=document.createElement("span");r.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),i.appendChild(r),i.appendChild(o),e.setTemplateFromElement(i),e}return k(n,[{key:"wireBeans",value:function(e){this.filterManager=e.filterManager}},{key:"init",value:function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}},{key:"showDelta",value:function(e,t){var n=Math.abs(t),i=e.formatValue(n),r=$(i)?i:n,o=t>=0;this.eDelta.textContent=o?"\u2191"+r:"\u2193"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}},{key:"setTimerToRemoveDelta",value:function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((function(){window.setTimeout((function(){t===e.refreshCount&&e.hideDeltaValue()}),2e3)}))}},{key:"hideDeltaValue",value:function(){this.eValue.classList.remove("ag-value-change-value-highlight"),bn(this.eDelta)}},{key:"refresh",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.value;if(i===this.lastValue)return!1;if($(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:$(e.value)?this.eValue.textContent=i:bn(this.eValue),null!==(t=this.filterManager)&&void 0!==t&&t.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof i&&"number"===typeof this.lastValue){var r=i-this.lastValue;this.showDelta(e,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),n||this.setTimerToRemoveDelta(),this.lastValue=i,!0}}]),n}(Wn),ti=function(e){c(n,e);var t=p(n);function n(){var e;C(this,n),(e=t.call(this)).refreshCount=0;var i=document.createElement("span"),r=document.createElement("span");return r.setAttribute("class","ag-value-slide-current"),i.appendChild(r),e.setTemplateFromElement(i),e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return k(n,[{key:"wireBeans",value:function(e){this.filterManager=e.filterManager}},{key:"init",value:function(e){this.refresh(e,!0)}},{key:"addSlideAnimation",value:function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var n=document.createElement("span");n.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=n,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming((function(){window.setTimeout((function(){t===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)}),3e3)}))}},{key:"refresh",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.value;return ee(i)&&(i=""),i!==this.lastValue&&((null===(t=this.filterManager)||void 0===t||!t.isSuppressFlashingCellsBecauseFiltering())&&(n||this.addSlideAnimation(),this.lastValue=i,$(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:$(e.value)?this.eCurrent.textContent=i:bn(this.eCurrent),!0))}}]),n}(Wn),ni=k((function e(){C(this,e)}));ni.BACKSPACE="Backspace",ni.TAB="Tab",ni.ENTER="Enter",ni.ESCAPE="Escape",ni.SPACE=" ",ni.LEFT="ArrowLeft",ni.UP="ArrowUp",ni.RIGHT="ArrowRight",ni.DOWN="ArrowDown",ni.DELETE="Delete",ni.F2="F2",ni.PAGE_UP="PageUp",ni.PAGE_DOWN="PageDown",ni.PAGE_HOME="Home",ni.PAGE_END="End",ni.A="KeyA",ni.C="KeyC",ni.D="KeyD",ni.V="KeyV",ni.X="KeyX",ni.Y="KeyY",ni.Z="KeyZ";var ii=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this,e,i,r)).className=o,a}return k(n,[{key:"postConstruct",value:function(){l(a(n.prototype),"postConstruct",this).call(this);var e=this.config,t=e.width,i=e.value,r=e.onValueChange;null!=t&&this.setWidth(t),null!=i&&this.setValue(i),null!=r&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}},{key:"setLabel",value:function(e){return l(a(n.prototype),"setLabel",this).call(this,e),this.refreshAriaLabelledBy(),this}},{key:"refreshAriaLabelledBy",value:function(){var e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();null==n||""==n||null!==e.getAttribute("aria-label")?Bt(e,""):Bt(e,null!==t&&void 0!==t?t:"")}},{key:"setAriaLabel",value:function(e){return Gt(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}},{key:"onValueChange",value:function(e){var t=this;return this.addManagedListeners(this,{fieldValueChanged:function(){return e(t.getValue())}}),this}},{key:"getWidth",value:function(){return this.getGui().clientWidth}},{key:"setWidth",value:function(e){return xn(this.getGui(),e),this}},{key:"getPreviousValue",value:function(){return this.previousValue}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}}]),n}(function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this,i,r)).labelSeparator="",o.labelAlignment="left",o.disabled=!1,o.label="",o.config=e||{},o}return k(n,[{key:"postConstruct",value:function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,t=e.labelSeparator,n=e.label,i=e.labelWidth,r=e.labelAlignment,o=e.disabled;null!=o&&this.setDisabled(o),null!=t&&this.setLabelSeparator(t),null!=n&&this.setLabel(n),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}},{key:"refreshLabel",value:function(){bn(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(cn(this.eLabel,!1),Nt(this.eLabel,"presentation")):(cn(this.eLabel,!0),Nt(this.eLabel,null))}},{key:"setLabelSeparator",value:function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}},{key:"getLabelId",value:function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id}},{key:"getLabel",value:function(){return this.label}},{key:"setLabel",value:function(e){return this.label===e||(this.label=e,this.refreshLabel()),this}},{key:"setLabelAlignment",value:function(e){var t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}},{key:"setLabelEllipsis",value:function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}},{key:"setLabelWidth",value:function(e){return null==this.label||Dn(this.eLabel,e),this}},{key:"setDisabled",value:function(e){e=!!e;var t=this.getGui();return hn(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}},{key:"isDisabled",value:function(){return!!this.disabled}}]),n}(Wn)),ri=function(e){c(n,e);var t=p(n);function n(e,i){var r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input";return C(this,n),(o=t.call(this,e,null!==(r=null===e||void 0===e?void 0:e.template)&&void 0!==r?r:'\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'.concat(s,' data-ref="eInput" class="ag-input-field-input"></').concat(s,">\n                </div>\n            </div>"),[],i)).inputType=a,o.displayFieldTag=s,o.eLabel=Vn,o.eWrapper=Vn,o.eInput=Vn,o}return k(n,[{key:"postConstruct",value:function(){l(a(n.prototype),"postConstruct",this).call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,t=e.inputName,i=e.inputWidth;null!=t&&this.setInputName(t),null!=i&&this.setInputWidth(i),this.addInputListeners(),this.activateTabIndex([this.eInput])}},{key:"addInputListeners",value:function(){var e=this;this.addManagedElementListeners(this.eInput,{input:function(t){return e.setValue(t.target.value)}})}},{key:"setInputType",value:function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}},{key:"getInputElement",value:function(){return this.eInput}},{key:"setInputWidth",value:function(e){return Dn(this.eWrapper,e),this}},{key:"setInputName",value:function(e){return this.getInputElement().setAttribute("name",e),this}},{key:"getFocusableElement",value:function(){return this.eInput}},{key:"setMaxLength",value:function(e){return this.eInput.maxLength=e,this}},{key:"setInputPlaceholder",value:function(e){return Ln(this.eInput,"placeholder",e),this}},{key:"setInputAriaLabel",value:function(e){return Gt(this.eInput,e),this.refreshAriaLabelledBy(),this}},{key:"setDisabled",value:function(e){return hn(this.eInput,e),l(a(n.prototype),"setDisabled",this).call(this,e)}},{key:"setAutoComplete",value:function(e){if(!0===e)Ln(this.eInput,"autocomplete",null);else{var t="string"===typeof e?e:"off";Ln(this.eInput,"autocomplete",t)}return this}}]),n}(ii),oi=function(e){c(n,e);var t=p(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-checkbox",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox";return C(this,n),(i=t.call(this,e,r,o)).labelAlignment="right",i.selected=!1,i.readOnly=!1,i.passive=!1,i}return k(n,[{key:"postConstruct",value:function(){l(a(n.prototype),"postConstruct",this).call(this);var e=this.config,t=e.readOnly,i=e.passive;"boolean"===typeof t&&this.setReadOnly(t),"boolean"===typeof i&&this.setPassive(i)}},{key:"addInputListeners",value:function(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}},{key:"getNextValue",value:function(){return void 0===this.selected||!this.selected}},{key:"setPassive",value:function(e){this.passive=e}},{key:"isReadOnly",value:function(){return this.readOnly}},{key:"setReadOnly",value:function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}},{key:"setDisabled",value:function(e){return this.eWrapper.classList.toggle("ag-disabled",e),l(a(n.prototype),"setDisabled",this).call(this,e)}},{key:"toggle",value:function(){if(!this.eInput.disabled){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}}},{key:"getValue",value:function(){return this.isSelected()}},{key:"setValue",value:function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}},{key:"setName",value:function(e){return this.getInputElement().name=e,this}},{key:"isSelected",value:function(){return this.selected}},{key:"setSelected",value:function(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}},{key:"dispatchChange",value:function(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});var i=this.getInputElement(),r={type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t};this.eventService.dispatchEvent(r)}},{key:"onCheckboxClick",value:function(e){if(!this.passive&&!this.eInput.disabled){var t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}}},{key:"refreshSelectedClass",value:function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}}]),n}(ri),ai={selector:"AG-CHECKBOX",component:oi},si=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[ai])).eCheckbox=Vn,e}return k(n,[{key:"init",value:function(e){var t=this;this.params=e,this.updateCheckbox(e);var n=this.eCheckbox.getInputElement();n.setAttribute("tabindex","-1"),Ht(n,"polite"),this.addManagedListeners(n,{click:function(e){if(j(e),!t.eCheckbox.isDisabled()){var n=t.eCheckbox.getValue();t.onCheckboxChanged(n)}},dblclick:function(e){j(e)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:function(e){if(e.key===ni.SPACE&&!t.eCheckbox.isDisabled()){t.params.eGridCell===t.gos.getActiveDomElement()&&t.eCheckbox.toggle();var n=t.eCheckbox.getValue();t.onCheckboxChanged(n),e.preventDefault()}}})}},{key:"refresh",value:function(e){return this.params=e,this.updateCheckbox(e),!0}},{key:"updateCheckbox",value:function(e){var t,n,i=!0;if(e.node.group&&e.column){var r=e.column.getColId();if(r.startsWith(He))n=null==e.value||""===e.value?void 0:"true"===e.value;else if(e.node.aggData&&void 0!==e.node.aggData[r]){var o;n=null!==(o=e.value)&&void 0!==o?o:void 0}else i=!1}else{var a;n=null!==(a=e.value)&&void 0!==a?a:void 0}if(i){this.eCheckbox.setValue(n);var s=null!=e.disabled?e.disabled:!(null!==(t=e.column)&&void 0!==t&&t.isCellEditable(e.node));this.eCheckbox.setDisabled(s);var l=this.localeService.getLocaleTextFunc(),u=Qt(l,n),c=s?u:"".concat(l("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(u,")");this.eCheckbox.setInputAriaLabel(c)}else this.eCheckbox.setDisplayed(!1)}},{key:"onCheckboxChanged",value:function(e){var t=this.params,n=t.column,i=t.node,r=t.value,o={type:"cellEditingStarted",column:n,colDef:null===n||void 0===n?void 0:n.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:r};this.eventService.dispatchEvent(o);var a=this.params.node.setDataValue(this.params.column,e,"edit"),s={type:"cellEditingStopped",column:n,colDef:null===n||void 0===n?void 0:n.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:r,oldValue:r,newValue:e,valueChanged:a};this.eventService.dispatchEvent(s)}}]),n}(Wn),li=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>')).eLoadingIcon=Vn,e.eLoadingText=Vn,e}return k(n,[{key:"init",value:function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}},{key:"setupFailed",value:function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}},{key:"setupLoading",value:function(){var e=Un("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}},{key:"refresh",value:function(e){return!1}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}}]),n}(Wn),ui=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.call(this,'<div class="ag-skeleton-container"></div>')}return k(n,[{key:"init",value:function(e){var t="ag-cell-skeleton-renderer-".concat(this.getCompId());this.getGui().setAttribute("id",t),this.addDestroyFunc((function(){return Bt(e.eParentOfValue)})),Bt(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}},{key:"setupFailed",value:function(){var e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");var t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Gt(this.getGui(),t)}},{key:"setupLoading",value:function(e){var t=this.gos.getDocument().createElement("div");t.classList.add("ag-skeleton-effect");var n=e.node.rowIndex;if(null!=n){var i=75+25*(n%2===0?Math.sin(n):Math.cos(n));t.style.width="".concat(i,"%")}this.getGui().appendChild(t);var r=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Gt(this.getGui(),r)}},{key:"refresh",value:function(e){return!1}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}}]),n}(Wn),ci=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.call(this)}return k(n,[{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}}]),n}(Wn),di=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"init",value:function(){var e=this,t=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(null!==t&&void 0!==t?t:'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!t){var n=this.localeService.getLocaleTextFunc();setTimeout((function(){e.getGui().textContent=n("loadingOoo","Loading...")}))}}}]),n}(ci),hi=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"init",value:function(){var e=this,t=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(null!==t&&void 0!==t?t:'<span class="ag-overlay-no-rows-center"></span>'),!t){var n=this.localeService.getLocaleTextFunc();setTimeout((function(){e.getGui().textContent=n("noRowsToShow","No Rows To Show")}))}}}]),n}(ci),fi=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"isPopup",value:function(){return!0}},{key:"setParentComponent",value:function(e){e.addCssClass("ag-has-popup"),l(a(n.prototype),"setParentComponent",this).call(this,e)}},{key:"destroy",value:function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),l(a(n.prototype),"destroy",this).call(this)}}]),n}(Wn),vi=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.call(this,'<div class="ag-tooltip"></div>')}return k(n,[{key:"init",value:function(e){var t=e.value;this.getGui().textContent=rt(t,!0)}}]),n}(fi);function pi(e,t,n,i){var r=t.map((function(t,n){return{value:t,relevance:gi(e.toLowerCase(),t.toLocaleLowerCase()),idx:n}}));if(r.sort((function(e,t){return t.relevance-e.relevance})),n&&(r=r.filter((function(e){return 0!==e.relevance}))),r.length>0&&i&&i>0){var o=r[0].relevance*i;r=r.filter((function(e){return o-e.relevance<0}))}var a,s=[],l=[],u=x(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.push(c.value),l.push(c.idx)}}catch(Am){u.e(Am)}finally{u.f()}return{values:s,indices:l}}function gi(e,t){for(var n=e.replace(/\s/g,""),i=t.replace(/\s/g,""),r=0,o=-1,a=0;a<n.length;a++){var s=i.indexOf(n[a],o+1);-1!==s&&(r+=100-100*(o=s)/1e4*100)}return r}var mi=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="userComponentRegistry",e.agGridDefaults={agColumnHeader:Qn,agColumnGroupHeader:Yn,agSortIndicator:Kn,agAnimateShowChangeCellRenderer:ei,agAnimateSlideCellRenderer:ti,agLoadingCellRenderer:li,agSkeletonCellRenderer:ui,agCheckboxCellRenderer:si,agLoadingOverlay:di,agNoRowsOverlay:hi,agTooltipComponent:vi},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},e.jsComps={},e}return k(n,[{key:"postConstruct",value:function(){var e=this,t=this.gos.get("components");null!=t&&ce(t,(function(t,n){return e.registerJsComponent(t,n)}))}},{key:"registerDefaultComponent",value:function(e,t){this.agGridDefaults[e]=t}},{key:"registerJsComponent",value:function(e,t){this.jsComps[e]=t}},{key:"retrieve",value:function(e,t){var n=this,i=function(e,t){return{componentFromFramework:t,component:e}},r=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=r)return i(r,!0);var o=this.jsComps[t];if(o)return i(o,this.getFrameworkOverrides().isFrameworkComponent(o));var a=this.agGridDefaults[t];if(a)return i(a,!1);var s=this.enterpriseAgDefaultCompsModule[t];return s?$n.__assertRegistered(s,"AG Grid '".concat(e,"' component: ").concat(t),this.gridId):Fe((function(){n.warnAboutMissingComponent(e,t)}),"MissingComp"+t),null}},{key:"warnAboutMissingComponent",value:function(e,t){var n=pi(t,[].concat((0,o.Z)(Object.keys(this.agGridDefaults).filter((function(e){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e)}))),(0,o.Z)(Object.keys(this.jsComps))),!0,.8).values;De("Could not find '".concat(t,"' component. It was configured as \"").concat(e,": '").concat(t,"'\" but it wasn't found in the list of registered components.")),n.length>0&&De("         Did you mean: [".concat(n.slice(0,3),"]?")),De("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))}}]),n}(Y),yi=function(){function e(t){var n=this;C(this,e),this.status=0,this.resolution=null,this.waiters=[],t((function(e){return n.onDone(e)}),(function(e){return n.onReject(e)}))}return k(e,[{key:"then",value:function(t){var n=this;return new e((function(e){1===n.status?e(t(n.resolution)):n.waiters.push((function(n){return e(t(n))}))}))}},{key:"onDone",value:function(e){this.status=1,this.resolution=e,this.waiters.forEach((function(t){return t(e)}))}},{key:"onReject",value:function(e){}}],[{key:"all",value:function(t){return t.length?new e((function(e){var n=t.length,i=new Array(n);t.forEach((function(t,r){t.then((function(t){i[r]=t,0===--n&&e(i)}))}))})):e.resolve()}},{key:"resolve",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e((function(e){return e(t)}))}}]),e}(),Ci={propertyName:"dateComponent",cellRenderer:!1},wi={propertyName:"headerComponent",cellRenderer:!1},Si={propertyName:"headerGroupComponent",cellRenderer:!1},ki={propertyName:"cellRenderer",cellRenderer:!0},bi={propertyName:"cellRenderer",cellRenderer:!1},Ri={propertyName:"loadingCellRenderer",cellRenderer:!0},Ei={propertyName:"cellEditor",cellRenderer:!1},Fi={propertyName:"innerRenderer",cellRenderer:!0},Pi={propertyName:"loadingOverlayComponent",cellRenderer:!1},Di={propertyName:"noRowsOverlayComponent",cellRenderer:!1},xi={propertyName:"tooltipComponent",cellRenderer:!1},Mi={propertyName:"filter",cellRenderer:!1},Ai={propertyName:"floatingFilterComponent",cellRenderer:!1},Ti={propertyName:"toolPanel",cellRenderer:!1},Li={propertyName:"statusPanel",cellRenderer:!1},Ii={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Oi={propertyName:"loadingCellRenderer",cellRenderer:!0},Ni={propertyName:"groupRowRenderer",cellRenderer:!0},Gi={propertyName:"detailCellRenderer",cellRenderer:!0},Bi={propertyName:"menuItem",cellRenderer:!1},Hi=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="userComponentFactory",e}return k(n,[{key:"wireBeans",value:function(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}},{key:"getHeaderCompDetails",value:function(e,t){return this.getCompDetails(e,wi,"agColumnHeader",t)}},{key:"getHeaderGroupCompDetails",value:function(e){var t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Si,"agColumnGroupHeader",e)}},{key:"getFullWidthCellRendererDetails",value:function(e){return this.getCompDetails(this.gridOptions,Ii,null,e,!0)}},{key:"getFullWidthLoadingCellRendererDetails",value:function(e){return this.getCompDetails(this.gridOptions,Oi,"agLoadingCellRenderer",e,!0)}},{key:"getFullWidthGroupCellRendererDetails",value:function(e){return this.getCompDetails(this.gridOptions,Ni,"agGroupRowRenderer",e,!0)}},{key:"getFullWidthDetailCellRendererDetails",value:function(e){return this.getCompDetails(this.gridOptions,Gi,"agDetailCellRenderer",e,!0)}},{key:"getInnerRendererDetails",value:function(e,t){return this.getCompDetails(e,Fi,null,t)}},{key:"getFullWidthGroupRowInnerCellRenderer",value:function(e,t){return this.getCompDetails(e,Fi,null,t)}},{key:"getCellRendererDetails",value:function(e,t){return this.getCompDetails(e,ki,null,t)}},{key:"getEditorRendererDetails",value:function(e,t){return this.getCompDetails(e,bi,null,t)}},{key:"getLoadingCellRendererDetails",value:function(e,t){return this.getCompDetails(e,Ri,"agSkeletonCellRenderer",t,!0)}},{key:"getCellEditorDetails",value:function(e,t){return this.getCompDetails(e,Ei,"agCellEditor",t,!0)}},{key:"getFilterDetails",value:function(e,t,n){return this.getCompDetails(e,Mi,n,t,!0)}},{key:"getDateCompDetails",value:function(e){return this.getCompDetails(this.gridOptions,Ci,"agDateInput",e,!0)}},{key:"getLoadingOverlayCompDetails",value:function(e){return this.getCompDetails(this.gridOptions,Pi,"agLoadingOverlay",e,!0)}},{key:"getNoRowsOverlayCompDetails",value:function(e){return this.getCompDetails(this.gridOptions,Di,"agNoRowsOverlay",e,!0)}},{key:"getTooltipCompDetails",value:function(e){return this.getCompDetails(e.colDef,xi,"agTooltipComponent",e,!0)}},{key:"getSetFilterCellRendererDetails",value:function(e,t){return this.getCompDetails(e,ki,null,t)}},{key:"getFloatingFilterCompDetails",value:function(e,t,n){return this.getCompDetails(e,Ai,n,t)}},{key:"getToolPanelCompDetails",value:function(e,t){return this.getCompDetails(e,Ti,null,t,!0)}},{key:"getStatusPanelCompDetails",value:function(e,t){return this.getCompDetails(e,Li,null,t,!0)}},{key:"getMenuItemCompDetails",value:function(e,t){return this.getCompDetails(e,Bi,"agMenuItem",t,!0)}},{key:"getCompDetails",value:function(e,t,i,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=t.propertyName,l=t.cellRenderer,u=n.getCompKeys(this.frameworkOverrides,e,t,r),c=u.compName,d=u.jsComp,h=u.fwComp,f=u.paramsFromSelector,v=u.popupFromSelector,p=u.popupPositionFromSelector,g=function(e){var t=o.userComponentRegistry.retrieve(s,e);t&&(d=t.componentFromFramework?void 0:t.component,h=t.componentFromFramework?t.component:void 0)};if(null!=c&&g(c),null==d&&null==h&&null!=i&&g(i),d&&l&&!this.agComponentUtils.doesImplementIComponent(d)&&(d=this.agComponentUtils.adaptFunction(s,d)),d||h){var m=this.mergeParamsWithApplicationProvidedParams(e,t,r,f),y=null==d,C=d||h;return{componentFromFramework:y,componentClass:C,params:m,type:t,popupFromSelector:v,popupPositionFromSelector:p,newAgStackInstance:function(){return o.newAgStackInstance(C,y,m,t)}}}a&&xe("Could not find component ".concat(c,", did you forget to configure this component?"))}},{key:"newAgStackInstance",value:function(e,t,n,i){var r,o=i.propertyName;if(!t)r=new e;else{var a=this.componentMetadataProvider.retrieve(o);r=this.frameworkComponentWrapper.wrap(e,a.mandatoryMethodList,a.optionalMethodList,i)}var s=this.initComponent(r,n);return null==s?yi.resolve(r):s.then((function(){return r}))}},{key:"mergeParamsWithApplicationProvidedParams",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.gos.getGridCommonParams();ve(r,n);var o=e,a=o&&o[t.propertyName+"Params"];if("function"===typeof a){var s=a(n);ve(r,s)}else"object"===typeof a&&ve(r,a);return ve(r,i),r}},{key:"initComponent",value:function(e,t){if(this.createBean(e),null!=e.init)return e.init(t)}}],[{key:"getCompKeys",value:function(e,t,n,i){var r,o,a,s,l,u,c=n.propertyName;if(t){var d=t,h=d[c+"Selector"],f=h?h(i):null,v=function(t){if("string"===typeof t)r=t;else if(null!=t&&!0!==t){e.isFrameworkComponent(t)?a=t:o=t}};f?(v(f.component),s=f.params,l=f.popup,u=f.popupPosition):v(d[c])}return{compName:r,jsComp:o,fwComp:a,paramsFromSelector:s,popupFromSelector:l,popupPositionFromSelector:u}}}]),n}(Y);function Vi(e){var t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}var Wi=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"init",value:function(e){this.gridId=e.gridId,this.beans.context=this,l(a(n.prototype),"init",this).call(this,e)}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),$n.__unRegisterGridModules(this.gridId)}},{key:"getGridId",value:function(){return this.gridId}}]),n}(function(){function e(t){C(this,e),this.beans={},this.createdBeans=[],this.destroyed=!1,t&&t.beanClasses&&(this.beanDestroyComparator=t.beanDestroyComparator,this.init(t))}return k(e,[{key:"init",value:function(e){var t,n=this;Object.entries(e.providedBeanInstances).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1];n.beans[i]=o})),e.beanClasses.forEach((function(e){var t=new e;t.beanName?n.beans[t.beanName]=t:console.error("Bean ".concat(e.name," is missing beanName")),n.createdBeans.push(t)})),null===(t=e.derivedBeans)||void 0===t||t.forEach((function(e){var t=e(n),i=t.beanName,r=t.bean;n.beans[i]=r,n.createdBeans.push(r)})),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}},{key:"getBeanInstances",value:function(){return Object.values(this.beans)}},{key:"createBean",value:function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}},{key:"initBeans",value:function(e,t){var n=this;e.forEach((function(e){var t,i;null===(t=e.preWireBeans)||void 0===t||t.call(e,n.beans),null===(i=e.wireBeans)||void 0===i||i.call(e,n.beans)})),e.forEach((function(e){var t;return null===(t=e.preConstruct)||void 0===t?void 0:t.call(e)})),t&&e.forEach(t),e.forEach((function(e){var t;return null===(t=e.postConstruct)||void 0===t?void 0:t.call(e)}))}},{key:"getBeans",value:function(){return this.beans}},{key:"getBean",value:function(e){return this.beans[e]}},{key:"destroy",value:function(){if(!this.destroyed){this.destroyed=!0;var e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}}},{key:"destroyBean",value:function(e){var t;null===e||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}},{key:"destroyBeans",value:function(e){if(e)for(var t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}},{key:"isDestroyed",value:function(){return this.destroyed}}]),e}()),zi=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}(zi||{}),_i=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="dragAndDropService",e.dragSourceAndParamsList=[],e.dropTargets=[],e}return k(n,[{key:"wireBeans",value:function(e){this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment}},{key:"postConstruct",value:function(){this.dropIconMap={pinned:_n("columnMovePin",this.gos,null),hide:_n("columnMoveHide",this.gos,null),move:_n("columnMoveMove",this.gos,null),left:_n("columnMoveLeft",this.gos,null),right:_n("columnMoveRight",this.gos,null),group:_n("columnMoveGroup",this.gos,null),aggregate:_n("columnMoveValue",this.gos,null),pivot:_n("columnMovePivot",this.gos,null),notAllowed:_n("dropNotAllowed",this.gos,null)}}},{key:"addDragSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n)}},{key:"removeDragSource",value:function(e){var t=this.dragSourceAndParamsList.find((function(t){return t.dragSource===e}));t&&(this.dragService.removeDragSource(t.params),G(this.dragSourceAndParamsList,t))}},{key:"destroy",value:function(){var e=this;this.dragSourceAndParamsList.forEach((function(t){return e.dragService.removeDragSource(t.params)})),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,l(a(n.prototype),"destroy",this).call(this)}},{key:"nudge",value:function(){this.dragging&&this.onDragging(this.eventLastTime,!0)}},{key:"onDragStart",value:function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}},{key:"onDragStop",value:function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}},{key:"onDragging",value:function(e,t){var n=this,i=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var o=this.dropTargets.filter((function(t){return n.isMouseOnDropTarget(e,t)})),a=this.findCurrentDropTarget(e,o);if(a!==this.lastDropTarget){var s,l,u,c;if(this.leaveLastTargetIfExists(e,i,r,t),null!==this.lastDropTarget&&null===a)null===(s=(l=this.dragSource).onGridExit)||void 0===s||s.call(l,this.dragItem);if(null===this.lastDropTarget&&null!==a)null===(u=(c=this.dragSource).onGridEnter)||void 0===u||u.call(c,this.dragItem);this.enterDragTargetIfExists(a,e,i,r,t),this.lastDropTarget=a}else if(a&&a.onDragging){var d=this.createDropTargetEvent(a,e,i,r,t);a.onDragging(d)}}},{key:"getAllContainersFromDropTarget",value:function(e){var t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}},{key:"allContainersIntersect",value:function(e,t){var n,i=x(t);try{for(i.s();!(n=i.n()).done;){var r=n.value.getBoundingClientRect();if(0===r.width||0===r.height)return!1;var o=e.clientX>=r.left&&e.clientX<r.right,a=e.clientY>=r.top&&e.clientY<r.bottom;if(!o||!a)return!1}}catch(Am){i.e(Am)}finally{i.f()}return!0}},{key:"isMouseOnDropTarget",value:function(e,t){var n,i=!1,r=x(this.getAllContainersFromDropTarget(t));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(this.allContainersIntersect(e,o)){i=!0;break}}}catch(Am){r.e(Am)}finally{r.f()}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&(i&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement))}},{key:"findCurrentDropTarget",value:function(e,t){var n=t.length;if(0===n)return null;if(1===n)return t[0];var i,r,o=x(this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY));try{for(o.s();!(i=o.n()).done;){var a,s=i.value,l=x(t);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(-1!==(r=this.getAllContainersFromDropTarget(u),[].concat.apply([],r)).indexOf(s))return u}}catch(Am){l.e(Am)}finally{l.f()}}}catch(Am){o.e(Am)}finally{o.f()}return null}},{key:"enterDragTargetIfExists",value:function(e,t,n,i,r){if(e){if(e.onDragEnter){var o=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}},{key:"leaveLastTargetIfExists",value:function(e,t,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var r=this.createDropTargetEvent(this.lastDropTarget,e,t,n,i);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}},{key:"addDropTarget",value:function(e){this.dropTargets.push(e)}},{key:"removeDropTarget",value:function(e){this.dropTargets=this.dropTargets.filter((function(t){return t.getContainer()!==e.getContainer()}))}},{key:"hasExternalDropZones",value:function(){return this.dropTargets.some((function(e){return e.external}))}},{key:"findExternalZone",value:function(e){return this.dropTargets.filter((function(e){return e.external})).find((function(t){return t.getContainer()===e.getContainer()}))||null}},{key:"getHorizontalDirection",value:function(e){var t=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return t===n?null:t>n?0:1}},{key:"getVerticalDirection",value:function(e){var t=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return t===n?null:t>n?0:1}},{key:"createDropTargetEvent",value:function(e,t,n,i,r){var o=e.getContainer(),a=o.getBoundingClientRect(),s=this.dragItem,l=this.dragSource,u=t.clientX-a.left,c=t.clientY-a.top;return this.gos.addGridCommonParams({event:t,x:u,y:c,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:s,dropZoneTarget:o})}},{key:"positionGhost",value:function(e){var t=this.eGhost;if(t){var n=t.getBoundingClientRect().height,i=function(){var e,t,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientWidth)||-1}()-2,r=function(){var e,t,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientHeight)||-1}()-2,o=Cn(t.offsetParent),a=e.clientY,s=e.clientX,l=a-o.top-n/2,u=s-o.left-10,c=this.gos.getDocument(),d=c.defaultView||window,h=d.pageYOffset||c.documentElement.scrollTop,f=d.pageXOffset||c.documentElement.scrollLeft;i>0&&u+t.clientWidth>i+f&&(u=i+f-t.clientWidth),u<0&&(u=0),r>0&&l+t.clientHeight>r+h&&(l=r+h-t.clientHeight),l<0&&(l=0),t.style.left="".concat(u,"px"),t.style.top="".concat(l,"px")}}},{key:"removeGhost",value:function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}},{key:"createGhost",value:function(){this.eGhost=Pn('<div class="ag-dnd-ghost ag-unselectable">\n<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n<div class="ag-dnd-ghost-label"></div>\n</div>'),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),t=this.dragSource.dragItemName;Me(t)&&(t=t()),e.innerHTML=rt(t)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var n=this.gos.getDocument(),i=null,r=null;try{i=n.fullscreenElement}catch(s){}finally{i||(i=this.gos.getRootNode());var o=i.querySelector("body");if(o)r=o;else if(i instanceof ShadowRoot)r=i;else if(i instanceof Document){var a;r=null===(a=i)||void 0===a?void 0:a.documentElement}else r=i}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):De("Could not find document body, it is needed for dragging columns")}},{key:"setGhostIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];bn(this.eGhostIcon);var n=null;e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),n=this.dropIconMap[e],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),n===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns")||n&&this.eGhostIcon.appendChild(n)}}]),n}(Y),Ui=function(){function e(t){C(this,e),this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return k(e,[{key:"check",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}}},{key:"ensureTickingStarted",value:function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}},{key:"doTick",value:function(){this.tickCount++;var e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-e),this.tickRight&&this.setHorizontalPosition(n+e)}this.onScrollCallback&&this.onScrollCallback()}},{key:"ensureCleared",value:function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}]),e}(),ji=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).eContainer=e,i}return k(n,[{key:"wireBeans",value:function(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}},{key:"postConstruct",value:function(){var e=this;this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((function(t){var n=t.gridBodyCtrl;e.autoScrollService=new Ui({scrollContainer:n.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(e){return n.getScrollFeature().setVerticalScrollPosition(e)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})}))}},{key:"getContainer",value:function(){return this.eContainer}},{key:"isInterestedIn",value:function(e){return 2===e}},{key:"getIconName",value:function(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}},{key:"shouldPreventRowMove",value:function(){var e;return!!this.funcColsService.getRowGroupColumns().length||(!!(null===(e=this.filterManager)||void 0===e?void 0:e.isAnyFilterPresent())||!!this.sortController.isSortActive())}},{key:"getRowNodes",value:function(e){var t=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var n=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){var i=(0,o.Z)(this.selectionService.getSelectedNodes()).sort((function(e,n){return null==e.rowIndex||null==n.rowIndex?0:t.getRowIndexNumber(e)-t.getRowIndexNumber(n)}));if(-1!==i.indexOf(n))return i}return[n]}},{key:"onDragEnter",value:function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach((function(e){e.setDragging(!0)})),this.onEnterOrDragging(e)}},{key:"onDragging",value:function(e){this.onEnterOrDragging(e)}},{key:"isFromThisGrid",value:function(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}},{key:"isDropZoneWithinThisGrid",value:function(e){var t=this.ctrlsService.getGridBodyCtrl().getGui(),n=e.dropZoneTarget;return!t.contains(n)}},{key:"onEnterOrDragging",value:function(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}},{key:"doManagedDrag",value:function(e,t){var n=this.isFromThisGrid(e),i=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}},{key:"getRowIndexNumber",value:function(e){var t=e.getRowIndexString();return parseInt(I(t.split("-")),10)}},{key:"moveRowAndClearHighlight",value:function(e){var t=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),i=n&&1===n.highlighted,r=this.mouseEventService.getNormalisedPosition(e).y,o=e.dragItem.rowNodes,a=i?1:0;if(this.isFromThisGrid(e))o.forEach((function(e){e.rowTop<r&&(a-=1)})),this.moveRows(o,r,a);else{var s=this.gos.getRowIdCallback(),l=this.clientSideRowModel.getRowIndexAtPixel(r)+1;0===this.clientSideRowModel.getHighlightPosition(r)&&l--,this.clientSideRowModel.updateRowData({add:o.filter((function(e){var n;return!t.clientSideRowModel.getRowNode(null!==(n=null===s||void 0===s?void 0:s({data:e.data,level:0,rowPinned:e.rowPinned}))&&void 0!==n?n:e.data.id)})).map((function(e){return e.data})),addIndex:l})}this.clearRowHighlight()}},{key:"clearRowHighlight",value:function(){this.clientSideRowModel.highlightRowAtPixel(null)}},{key:"moveRows",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.clientSideRowModel.ensureRowsAtPixel(e,t,i);r&&(this.focusService.clearFocusedCell(),null===(n=this.rangeService)||void 0===n||n.removeAllCellRanges())}},{key:"addRowDropZone",value:function(e){var t=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))De("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=function(n){e.onDragEnter(t.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(n.onDragLeave=function(n){e.onDragLeave(t.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(n.onDragging=function(n){e.onDragging(t.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(n.onDragStop=function(n){e.onDragStop(t.draggingToRowDragEvent("rowDragEnd",n))})),this.dragAndDropService.addDropTarget(y({isInterestedIn:function(e){return 2===e},getIconName:function(){return"move"},external:!0},n))}else De("addRowDropZone - A container target needs to be provided")}},{key:"getRowDropZone",value:function(e){var t=this,n=this.getContainer.bind(this),i=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),o=this.onDragging.bind(this),a=this.onDragStop.bind(this);return e?{getContainer:n,onDragEnter:e.onDragEnter?function(n){i(n),e.onDragEnter(t.draggingToRowDragEvent("rowDragEnter",n))}:i,onDragLeave:e.onDragLeave?function(n){r(n),e.onDragLeave(t.draggingToRowDragEvent("rowDragLeave",n))}:r,onDragging:e.onDragging?function(n){o(n),e.onDragging(t.draggingToRowDragEvent("rowDragMove",n))}:o,onDragStop:e.onDragStop?function(n){a(n),e.onDragStop(t.draggingToRowDragEvent("rowDragEnd",n))}:a,fromGrid:!0}:{getContainer:n,onDragEnter:i,onDragLeave:r,onDragging:o,onDragStop:a,fromGrid:!0}}},{key:"draggingToRowDragEvent",value:function(e,t){var n,i,r=this.mouseEventService.getNormalisedPosition(t).y,o=-1;switch(r>this.pageBoundsService.getCurrentPageHeight()||(o=this.rowModel.getRowIndexAtPixel(r),n=this.rowModel.getRow(o)),t.vDirection){case 1:i="down";break;case 0:i="up";break;default:i=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:o,overNode:n,y:r,vDirection:i})}},{key:"dispatchGridEvent",value:function(e,t){var n=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(n)}},{key:"onDragLeave",value:function(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}},{key:"onDragStop",value:function(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),!this.gos.get("rowDragManaged")||!this.gos.get("suppressMoveWhenRowDragging")&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)}},{key:"stopDragging",value:function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((function(e){e.setDragging(!1)}))}}]),n}(Y),Zi=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="dragService",e.dragEndFunctions=[],e.dragSources=[],e}return k(n,[{key:"wireBeans",value:function(e){this.mouseEventService=e.mouseEventService}},{key:"destroy",value:function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,l(a(n.prototype),"destroy",this).call(this)}},{key:"removeListener",value:function(e){var t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){var i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}},{key:"removeDragSource",value:function(e){var t=this.dragSources.find((function(t){return t.dragSource===e}));t&&(this.removeListener(t),G(this.dragSources,t))}},{key:"isDragging",value:function(){return this.dragging}},{key:"addDragSource",value:function(e){var t=this,n=this.onMouseDown.bind(this,e),i=e.eElement,r=e.includeTouch,o=e.stopPropagationForTouch;i.addEventListener("mousedown",n);var a=null,s=this.gos.get("suppressTouch");r&&!s&&(a=function(n){un(n.target)||(n.cancelable&&(n.preventDefault(),o&&n.stopPropagation()),t.onTouchStart(e,n))},i.addEventListener("touchstart",a,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:a,touchEnabled:!!r})}},{key:"getStartTarget",value:function(){return this.startTarget}},{key:"onTouchStart",value:function(e,t){var n=this;this.currentDragParams=e,this.dragging=!1;var i=t.touches[0];this.touchLastTime=i,this.touchStart=i;var r=function(t){return n.onTouchUp(t,e.eElement)},o=t.target,a=[{target:this.gos.getRootNode(),type:"touchmove",listener:function(e){e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:function(t){return n.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}},{key:"onMouseDown",value:function(e,t){var n=this,i=t;if((!e.skipMouseEvent||!e.skipMouseEvent(t))&&!i._alreadyProcessedByDragService&&(i._alreadyProcessedByDragService=!0,0===t.button)){this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;var r=this.gos.getRootNode(),o=[{target:r,type:"mousemove",listener:function(t){return n.onMouseMove(t,e.eElement)}},{target:r,type:"mouseup",listener:function(t){return n.onMouseUp(t,e.eElement)}},{target:r,type:"contextmenu",listener:function(e){return e.preventDefault()}}];this.addTemporaryEvents(o),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}}},{key:"addTemporaryEvents",value:function(e){e.forEach((function(e){var t=e.target,n=e.type,i=e.listener,r=e.options;t.addEventListener(n,i,r)})),this.dragEndFunctions.push((function(){e.forEach((function(e){var t=e.target,n=e.type,i=e.listener,r=e.options;t.removeEventListener(n,i,r)}))}))}},{key:"isEventNearStartEvent",value:function(e,t){var n=this.currentDragParams.dragStartPixels;return jn(e,t,$(n)?n:4)}},{key:"getFirstActiveTouch",value:function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}},{key:"onCommonMove",value:function(e,t,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;var i={type:"dragStarted",target:n};this.eventService.dispatchEvent(i),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}},{key:"onTouchMove",value:function(e,t){var n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}},{key:"onMouseMove",value:function(e,t){var n;Yt()&&(null===(n=this.gos.getDocument().getSelection())||void 0===n||n.removeAllRanges());this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}},{key:"shouldPreventMouseEvent",value:function(e){var t=this.gos.get("enableCellTextSelection"),n="mousemove"===e.type;return t&&n&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}},{key:"isOverFormFieldElement",value:function(e){var t=e.target,n=null===t||void 0===t?void 0:t.tagName.toLocaleLowerCase();return!(null===n||void 0===n||!n.match("^a$|textarea|input|select|button"))}},{key:"onTouchUp",value:function(e,t){var n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}},{key:"onMouseUp",value:function(e,t){this.onUpCommon(e,t)}},{key:"onUpCommon",value:function(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var n={type:"dragStopped",target:t};this.eventService.dispatchEvent(n)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(e){return e()})),this.dragEndFunctions.length=0}}]),n}(Y),Ki=function(e){c(n,e);var t=p(n);function n(e,i,r,o,a,s){var l;return C(this,n),(l=t.call(this)).cellValueFn=e,l.rowNode=i,l.column=r,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return k(n,[{key:"wireBeans",value:function(e){this.beans=e}},{key:"isCustomGui",value:function(){return null!=this.customGui}},{key:"postConstruct",value:function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Un("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gos.get("rowDragManaged")?new Yi(this,this.beans,this.rowNode,this.column):new Qi(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}},{key:"setDragElement",value:function(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}},{key:"getSelectedNodes",value:function(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];var e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}},{key:"checkCompatibility",value:function(){var e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&De("If using row drag with tree data, you cannot have rowDragManaged=true")}},{key:"getDragItem",value:function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}},{key:"getRowDragText",value:function(e){if(e){var t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}},{key:"addDragSource",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.dragSource&&this.removeDragSource();var n=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(n,{mousedown:function(e){null===e||void 0===e||e.preventDefault()}})[0]);var i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:n,dragItemName:function(){var t,n=e.getDragItem(),r=(null===(t=n.rowNodes)||void 0===t?void 0:t.length)||1,o=e.getRowDragText(e.column);return o?o(n,r):1===r?e.cellValueFn():"".concat(r," ").concat(i("rowDragRows","rows"))},getDragItem:function(){return e.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}},{key:"destroy",value:function(){this.removeDragSource(),this.removeMouseDownListener(),l(a(n.prototype),"destroy",this).call(this)}},{key:"removeDragSource",value:function(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}},{key:"removeMouseDownListener",value:function(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}}]),n}(Wn),qi=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this)).parent=e,o.rowNode=i,o.column=r,o}return k(n,[{key:"setDisplayedOrVisible",value:function(e){var t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{var n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=Me(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(n,t)):(this.parent.setDisplayed(n,t),this.parent.setVisible(!0,t))}}}]),n}(Y),Qi=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this,e,r,o)).beans=i,a}return k(n,[{key:"postConstruct",value:function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));var e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}},{key:"onSuppressRowDrag",value:function(){this.workOutVisibility()}},{key:"workOutVisibility",value:function(){var e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}}]),n}(qi),Yi=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this,e,r,o)).beans=i,a}return k(n,[{key:"postConstruct",value:function(){var e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}},{key:"onSuppressRowDrag",value:function(){this.workOutVisibility()}},{key:"workOutVisibility",value:function(){var e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),r=t&&!i||n;this.setDisplayedOrVisible(r)}}]),n}(qi),Xi=function(){function e(t){C(this,e),this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return k(e,[{key:"setData",value:function(e){this.setDataCommon(e,!1)}},{key:"updateData",value:function(e){this.setDataCommon(e,!0)}},{key:"setDataCommon",value:function(e,t){var n,i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var r=this.createDataChangedEvent(e,i,t);null===(n=this.localEventService)||void 0===n||n.dispatchEvent(r)}},{key:"updateDataOnDetailNode",value:function(){this.detailNode&&(this.detailNode.data=this.data)}},{key:"createDataChangedEvent",value:function(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}},{key:"getRowIndexString",value:function(){return null==this.rowIndex?(xe("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}},{key:"createDaemonNode",value:function(){var t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}},{key:"setDataAndId",value:function(e,t){var n,i=$(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);var o=this.createDataChangedEvent(e,r,!1);null===(n=this.localEventService)||void 0===n||n.dispatchEvent(o)}},{key:"checkRowSelectable",value:function(){var e=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!e||e(this))}},{key:"setRowSelectable",value:function(e,t){if(this.selectable!==e){if(this.selectable=e,this.dispatchRowEvent("selectableChanged"),t)return;if(this.beans.gos.get("groupSelectsChildren")){var n=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:null!==n&&void 0!==n&&n,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}},{key:"setId",value:function(t){var n=this.beans.gos.getRowIdCallback();if(n)if(this.data){var i=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&xe("Row IDs cannot start with ".concat(e.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature."))}else this.id=void 0;else this.id=t}},{key:"getGroupKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t}},{key:"isPixelInRange",value:function(e){return!(!$(this.rowTop)||!$(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)}},{key:"updateIfDifferent",value:function(e,t,n){this[e]!==t&&(this[e]=t,this.dispatchRowEvent(n))}},{key:"setFirstChild",value:function(e){this.updateIfDifferent("firstChild",e,"firstChildChanged")}},{key:"setLastChild",value:function(e){this.updateIfDifferent("lastChild",e,"lastChildChanged")}},{key:"setChildIndex",value:function(e){this.updateIfDifferent("childIndex",e,"childIndexChanged")}},{key:"setRowTop",value:function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==e))}},{key:"clearRowTopAndRowIndex",value:function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}},{key:"setDisplayed",value:function(e){this.updateIfDifferent("displayed",e,"displayedChanged")}},{key:"setDragging",value:function(e){this.updateIfDifferent("dragging",e,"draggingChanged")}},{key:"setHighlighted",value:function(e){this.updateIfDifferent("highlighted",e,"rowHighlightChanged")}},{key:"setHovered",value:function(e){this.hovered!==e&&(this.hovered=e)}},{key:"isHovered",value:function(){return this.hovered}},{key:"setAllChildrenCount",value:function(e){this.updateIfDifferent("allChildrenCount",e,"allChildrenCountChanged")}},{key:"setMaster",value:function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.dispatchRowEvent("masterChanged"))}},{key:"setGroup",value:function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}},{key:"setRowHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}},{key:"setRowAutoHeight",value:function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Oe(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}},{key:"checkAutoHeights",value:function(){var e=this,t=!1,n=!0,i=0,r=this.__autoHeights;if(null!=r&&(this.beans.visibleColsService.getAllAutoHeightCols().forEach((function(o){var a=r[o.getId()];if(null==a){if(!e.beans.columnModel.isColSpanActive())return void(t=!0);var s=[];switch(o.getPinned()){case"left":s=e.beans.visibleColsService.getLeftColsForRow(e);break;case"right":s=e.beans.visibleColsService.getRightColsForRow(e);break;case null:s=e.beans.columnViewportService.getColsWithinViewport(e)}if(s.includes(o))return void(t=!0);a=-1}else n=!1;a>i&&(i=a)})),!t&&((n||i<10)&&(i=this.beans.gos.getRowHeightForNode(this).height),i!=this.rowHeight))){this.setRowHeight(i);var o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}}},{key:"setRowIndex",value:function(e){this.updateIfDifferent("rowIndex",e,"rowIndexChanged")}},{key:"setUiLevel",value:function(e){this.updateIfDifferent("uiLevel",e,"uiLevelChanged")}},{key:"setExpanded",value:function(e,t,n){if(this.expanded!==e){this.expanded=e,this.dispatchRowEvent("expandedChanged");var i=y(y({},this.createGlobalRowEvent("rowGroupOpened")),{},{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}}},{key:"createGlobalRowEvent",value:function(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}},{key:"setDataValue",value:function(e,t,n){var i=this,r=function(){var t;return"string"!==typeof e?e:null!==(t=i.beans.columnModel.getCol(e))&&void 0!==t?t:i.beans.columnModel.getColDefCol(e)}(),o=this.getValueFromValueService(r);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(r,o,t,n),!1;var a=this.beans.valueService.setValue(this,r,t,n);return this.dispatchCellChangedEvent(r,t,o),this.checkRowSelectable(),a}},{key:"getValueFromValueService",value:function(e){var t,n,i=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!i,o=!1,a=null!==(t=this.beans.gos.get("groupTotalRow"))&&void 0!==t?t:this.beans.gos.get("groupIncludeFooter");"function"!==typeof a?o=!!a:o=!!(null!==(n=this.beans.gos.getCallback("groupTotalRow"))&&void 0!==n?n:this.beans.gos.getCallback("groupIncludeFooter"))({node:this});var s=this.beans.gos.get("groupSuppressBlankHeader"),l=r&&o&&!s;return this.beans.valueService.getValue(e,this,!1,l)}},{key:"dispatchEventForSaveValueReadOnly",value:function(e,t,n,i){var r=this.beans.gos.addGridCommonParams({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:n,value:n,source:i});this.beans.eventService.dispatchEvent(r)}},{key:"setGroupValue",value:function(e,t){var n=this.beans.columnModel.getCol(e);ee(this.groupData)&&(this.groupData={});var i=n.getColId(),r=this.groupData[i];r!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,r))}},{key:"setAggData",value:function(e){var t=this,n=this.aggData;if(this.aggData=e,this.localEventService){var i=function(e){var i=t.aggData?t.aggData[e]:void 0,r=n?n[e]:void 0;if(i!==r){var o=t.beans.columnModel.getCol(e);o&&t.dispatchCellChangedEvent(o,i,r)}};for(var r in this.aggData)i(r);for(var o in e)o in this.aggData||i(o)}}},{key:"updateHasChildren",value:function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){var t=this.beans.gos.get("treeData"),n=this.beans.gos.get("isServerSideGroup");e=!this.stub&&!this.footer&&(t?!!n&&n(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}},{key:"hasChildren",value:function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}},{key:"isEmptyRowGroupNode",value:function(){var e;return null!==(e=this.group&&te(this.childrenAfterGroup))&&void 0!==e&&e}},{key:"dispatchCellChangedEvent",value:function(e,t,n){var i,r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};null===(i=this.localEventService)||void 0===i||i.dispatchEvent(r)}},{key:"resetQuickFilterAggregateText",value:function(){this.quickFilterAggregateText=null}},{key:"isExpandable",value:function(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}},{key:"isSelected",value:function(){return this.footer?this.sibling.isSelected():this.selected}},{key:"depthFirstSearch",value:function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(t){return t.depthFirstSearch(e)})),e(this)}},{key:"calculateSelectedFromChildren",value:function(){var e,t=!1,n=!1,i=!1;if(null===(e=this.childrenAfterGroup)||void 0===e||!e.length)return this.selectable?this.selected:null;for(var r=0;r<this.childrenAfterGroup.length;r++){var o=this.childrenAfterGroup[r],a=o.isSelected();if(!o.selectable){var s=o.calculateSelectedFromChildren();if(null===s)continue;a=s}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:i=!0}}return i||t&&n?void 0:!!t||!n&&(this.selectable?this.selected:null)}},{key:"setSelectedInitialValue",value:function(e){this.selected=e}},{key:"dispatchRowEvent",value:function(e){var t,n={type:e,node:this};null===(t=this.localEventService)||void 0===t||t.dispatchEvent(n)}},{key:"selectThisNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api",i=!this.selectable&&e,r=this.selected===e;if(i||r)return!1;this.selected=e,this.dispatchRowEvent("rowSelected");var o=this.sibling;o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected");var a=y(y({},this.createGlobalRowEvent("rowSelected")),{},{event:t||null,source:n});return this.beans.eventService.dispatchEvent(a),!0}},{key:"setSelected",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";"boolean"!==typeof n?this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n}):De("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}},{key:"setSelectedParams",value:function(e){return this.rowPinned?(De("cannot select pinned rows"),0):void 0===this.id?(De("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(y(y({},e),{},{nodes:[this.footer?this.sibling:this]}))}},{key:"isRowPinned",value:function(){return"top"===this.rowPinned||"bottom"===this.rowPinned}},{key:"isParentOfNode",value:function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1}},{key:"addEventListener",value:function(e,t){var n,i;this.localEventService||(this.localEventService=new L),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new X(this.beans.frameworkOverrides));var r=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.wrap(t))&&void 0!==n?n:t;this.localEventService.addEventListener(e,r)}},{key:"removeEventListener",value:function(e,t){var n,i;if(this.localEventService){var r=null!==(n=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(t))&&void 0!==n?n:t;this.localEventService.removeEventListener(e,r),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}}},{key:"onMouseEnter",value:function(){this.dispatchRowEvent("mouseEnter")}},{key:"onMouseLeave",value:function(){this.dispatchRowEvent("mouseLeave")}},{key:"getFirstChildOfFirstChild",value:function(e){for(var t=this,n=!0,i=!1,r=null;n&&!i;){var o=t.parent;$(o)&&t.firstChild?o.rowGroupColumn===e&&(i=!0,r=o):n=!1,t=o}return i?r:null}},{key:"isFullWidthCell",value:function(){if(this.detail)return!0;var e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}},{key:"getRoute",value:function(){if(null!=this.key){for(var e=[],t=this;t&&null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}}},{key:"createFooter",value:function(){var t=this;if(!this.sibling){var n=new Set(["eventService","__objectId","sticky"]),i=new e(this.beans);Object.keys(this).forEach((function(e){n.has(e)||(i[e]=t[e])})),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}}},{key:"destroyFooter",value:function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}}]),e}();Xi.ID_PREFIX_ROW_GROUP="row-group-",Xi.ID_PREFIX_TOP_PINNED="t-",Xi.ID_PREFIX_BOTTOM_PINNED="b-",Xi.OBJECT_ID_SEQUENCE=0;var Ji=Xi,$i=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="filterManager",e.advancedFilterModelUpdateQueue=[],e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}},{key:"postConstruct",value:function(){var e=this;this.addManagedEventListeners({columnValueChanged:this.refreshFiltersForAggregations.bind(this),columnPivotChanged:this.refreshFiltersForAggregations.bind(this),columnPivotModeChanged:this.refreshFiltersForAggregations.bind(this),newColumnsLoaded:this.updateAdvancedFilterColumns.bind(this),columnVisible:this.updateAdvancedFilterColumns.bind(this),advancedFilterEnabledChanged:function(t){var n=t.enabled;return e.onAdvancedFilterEnabledChanged(n)},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(function(){e.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(function(){e.updateAggFiltering(),e.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(function(t){return e.setAdvancedFilterModel(t.currentValue)})),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:function(){return e.onFilterChanged({source:"quickFilter"})}})}},{key:"isExternalFilterPresentCallback",value:function(){var e=this.gos.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})}},{key:"doesExternalFilterPass",value:function(e){var t=this.gos.get("doesExternalFilterPass");return"function"===typeof t&&t(e)}},{key:"setFilterModel",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():null===(t=this.columnFilterService)||void 0===t||t.setFilterModel(e,n)}},{key:"getFilterModel",value:function(){var e,t;return null!==(e=null===(t=this.columnFilterService)||void 0===t?void 0:t.getFilterModel())&&void 0!==e?e:{}}},{key:"isColumnFilterPresent",value:function(){var e;return!(null===(e=this.columnFilterService)||void 0===e||!e.isColumnFilterPresent())}},{key:"isAggregateFilterPresent",value:function(){var e;return!(null===(e=this.columnFilterService)||void 0===e||!e.isAggregateFilterPresent())}},{key:"isExternalFilterPresent",value:function(){return this.externalFilterPresent}},{key:"isChildFilterPresent",value:function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}},{key:"isAdvancedFilterPresent",value:function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}},{key:"onAdvancedFilterEnabledChanged",value:function(e){var t,n;e?null!==(t=this.columnFilterService)&&void 0!==t&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):null!==(n=this.advancedFilterService)&&void 0!==n&&n.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}},{key:"isAdvancedFilterEnabled",value:function(){var e;return!(null===(e=this.advancedFilterService)||void 0===e||!e.isEnabled())}},{key:"isAdvancedFilterHeaderActive",value:function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}},{key:"isAnyFilterPresent",value:function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}},{key:"resetQuickFilterCache",value:function(){var e;null===(e=this.quickFilterService)||void 0===e||e.resetQuickFilterCache()}},{key:"refreshFiltersForAggregations",value:function(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}},{key:"onFilterChanged",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.source,i=t.additionalEventAttributes,r=t.columns,o=void 0===r?[]:r;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(t):yi.resolve()).then((function(){var t,r={source:n,type:"filterChanged",columns:o};i&&ve(r,i),e.eventService.dispatchEvent(r),null===(t=e.columnFilterService)||void 0===t||t.updateAfterFilterChanged()}))}},{key:"isSuppressFlashingCellsBecauseFiltering",value:function(){var e;return!(null===(e=this.columnFilterService)||void 0===e||!e.isSuppressFlashingCellsBecauseFiltering())}},{key:"isQuickFilterPresent",value:function(){var e;return!(null===(e=this.quickFilterService)||void 0===e||!e.isQuickFilterPresent())}},{key:"updateAggFiltering",value:function(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}},{key:"isAggregateQuickFilterPresent",value:function(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}},{key:"isNonAggregateQuickFilterPresent",value:function(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}},{key:"shouldApplyQuickFilterAfterAgg",value:function(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}},{key:"doesRowPassOtherFilters",value:function(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}},{key:"doesRowPassAggregateFilters",value:function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&!(this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}},{key:"doesRowPassFilter",value:function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&(!(this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))))}},{key:"isFilterActive",value:function(e){var t;return!(null===(t=this.columnFilterService)||void 0===t||!t.isFilterActive(e))}},{key:"getOrCreateFilterWrapper",value:function(e){var t,n;return null!==(t=null===(n=this.columnFilterService)||void 0===n?void 0:n.getOrCreateFilterWrapper(e))&&void 0!==t?t:null}},{key:"getDefaultFloatingFilter",value:function(e){return this.columnFilterService.getDefaultFloatingFilter(e)}},{key:"createFilterParams",value:function(e,t){return this.columnFilterService.createFilterParams(e,t)}},{key:"isFilterAllowed",value:function(e){var t;return!this.isAdvancedFilterEnabled()&&!(null===(t=this.columnFilterService)||void 0===t||!t.isFilterAllowed(e))}},{key:"getFloatingFilterCompDetails",value:function(e,t){var n;return null===(n=this.columnFilterService)||void 0===n?void 0:n.getFloatingFilterCompDetails(e,t)}},{key:"getCurrentFloatingFilterParentModel",value:function(e){var t;return null===(t=this.columnFilterService)||void 0===t?void 0:t.getCurrentFloatingFilterParentModel(e)}},{key:"destroyFilter",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";null===(t=this.columnFilterService)||void 0===t||t.destroyFilter(e,n)}},{key:"areFilterCompsDifferent",value:function(e,t){var n;return!(null===(n=this.columnFilterService)||void 0===n||!n.areFilterCompsDifferent(e,t))}},{key:"getAdvancedFilterModel",value:function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}},{key:"setAdvancedFilterModel",value:function(e){var t;this.isAdvancedFilterEnabled()&&(null!==(t=this.dataTypeService)&&void 0!==t&&t.isPendingInference()?this.advancedFilterModelUpdateQueue.push(e):(this.advancedFilterService.setModel(null!==e&&void 0!==e?e:null),this.onFilterChanged({source:"advancedFilter"})))}},{key:"toggleAdvancedFilterBuilder",value:function(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,e)}},{key:"updateAdvancedFilterColumns",value:function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}},{key:"hasFloatingFilters",value:function(){var e;return!this.isAdvancedFilterEnabled()&&!(null===(e=this.columnFilterService)||void 0===e||!e.hasFloatingFilters())}},{key:"getFilterInstance",value:function(e,t){var n;if(!this.isAdvancedFilterEnabled())return null===(n=this.columnFilterService)||void 0===n?void 0:n.getFilterInstance(e,t);this.warnAdvancedFilters()}},{key:"getColumnFilterInstance",value:function(e){var t,n;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):null!==(t=null===(n=this.columnFilterService)||void 0===n?void 0:n.getColumnFilterInstance(e))&&void 0!==t?t:Promise.resolve(void 0)}},{key:"warnAdvancedFilters",value:function(){De("Column Filter API methods have been disabled as Advanced Filters are enabled.")}},{key:"setupAdvancedFilterHeaderComp",value:function(e){var t;null===(t=this.advancedFilterService)||void 0===t||t.getCtrl().setupHeaderComp(e)}},{key:"getHeaderRowCount",value:function(){return this.isAdvancedFilterHeaderActive()?1:0}},{key:"getHeaderHeight",value:function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}},{key:"processFilterModelUpdateQueue",value:function(){var e=this;this.advancedFilterModelUpdateQueue.forEach((function(t){return e.setAdvancedFilterModel(t)})),this.advancedFilterModelUpdateQueue=[]}},{key:"getColumnFilterModel",value:function(e){var t;return null===(t=this.columnFilterService)||void 0===t?void 0:t.getColumnFilterModel(e)}},{key:"setColumnFilterModel",value:function(e,t){var n,i;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):null!==(n=null===(i=this.columnFilterService)||void 0===i?void 0:i.setColumnFilterModel(e,t))&&void 0!==n?n:Promise.resolve()}}]),n}(Y),er=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this,'<div class="ag-filter"></div>')).column=e,r.source=i,r.filterWrapper=null,r}return k(n,[{key:"wireBeans",value:function(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}},{key:"postConstruct",value:function(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}},{key:"hasFilter",value:function(){return!!this.filterWrapper}},{key:"getFilter",value:function(){var e,t;return null!==(e=null===(t=this.filterWrapper)||void 0===t?void 0:t.filterPromise)&&void 0!==e?e:null}},{key:"afterInit",value:function(){var e,t,n;return null!==(e=null===(t=this.filterWrapper)||void 0===t||null===(n=t.filterPromise)||void 0===n?void 0:n.then((function(){})))&&void 0!==e?e:yi.resolve()}},{key:"afterGuiAttached",value:function(e){var t,n;null===(t=this.filterWrapper)||void 0===t||null===(n=t.filterPromise)||void 0===n||n.then((function(t){var n;null===t||void 0===t||null===(n=t.afterGuiAttached)||void 0===n||n.call(t,e)}))}},{key:"afterGuiDetached",value:function(){var e,t;null===(e=this.filterWrapper)||void 0===e||null===(t=e.filterPromise)||void 0===t||t.then((function(e){var t;null===e||void 0===e||null===(t=e.afterGuiDetached)||void 0===t||t.call(e)}))}},{key:"createFilter",value:function(e){var t,n,i,r=this,o=this.column,a=this.source;this.filterWrapper=null!==(t=null===(n=this.filterManager)||void 0===n?void 0:n.getOrCreateFilterWrapper(o))&&void 0!==t?t:null,null!==(i=this.filterWrapper)&&void 0!==i&&i.filterPromise&&this.filterWrapper.filterPromise.then((function(t){var n=t.getGui();if($(n)||De("getGui method from filter returned ".concat(n,"; it should be a DOM element.")),r.appendChild(n),e){var i={type:"filterOpened",column:o,source:a,eGui:r.getGui()};r.eventService.dispatchEvent(i)}}))}},{key:"onFilterDestroyed",value:function(e){"api"!==e.source&&"paramsUpdated"!==e.source||e.column.getId()!==this.column.getId()||!this.columnModel.getColDefCol(this.column)||(bn(this.getGui()),this.createFilter())}},{key:"destroy",value:function(){this.filterWrapper=null,l(a(n.prototype),"destroy",this).call(this)}}]),n}(Wn),tr="ag-resizer-wrapper",nr='<div class="'.concat(tr,'">\n        <div data-ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div data-ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div data-ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div data-ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div data-ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div data-ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div data-ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div data-ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>'),ir=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).element=e,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.lastSize={width:-1,height:-1},r.positioned=!1,r.resizersAdded=!1,r.resizeListeners=[],r.boundaryEl=null,r.isResizing=!1,r.isMoving=!1,r.resizable={},r.movable=!1,r.currentResizer=null,r.config=Object.assign({},{popup:!1},i),r}return k(n,[{key:"wireBeans",value:function(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}},{key:"center",value:function(){var e=this.offsetParent,t=e.clientHeight,n=e.clientWidth/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(n,i)}},{key:"initialisePosition",value:function(){if(!this.positioned){var e=this.config,t=e.centered,n=e.forcePopupParentAsOffsetParent,i=e.minWidth,r=e.width,o=e.minHeight,a=e.height,s=e.x,l=e.y;this.offsetParent||this.setOffsetParent();var u=0,c=0,d=Fn(this.element);if(d){var h=this.findBoundaryElement(),f=window.getComputedStyle(h);if(null!=f.minWidth){var v=h.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-v}if(null!=f.minHeight){var p=h.offsetHeight-this.element.offsetHeight;u=parseInt(f.minHeight,10)-p}}if(this.minHeight=o||u,this.minWidth=i||c,r&&this.setWidth(r),a&&this.setHeight(a),r&&a||this.refreshSize(),t)this.center();else if(s||l)this.offsetElement(s,l);else if(d&&n){var g=this.boundaryEl,m=!0;if(g||(g=this.findBoundaryElement(),m=!1),g){var y=parseFloat(g.style.top),C=parseFloat(g.style.left);m?this.offsetElement(isNaN(C)?0:C,isNaN(y)?0:y):this.setPosition(C,y)}}this.positioned=!!this.offsetParent}}},{key:"isPositioned",value:function(){return this.positioned}},{key:"getPosition",value:function(){return this.position}},{key:"setMovable",value:function(e,t){if(this.config.popup&&e!==this.movable){this.movable=e;var n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}}},{key:"setResizable",value:function(e){var t=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((function(n){var i=!!e[n],r=t.getResizerElement(n),o={dragStartPixels:0,eElement:r,onDragStart:function(e){return t.onResizeStart(e,n)},onDragging:t.onResize.bind(t),onDragStop:function(e){return t.onResizeEnd(e,n)}};(i||!t.isAlive()&&!i)&&(i?(t.dragService.addDragSource(o),t.resizeListeners.push(o),r.style.pointerEvents="all"):r.style.pointerEvents="none",t.resizable[n]=i)}))}},{key:"removeSizeFromEl",value:function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}},{key:"restoreLastSize",value:function(){this.element.style.flex="0 0 auto";var e=this.lastSize,t=e.height,n=e.width;-1!==n&&(this.element.style.width="".concat(n,"px")),-1!==t&&(this.element.style.height="".concat(t,"px"))}},{key:"getHeight",value:function(){return this.element.offsetHeight}},{key:"setHeight",value:function(e){var t=this.config.popup,n=this.element,i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Mn(n,e),e=mn(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Mn(n,e):(n.style.height="".concat(e,"px"),n.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))}},{key:"getAvailableHeight",value:function(){var e=this.config,t=e.popup,n=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var i=this.offsetParent.clientHeight;if(!i)return null;var r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=t?this.position.y:r.top,s=t?0:o.top,l=0;if(n){var u=this.element.parentElement;if(u)l=u.getBoundingClientRect().bottom-r.bottom}return i+s-a-l}},{key:"getWidth",value:function(){return this.element.offsetWidth}},{key:"setWidth",value:function(e){var t=this.element,n=this.config.popup,i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))xn(t,e),e=yn(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var r=this.offsetParent.clientWidth,o=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+o>r&&(e=r-o)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?xn(t,e):(t.style.width="".concat(e,"px"),t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))}},{key:"offsetElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.config.forcePopupParentAsOffsetParent,i=n?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:t}}}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}},{key:"constrainSizeToAvailableHeight",value:function(e){var t=this;if(this.config.forcePopupParentAsOffsetParent){e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),(function(){var e=t.getAvailableHeight();t.element.style.setProperty("max-height","".concat(e,"px"))})):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}}},{key:"setPosition",value:function(e,t){this.position.x=e,this.position.y=t}},{key:"updateDragStartPosition",value:function(e,t){this.dragStartPosition={x:e,y:t}}},{key:"calculateMouseMovement",value:function(e){var t=e.e,n=e.isLeft,i=e.isTop,r=e.anywhereWithin,o=e.topBuffer,a=t.clientX-this.dragStartPosition.x,s=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!n,!!r,a)?0:a,movementY:this.shouldSkipY(t,!!i,o,s)?0:s}}},{key:"shouldSkipX",value:function(e,t,n,i){var r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.x:r.left,l=s<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=a.right;return!!l||(l=t?i<0&&e.clientX>s+o.left||i>0&&e.clientX<s+o.left:n?i<0&&e.clientX>a.right||i>0&&e.clientX<s+o.left:i<0&&e.clientX>a.right||i>0&&e.clientX<a.right)}},{key:"shouldSkipY",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),s=this.config.popup?this.position.y:r.top,l=s<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=a.bottom;return!!l||(l=t?i<0&&e.clientY>s+o.top+n||i>0&&e.clientY<s+o.top:i<0&&e.clientY>a.bottom||i>0&&e.clientY<a.bottom)}},{key:"createResizeMap",value:function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}},{key:"addResizers",value:function(){if(!this.resizersAdded){var e=this.element;if(e){var t=(new DOMParser).parseFromString(nr,"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}}}},{key:"removeResizers",value:function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(tr));e&&this.element.removeChild(e),this.resizersAdded=!1}},{key:"getResizerElement",value:function(e){return this.resizerMap[e].element}},{key:"onResizeStart",value:function(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");var n=this.config,i=n.popup,r=n.forcePopupParentAsOffsetParent;i||r||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}},{key:"getSiblings",value:function(){var e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter((function(e){return!e.classList.contains("ag-hidden")})):null}},{key:"getMinSizeOfSiblings",value:function(){for(var e=this.getSiblings()||[],t=0,n=0,i=0;i<e.length;i++){var r=e[i],o=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r!==this.element){var a=this.minHeight||0,s=this.minWidth||0;if(o){var l=window.getComputedStyle(r);l.minHeight&&(a=parseInt(l.minHeight,10)),l.minWidth&&(s=parseInt(l.minWidth,10))}else a=r.offsetHeight,s=r.offsetWidth;t+=a,n+=s}}return{height:t,width:n}}},{key:"applySizeToSiblings",value:function(e){var t=null,n=this.getSiblings();if(n){for(var i=0;i<n.length;i++){var r=n[i];r!==t&&(e?r.style.height="".concat(r.offsetHeight,"px"):r.style.width="".concat(r.offsetWidth,"px"),r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}},{key:"isResizable",value:function(){return Object.values(this.resizable).some((function(e){return e}))}},{key:"onResize",value:function(e){if(this.isResizing&&this.currentResizer){var t=this.config,n=t.popup,i=t.forcePopupParentAsOffsetParent,r=this.currentResizer,o=r.isTop,a=r.isRight,s=r.isBottom,l=r.isLeft,u=a||l,c=s||o,d=this.calculateMouseMovement({e:e,isLeft:l,isTop:o}),h=d.movementX,f=d.movementY,v=this.position.x,p=this.position.y,g=0,m=0;if(u&&h){var y=l?-1:1,C=this.getWidth(),w=C+h*y,S=!1;l&&(v+(g=C-w)<=0||w<=this.minWidth)&&(S=!0,g=0),S||this.setWidth(w)}if(c&&f){var k=o?-1:1,b=this.getHeight(),R=b+f*k,E=!1;o?(p+(m=b-R)<=0||R<=this.minHeight)&&(E=!0,m=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<R&&this.getMinSizeOfSiblings().height+R>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(R)}this.updateDragStartPosition(e.clientX,e.clientY),((n||i)&&g||m)&&this.offsetElement(v+g,p+m)}}},{key:"onResizeEnd",value:function(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}},{key:"refreshSize",value:function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}},{key:"onMoveStart",value:function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}},{key:"onMove",value:function(e){if(this.isMoving){var t,n=this.position,i=n.x,r=n.y;this.config.calculateTopBuffer&&(t=this.config.calculateTopBuffer());var o=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:t}),a=o.movementX,s=o.movementY;this.offsetElement(i+a,r+s),this.updateDragStartPosition(e.clientX,e.clientY)}}},{key:"onMoveEnd",value:function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}},{key:"setOffsetParent",value:function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}},{key:"findBoundaryElement",value:function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}},{key:"clearResizeListeners",value:function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}}]),n}(Y),rr=function(e){c(n,e);var t=p(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C(this,n),(i=t.call(this)).eFocusableElement=e,i.callbacks=r,i.callbacks=y({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(e){if(!e.defaultPrevented){var t=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}}},r),i}return k(n,[{key:"wireBeans",value:function(e){this.focusService=e.focusService}},{key:"postConstruct",value:function(){this.eFocusableElement.classList.add(n.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}},{key:"addKeyDownListeners",value:function(e){var t=this;this.addManagedElementListeners(e,{keydown:function(e){e.defaultPrevented||Z(e)||(t.callbacks.shouldStopEventPropagation(e)?j(e):e.key===ni.TAB?t.callbacks.onTabKeyDown(e):t.callbacks.handleKeyDown&&t.callbacks.handleKeyDown(e))}})}}]),n}(Y);rr.FOCUS_MANAGED_CLASS="ag-focus-managed";var or=rr,ar={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function sr(e,t){return lr(e)?(null!=e.debounceMs&&De("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function lr(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var ur=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).filterNameKey=e,i.applyActive=!1,i.hidePopup=null,i.debouncePending=!1,i.appliedModel=null,i.eFilterBody=Vn,i.buttonListeners=[],i}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel}},{key:"postConstruct",value:function(){this.resetTemplate(),this.createManagedBean(new or(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new ir(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}},{key:"handleKeyDown",value:function(e){}},{key:"getFilterTitle",value:function(){return this.translate(this.filterNameKey)}},{key:"isFilterActive",value:function(){return!!this.appliedModel}},{key:"resetTemplate",value:function(e){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);var n='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'.concat(this.getCssIdentifier(),'-body-wrapper" data-ref="eFilterBody">\n                    ').concat(this.createBodyTemplate(),"\n                </div>\n            </form>");this.setTemplate(n,this.getAgComponents(),e),(t=this.getGui())&&t.addEventListener("submit",this.onFormSubmit)}},{key:"isReadOnly",value:function(){return!!this.providedFilterParams.readOnly}},{key:"init",value:function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then((function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()}))}},{key:"setParams",value:function(e){this.providedFilterParams=e,this.applyActive=lr(e),this.resetButtonsPanel()}},{key:"updateParams",value:function(e){var t=this;this.providedFilterParams=e,this.applyActive=lr(e),this.resetUiToActiveModel(this.getModel(),(function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()}))}},{key:"resetButtonsPanel",value:function(){var e=this,t=this.providedFilterParams.buttons,n=t&&t.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(bn(this.eButtonsPanel),this.buttonListeners.forEach((function(e){return e()})),this.buttonListeners=[]):n&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),n){var i=document.createDocumentFragment();t.forEach((function(t){return function(t){var n,r,a;switch(t){case"apply":r=e.translate("applyFilter"),a=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":r=e.translate("clearFilter"),a=function(){return e.onBtClear()};break;case"reset":r=e.translate("resetFilter"),a=function(){return e.onBtReset()};break;case"cancel":r=e.translate("cancelFilter"),a=function(t){e.onBtCancel(t)};break;default:return void De("Unknown button type specified")}var s=Pn('<button\n                    type="'.concat("apply"===t?"submit":"button",'"\n                    data-ref="').concat(t,'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >').concat(r,"\n                </button>"));(n=e.buttonListeners).push.apply(n,(0,o.Z)(e.addManagedElementListeners(s,{click:a}))),i.append(s)}(t)})),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}else this.eButtonsPanel&&Rn(this.eButtonsPanel)}},{key:"getDefaultDebounceMs",value:function(){return 0}},{key:"setupOnBtApplyDebounce",value:function(){var e=this,t=sr(this.providedFilterParams,this.getDefaultDebounceMs()),n=Oe(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=function(){e.debouncePending=!0,n()}}},{key:"checkApplyDebounce",value:function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}},{key:"getModel",value:function(){return this.appliedModel?this.appliedModel:null}},{key:"setModel",value:function(e){var t=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((function(){t.updateUiVisibility(),t.applyModel("api")}))}},{key:"onBtCancel",value:function(e){var t=this;this.resetUiToActiveModel(this.getModel(),(function(){t.handleCancelEnd(e)}))}},{key:"handleCancelEnd",value:function(e){this.providedFilterParams.closeOnApply&&this.close(e)}},{key:"resetUiToActiveModel",value:function(e,t){var n=this,i=function(){n.onUiChanged(!1,"prevent"),null===t||void 0===t||t()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}},{key:"onBtClear",value:function(){var e=this;this.resetUiToDefaults().then((function(){return e.onUiChanged()}))}},{key:"onBtReset",value:function(){this.onBtClear(),this.onBtApply()}},{key:"applyModel",value:function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)}},{key:"isModelValid",value:function(e){return!0}},{key:"onFormSubmit",value:function(e){e.preventDefault()}},{key:"onBtApply",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){var i="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:i})}var r=this.providedFilterParams.closeOnApply;r&&this.applyActive&&!e&&!t&&this.close(n)}},{key:"onNewRowsLoaded",value:function(){}},{key:"close",value:function(e){if(this.hidePopup){var t,n=e,i=n&&n.key;"Enter"!==i&&"Space"!==i||(t={keyboardEvent:n}),this.hidePopup(t),this.hidePopup=null}}},{key:"onUiChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var n=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&hn(i,!n)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()}},{key:"afterGuiAttached",value:function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(null===e||void 0===e?void 0:e.container)}},{key:"refreshFilterResizer",value:function(e){if(this.positionableFeature&&"toolPanel"!==e){var t="floatingFilter"===e||"columnFilter"===e,n=this.positionableFeature,i=this.gos;t?(n.restoreLastSize(),n.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}}},{key:"afterGuiDetached",value:function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}},{key:"refresh",value:function(e){return this.providedFilterParams=e,!0}},{key:"destroy",value:function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,l(a(n.prototype),"destroy",this).call(this)}},{key:"translate",value:function(e){var t=this.localeService.getLocaleTextFunc();return t(e,ar[e])}},{key:"getCellValue",value:function(e){return this.providedFilterParams.getValue(e)}},{key:"getPositionableElement",value:function(){return this.eFilterBody}}]),n}(Wn),cr=function(e){c(n,e);var t=p(n);function n(e){return C(this,n),t.call(this,e,"ag-radio-button","radio")}return k(n,[{key:"isSelected",value:function(){return this.eInput.checked}},{key:"toggle",value:function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}},{key:"addInputListeners",value:function(){l(a(n.prototype),"addInputListeners",this).call(this),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}},{key:"onChange",value:function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}}]),n}(oi),dr=function(e){c(n,e);var t=p(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(this,n),(e=t.call(this,'<div class="ag-list ag-'.concat(i,'-list" role="listbox"></div>'))).cssIdentifier=i,e.unFocusable=r,e.activeClass="ag-active-item",e.options=[],e.itemEls=[],e}return k(n,[{key:"postConstruct",value:function(){var e=this,t=this.getGui();this.addManagedElementListeners(t,{mouseleave:function(){return e.clearHighlighted()}}),this.unFocusable||this.addManagedElementListeners(t,{keydown:this.handleKeyDown.bind(this)})}},{key:"handleKeyDown",value:function(e){var t=e.key;switch(t){case ni.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case ni.DOWN:case ni.UP:e.preventDefault(),this.navigate(t);break;case ni.PAGE_DOWN:case ni.PAGE_UP:case ni.PAGE_HOME:case ni.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}},{key:"navigate",value:function(e){var t,n=e===ni.DOWN;if(this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),t=this.itemEls[i]}else t=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(t)}},{key:"navigateToPage",value:function(e){if(this.highlightedEl&&0!==this.itemEls.length){var t=this.itemEls.indexOf(this.highlightedEl),n=this.options.length-1,i=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/i),o=-1;e===ni.PAGE_HOME?o=0:e===ni.PAGE_END?o=n:e===ni.PAGE_DOWN?o=Math.min(t+r,n):e===ni.PAGE_UP&&(o=Math.max(t-r,0)),-1!==o&&this.highlightItem(this.itemEls[o])}}},{key:"addOptions",value:function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this}},{key:"addOption",value:function(e){var t=e.value,n=e.text||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}},{key:"clearOptions",value:function(){this.options=[],this.reset(!0),this.itemEls.forEach((function(e){Rn(e)})),this.itemEls=[]}},{key:"updateIndices",value:function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((function(t,n){Lt(t,"posinset",n+1),function(e,t){Lt(e,"setsize",t)}(t,e.length)}))}},{key:"renderOption",value:function(e,t){var n=this,i=this.gos.getDocument(),r=i.createElement("div");Nt(r,"option"),r.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item"));var o=i.createElement("span");r.appendChild(o),o.textContent=t,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListeners(r,{mouseover:function(){return n.highlightItem(r)},mousedown:function(t){t.preventDefault(),t.stopPropagation(),n.setValue(e)}}),this.createManagedBean(new Bn({getTooltipValue:function(){return t},getGui:function(){return r},getLocation:function(){return"UNKNOWN"},shouldDisplayTooltip:function(){return o.scrollWidth>o.clientWidth}})),this.getGui().appendChild(r)}},{key:"setValue",value:function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;var n=this.options.findIndex((function(t){return t.value===e}));if(-1!==n){var i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}},{key:"setValueByIndex",value:function(e){return this.setValue(this.options[e].value)}},{key:"getValue",value:function(){return this.value}},{key:"getDisplayValue",value:function(){return this.displayValue}},{key:"refreshHighlighted",value:function(){var e=this;this.clearHighlighted();var t=this.options.findIndex((function(t){return t.value===e.value}));-1!==t&&this.highlightItem(this.itemEls[t])}},{key:"reset",value:function(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}},{key:"highlightItem",value:function(e){if(Fn(e)){this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),qt(this.highlightedEl,!0);var t=this.getGui(),n=t.scrollTop,i=t.clientHeight,r=e.offsetTop;(r+e.offsetHeight>n+i||r<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}}},{key:"clearHighlighted",value:function(){this.highlightedEl&&Fn(this.highlightedEl)&&(this.highlightedEl.classList.remove(this.activeClass),qt(this.highlightedEl,!1),this.highlightedEl=null)}},{key:"fireChangeEvent",value:function(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}},{key:"fireItemSelected",value:function(){this.dispatchLocalEvent({type:"selectedItem"})}}]),n}(Wn),hr=function(e){c(n,e);var t=p(n);function n(e){return C(this,n),t.call(this,y({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}return k(n,[{key:"postConstruct",value:function(){l(a(n.prototype),"postConstruct",this).call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");var e=this.config,t=e.options,i=e.value,r=e.placeholder;null!=t&&this.addOptions(t),null!=i&&this.setValue(i,!0),r&&null==i&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}},{key:"onWrapperFocusOut",value:function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}},{key:"createListComponent",value:function(){var e=this;this.listComponent=this.createBean(new dr("select",!0)),this.listComponent.setParentComponent(this);var t,n,i=this.listComponent.getAriaElement(),r="ag-select-list-".concat(this.listComponent.getCompId());i.setAttribute("id",r),Tt(t=this.getAriaElement(),"controls",(n=i).id),Bt(n,t.id),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:function(){e.hidePicker(),e.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())}})}},{key:"createPickerComponent",value:function(){return this.listComponent}},{key:"onKeyDown",value:function(e){var t=e.key;switch(t===ni.TAB&&this.hidePicker(),t){case ni.ENTER:case ni.UP:case ni.DOWN:case ni.PAGE_UP:case ni.PAGE_DOWN:case ni.PAGE_HOME:case ni.PAGE_END:var i;if(e.preventDefault(),this.isPickerDisplayed)null===(i=this.listComponent)||void 0===i||i.handleKeyDown(e);else l(a(n.prototype),"onKeyDown",this).call(this,e);break;case ni.ESCAPE:l(a(n.prototype),"onKeyDown",this).call(this,e)}}},{key:"showPicker",value:function(){this.listComponent&&(l(a(n.prototype),"showPicker",this).call(this),this.listComponent.refreshHighlighted())}},{key:"addOptions",value:function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this}},{key:"addOption",value:function(e){return this.listComponent.addOption(e),this}},{key:"clearOptions",value:function(){var e;return null===(e=this.listComponent)||void 0===e||e.clearOptions(),this}},{key:"setValue",value:function(e,t,i){var r,o=this;if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;var s=this.listComponent.getDisplayValue();return null==s&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.textContent=s,this.setTooltip({newTooltipText:null!==(r=s)&&void 0!==r?r:null,shouldDisplayTooltip:function(){return o.eDisplayField.scrollWidth>o.eDisplayField.clientWidth}}),l(a(n.prototype),"setValue",this).call(this,e,t)}},{key:"destroy",value:function(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),l(a(n.prototype),"destroy",this).call(this)}}]),n}(function(e){c(n,e);var t=p(n);function n(e){var i;if(C(this,n),(i=t.call(this,e,(null===e||void 0===e?void 0:e.template)||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                    <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',(null===e||void 0===e?void 0:e.agComponents)||[],null===e||void 0===e?void 0:e.className)).isPickerDisplayed=!1,i.skipClick=!1,i.pickerGap=4,i.hideCurrentPicker=null,i.eLabel=Vn,i.eWrapper=Vn,i.eDisplayField=Vn,i.eIcon=Vn,i.ariaRole=null===e||void 0===e?void 0:e.ariaRole,i.onPickerFocusIn=i.onPickerFocusIn.bind(f(i)),i.onPickerFocusOut=i.onPickerFocusOut.bind(f(i)),!e)return v(i);var r=e.pickerGap,o=e.maxPickerHeight,a=e.variableWidth,s=e.minPickerWidth,l=e.maxPickerWidth;return null!=r&&(i.pickerGap=r),i.variableWidth=!!a,null!=o&&i.setPickerMaxHeight(o),null!=s&&i.setPickerMinWidth(s),null!=l&&i.setPickerMaxWidth(l),i}return k(n,[{key:"wireBeans",value:function(e){this.popupService=e.popupService}},{key:"postConstruct",value:function(){l(a(n.prototype),"postConstruct",this).call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});var i=this.config,r=i.pickerIcon,o=i.inputWidth;if(r){var s=Un(r,this.gos);s&&this.eIcon.appendChild(s)}null!=o&&this.setInputWidth(o)}},{key:"setupAria",value:function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Wt(e,!1),this.ariaRole&&Nt(e,this.ariaRole)}},{key:"onLabelOrWrapperMouseDown",value:function(e){if(e){var t=this.getFocusableElement();if(t!==this.eWrapper&&(null===e||void 0===e?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}},{key:"onKeyDown",value:function(e){switch(e.key){case ni.UP:case ni.DOWN:case ni.ENTER:case ni.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ni.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}},{key:"showPicker",value:function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}},{key:"renderAndPositionPicker",value:function(){var e=this,t=this.gos.getDocument(),n=this.pickerComponent.getGui();if(!this.gos.get("suppressScrollWhenPopupsAreOpen")){var i=this.addManagedEventListeners({bodyScroll:function(){e.hidePicker()}}),o=(0,r.Z)(i,1);this.destroyMouseWheelFunc=o[0]}var a=this.localeService.getLocaleTextFunc(),s=this.config,l=s.pickerAriaLabelKey,u=s.pickerAriaLabelValue,c=s.modalPicker,d={modal:void 0===c||c,eChild:n,closeOnEsc:!0,closedCallback:function(){var n=e.gos.getActiveDomElement(),i=!n||n===t.body;e.beforeHidePicker(),i&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:a(l,u)},h=this.popupService.addPopup(d),f=this.maxPickerHeight,v=this.minPickerWidth,p=this.maxPickerWidth;this.variableWidth?(v&&(n.style.minWidth=v),n.style.width=An(yn(this.eWrapper)),p&&(n.style.maxWidth=p)):Dn(n,null!==p&&void 0!==p?p:yn(this.eWrapper));var g=null!==f&&void 0!==f?f:"".concat(pn(this.popupService.getPopupParent()),"px");return n.style.setProperty("max-height",g),n.style.position="absolute",this.alignPickerToComponent(),h.hideFunc}},{key:"alignPickerToComponent",value:function(){if(this.pickerComponent){var e=this.config.pickerType,t=this.pickerGap,n=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:t})}}},{key:"beforeHidePicker",value:function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}},{key:"toggleExpandedStyles",value:function(e){this.isAlive()&&(Wt(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))}},{key:"onPickerFocusIn",value:function(){this.togglePickerHasFocus(!0)}},{key:"onPickerFocusOut",value:function(e){var t;null!==(t=this.pickerComponent)&&void 0!==t&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}},{key:"togglePickerHasFocus",value:function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}},{key:"hidePicker",value:function(){this.hideCurrentPicker&&this.hideCurrentPicker()}},{key:"setInputWidth",value:function(e){return Dn(this.eWrapper,e),this}},{key:"getFocusableElement",value:function(){return this.eWrapper}},{key:"setPickerGap",value:function(e){return this.pickerGap=e,this}},{key:"setPickerMinWidth",value:function(e){return"number"===typeof e&&(e="".concat(e,"px")),this.minPickerWidth=null==e?void 0:e,this}},{key:"setPickerMaxWidth",value:function(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerWidth=null==e?void 0:e,this}},{key:"setPickerMaxHeight",value:function(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerHeight=null==e?void 0:e,this}},{key:"destroy",value:function(){this.hidePicker(),l(a(n.prototype),"destroy",this).call(this)}}]),n}(ii)),fr={selector:"AG-SELECT",component:hr},vr=function(){function e(){C(this,e),this.customFilterOptions={}}return k(e,[{key:"init",value:function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}},{key:"getFilterOptions",value:function(){return this.filterOptions}},{key:"mapCustomOptions",value:function(){var e=this;this.filterOptions&&this.filterOptions.forEach((function(t){if("string"!==typeof t){[["displayKey"],["displayName"],["predicate","test"]].every((function(e){return!!e.some((function(e){return null!=t[e]}))||(De("ignoring FilterOptionDef as it doesn't contain one of '".concat(e,"'")),!1)}))?e.customFilterOptions[t.displayKey]=t:e.filterOptions=e.filterOptions.filter((function(e){return e===t}))||[]}}))}},{key:"selectDefaultItem",value:function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"===typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:De("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else De("no filter options for filter")}},{key:"getDefaultOption",value:function(){return this.defaultOption}},{key:"getCustomOption",value:function(e){return this.customFilterOptions[e]}}]),e}(),pr=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return k(n,[{key:"getNumberOfInputs",value:function(e){var t=this.optionsFactory.getCustomOption(e);if(t){var n=t.numberOfInputs;return null!=n?n:1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}},{key:"onFloatingFilterChanged",value:function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}},{key:"setTypeFromFloatingFilter",value:function(e){var t=this;this.eTypes.forEach((function(n,i){0===i?n.setValue(e,!0):n.setValue(t.optionsFactory.getDefaultOption(),!0)}))}},{key:"getModelFromUi",value:function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}},{key:"getConditionTypes",value:function(){return this.eTypes.map((function(e){return e.getValue()}))}},{key:"getConditionType",value:function(e){return this.eTypes[e].getValue()}},{key:"getJoinOperator",value:function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}},{key:"areModelsEqual",value:function(e,t){var n=this;if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var i,r=!e.operator,o=!t.operator;if(!r&&o||r&&!o)return!1;if(r){var a=e,s=t;i=this.areSimpleModelsEqual(a,s)}else{var l=e,u=t;i=l.operator===u.operator&&O(l.conditions,u.conditions,(function(e,t){return n.areSimpleModelsEqual(e,t)}))}return i}},{key:"shouldRefresh",value:function(e){var t,n,i,r=this.getModel(),o=r?null!==(t=r.conditions)&&void 0!==t?t:[r]:null,a=null!==(n=null===(i=e.filterOptions)||void 0===i?void 0:i.map((function(e){return"string"===typeof e?e:e.displayKey})))&&void 0!==n?n:this.getDefaultFilterOptions();return!(o&&!o.every((function(e){return void 0!==a.find((function(t){return t===e.type}))})))&&!("number"===typeof e.maxNumConditions&&o&&o.length>e.maxNumConditions)}},{key:"refresh",value:function(e){return!!this.shouldRefresh(e)&&(!!l(a(n.prototype),"refresh",this).call(this,e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0))}},{key:"setModelIntoUi",value:function(e){var t=this;if(e.operator){var n=e,i=n.conditions;null==i&&(i=[],De("Filter model is missing 'conditions'"));var r=this.validateAndUpdateConditions(i),o=this.getNumConditions();if(r<o)this.removeConditionsAndOperators(r);else if(r>o)for(var a=o;a<r;a++)this.createJoinOperatorPanel(),this.createOption();var s="OR"===n.operator;this.eJoinOperatorsAnd.forEach((function(e){return e.setValue(!s,!0)})),this.eJoinOperatorsOr.forEach((function(e){return e.setValue(s,!0)})),i.forEach((function(e,n){t.eTypes[n].setValue(e.type,!0),t.setConditionIntoUi(e,n)}))}else{var l=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(l.type,!0),this.setConditionIntoUi(l,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),yi.resolve()}},{key:"validateAndUpdateConditions",value:function(e){var t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),De('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}},{key:"doesFilterPass",value:function(e){var t=this,n=this.getModel();if(null==n)return!0;var i=n.operator,r=[];if(i){var a,s=n;r.push.apply(r,(0,o.Z)(null!==(a=s.conditions)&&void 0!==a?a:[]))}else r.push(n);return r[i&&"OR"===i?"some":"every"]((function(n){return t.individualConditionPasses(e,n)}))}},{key:"setParams",value:function(e){l(a(n.prototype),"setParams",this).call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new vr,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}},{key:"setNumConditions",value:function(e){var t,n;this.maxNumConditions=null!==(t=e.maxNumConditions)&&void 0!==t?t:2,this.maxNumConditions<1&&(De('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(n=e.numAlwaysVisibleConditions)&&void 0!==n?n:1,this.numAlwaysVisibleConditions<1&&(De('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(De('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}},{key:"createOption",value:function(){var e=this,t=this.createManagedBean(new hr);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());var n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);var i=this.getNumConditions()-1;this.forEachPositionInput(i,(function(t){return e.resetInput(t)})),this.addChangedListeners(t,i)}},{key:"createJoinOperatorPanel",value:function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var i=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}},{key:"createJoinOperator",value:function(e,t,n){var i=this.createManagedBean(new cr);return e.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass("ag-filter-condition-operator-".concat(n)),t.appendChild(i.getGui()),i}},{key:"getDefaultJoinOperator",value:function(e){return"AND"===e||"OR"===e?e:"AND"}},{key:"createFilterListOptions",value:function(){var e=this,t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map((function(t){return"string"===typeof t?e.createBoilerplateListOption(t):e.createCustomListOption(t)}))}},{key:"putOptionsIntoDropdown",value:function(e){this.filterListOptions.forEach((function(t){e.addOption(t)})),e.setDisabled(this.filterListOptions.length<=1)}},{key:"createBoilerplateListOption",value:function(e){return{value:e,text:this.translate(e)}}},{key:"createCustomListOption",value:function(e){var t=e.displayKey,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}},{key:"createBodyTemplate",value:function(){return""}},{key:"getAgComponents",value:function(){return[]}},{key:"getCssIdentifier",value:function(){return"simple-filter"}},{key:"updateUiVisibility",value:function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}},{key:"updateNumConditions",value:function(){for(var e=-1,t=!0,n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{var i,r=null!==(i=this.lastUiCompletePosition)&&void 0!==i?i:this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);var o=e+1,a=r-o;a>0&&this.removeConditionsAndOperators(o,a),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}},{key:"updateConditionStatusesAndValues",value:function(e,t){var n=this;this.eTypes.forEach((function(t,i){var r=n.isConditionDisabled(i,e);t.setDisabled(r||n.filterListOptions.length<=1),1===i&&(hn(n.eJoinOperatorPanels[0],r),n.eJoinOperatorsAnd[0].setDisabled(r),n.eJoinOperatorsOr[0].setDisabled(r))})),this.eConditionBodies.forEach((function(e,t){cn(e,n.isConditionBodyVisible(t))}));var i="OR"===(null!==t&&void 0!==t?t:this.getJoinOperator());this.eJoinOperatorsAnd.forEach((function(e){e.setValue(!i,!0)})),this.eJoinOperatorsOr.forEach((function(e){e.setValue(i,!0)})),this.forEachInput((function(t,i,r,o){n.setElementDisplayed(t,i<o),n.setElementDisabled(t,n.isConditionDisabled(r,e))})),this.resetPlaceholder()}},{key:"shouldAddNewConditionAtEnd",value:function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}},{key:"removeConditionsAndOperators",value:function(e,t){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);var n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,t),this.removeComponents(this.eJoinOperatorsAnd,n,t),this.removeComponents(this.eJoinOperatorsOr,n,t)}}},{key:"removeElements",value:function(e,t,n){this.removeItems(e,t,n).forEach((function(e){return Rn(e)}))}},{key:"removeComponents",value:function(e,t,n){var i=this;this.removeItems(e,t,n).forEach((function(e){Rn(e.getGui()),i.destroyBean(e)}))}},{key:"removeItems",value:function(e,t,n){return null==n?e.splice(t):e.splice(t,n)}},{key:"afterGuiAttached",value:function(e){if(l(a(n.prototype),"afterGuiAttached",this).call(this,e),this.resetPlaceholder(),null===e||void 0===e||!e.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var t=this.getInputs(0)[0];if(!t)return;t instanceof ri&&t.getInputElement().focus()}}},{key:"afterGuiDetached",value:function(){l(a(n.prototype),"afterGuiDetached",this).call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var t=-1,i=-1,r=!1,o=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===t&&(t=s,i=s);else{var u=s<t;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||u)&&(this.removeConditionsAndOperators(s,1),r=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,o),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}},{key:"getPlaceholderText",value:function(e,t){var n=this.translate(e);if(Me(this.filterPlaceholder)){var i=this.filterPlaceholder,r=this.eTypes[t].getValue();n=i({filterOptionKey:r,filterOption:this.translate(r),placeholder:n})}else"string"===typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n}},{key:"resetPlaceholder",value:function(){var e=this,t=this.localeService.getLocaleTextFunc();this.forEachInput((function(n,i,r,o){if(n instanceof ri){var a=0===i&&o>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",s=0===i&&o>1?t("ariaFilterFromValue","Filter from value"):0===i?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(e.getPlaceholderText(a,r)),n.setInputAriaLabel(s)}}))}},{key:"setElementValue",value:function(e,t,n){e instanceof ri&&e.setValue(null!=t?String(t):null,!0)}},{key:"setElementDisplayed",value:function(e,t){e instanceof Wn&&cn(e.getGui(),t)}},{key:"setElementDisabled",value:function(e,t){e instanceof Wn&&hn(e.getGui(),t)}},{key:"attachElementOnChange",value:function(e,t){e instanceof ri&&e.onValueChange(t)}},{key:"forEachInput",value:function(e){var t=this;this.getConditionTypes().forEach((function(n,i){t.forEachPositionTypeInput(i,n,e)}))}},{key:"forEachPositionInput",value:function(e,t){var n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}},{key:"forEachPositionTypeInput",value:function(e,t,n){for(var i=this.getNumberOfInputs(t),r=this.getInputs(e),o=0;o<r.length;o++){var a=r[o];null!=a&&n(a,o,e,i)}}},{key:"isConditionDisabled",value:function(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}},{key:"isConditionBodyVisible",value:function(e){var t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}},{key:"isConditionUiComplete",value:function(e){return!(e>=this.getNumConditions())&&("empty"!==this.getConditionType(e)&&!this.getValues(e).some((function(e){return null==e})))}},{key:"getNumConditions",value:function(){return this.eTypes.length}},{key:"getUiCompleteConditions",value:function(){for(var e=[],t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}},{key:"createMissingConditionsAndOperators",value:function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}},{key:"resetUiToDefaults",value:function(e){var t=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((function(e){return t.resetType(e)})),this.eJoinOperatorsAnd.forEach((function(e,n){return t.resetJoinOperatorAnd(e,n,t.joinOperatorId+n)})),this.eJoinOperatorsOr.forEach((function(e,n){return t.resetJoinOperatorOr(e,n,t.joinOperatorId+n)})),this.joinOperatorId++,this.forEachInput((function(e){return t.resetInput(e)})),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),yi.resolve()}},{key:"resetType",value:function(e){var t=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}},{key:"resetJoinOperatorAnd",value:function(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}},{key:"resetJoinOperatorOr",value:function(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}},{key:"resetJoinOperator",value:function(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(r)).setLabel(i),t)}},{key:"updateJoinOperatorsDisabled",value:function(){var e=this;this.eJoinOperatorsAnd.forEach((function(t,n){return e.updateJoinOperatorDisabled(t,n)})),this.eJoinOperatorsOr.forEach((function(t,n){return e.updateJoinOperatorDisabled(t,n)}))}},{key:"updateJoinOperatorDisabled",value:function(e,t){e.setDisabled(this.isReadOnly()||t>0)}},{key:"resetInput",value:function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}},{key:"setConditionIntoUi",value:function(e,t){var n=this,i=this.mapValuesFromModel(e);this.forEachInput((function(e,r,o){o===t&&n.setElementValue(e,null!=i[r]?i[r]:null)}))}},{key:"setValueFromFloatingFilter",value:function(e){var t=this;this.forEachInput((function(n,i,r){t.setElementValue(n,0===i&&0===r?e:null,!0)}))}},{key:"isDefaultOperator",value:function(e){return e===this.defaultJoinOperator}},{key:"addChangedListeners",value:function(e,t){var n=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,(function(e){n.attachElementOnChange(e,n.listener)})))}},{key:"individualConditionPasses",value:function(e,t){var n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),o=this.evaluateCustomFilter(r,i,n);return null!=o?o:null==n?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e)}},{key:"evaluateCustomFilter",value:function(e,t,n){if(null!=e){var i=e.predicate;return null==i||t.some((function(e){return null==e}))?void 0:i(t,n)}}},{key:"isBlank",value:function(e){return null==e||"string"===typeof e&&0===e.trim().length}},{key:"hasInvalidInputs",value:function(){return!1}}]),n}(ur),gr=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"setParams",value:function(e){l(a(n.prototype),"setParams",this).call(this,e),this.scalarFilterParams=e}},{key:"evaluateNullValue",value:function(e){switch(e){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}},{key:"evaluateNonNullValue",value:function(e,t,n){var i=this.comparator(),r=null!=e[0]?i(e[0],t):0;switch(n.type){case"equals":return 0===r;case"notEqual":return 0!==r;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":var o=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&o<=0:r>0&&o<0;case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return De('Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}}]),n}(pr);function mr(e){return!(e.altKey||e.ctrlKey||e.metaKey)&&1===e.key.length}function yr(e,t,n,i,r){var o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a=e.addGridCommonParams({event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});if(o&&o(a))return!0;return!1}var Cr=function(e){c(n,e);var t=p(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-text-field",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return C(this,n),t.call(this,e,i,r)}return k(n,[{key:"postConstruct",value:function(){l(a(n.prototype),"postConstruct",this).call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}},{key:"setValue",value:function(e,t){return this.eInput.value!==e&&(this.eInput.value=$(e)?e:""),l(a(n.prototype),"setValue",this).call(this,e,t)}},{key:"setStartValue",value:function(e){this.setValue(e,!0)}},{key:"preventDisallowedCharacters",value:function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListeners(this.eInput,{keydown:function(t){mr(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:function(t){var n,i=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text");i&&i.split("").some((function(t){return!e.test(t)}))&&t.preventDefault()}})}}]),n}(ri),wr={selector:"AG-INPUT-TEXT-FIELD",component:Cr},Sr=function(e){c(n,e);var t=p(n);function n(e){return C(this,n),t.call(this,e,"ag-number-field","number")}return k(n,[{key:"postConstruct",value:function(){var e=this;l(a(n.prototype),"postConstruct",this).call(this),this.addManagedListeners(this.eInput,{blur:function(){var t=parseFloat(e.eInput.value),n=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==n&&e.setValue(n)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";var t=this.config,i=t.precision,r=t.min,o=t.max,s=t.step;"number"===typeof i&&this.setPrecision(i),"number"===typeof r&&this.setMin(r),"number"===typeof o&&this.setMax(o),"number"===typeof s&&this.setStep(s)}},{key:"onWheel",value:function(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}},{key:"normalizeValue",value:function(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}},{key:"adjustPrecision",value:function(e,t){if(null==this.precision)return e;if(t){var n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}var i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return"".concat(i[0],".").concat(i[1].slice(0,this.precision))}return i[0]}},{key:"setMin",value:function(e){return this.min===e||(this.min=e,Ln(this.eInput,"min",e)),this}},{key:"setMax",value:function(e){return this.max===e||(this.max=e,Ln(this.eInput,"max",e)),this}},{key:"setPrecision",value:function(e){return this.precision=e,this}},{key:"setStep",value:function(e){return this.step===e||(this.step=e,Ln(this.eInput,"step",e)),this}},{key:"setValue",value:function(e,t){var i=this;return this.setValueOrInputValue((function(e){return l(a(n.prototype),"setValue",i).call(i,e,t)}),(function(){return i}),e)}},{key:"setStartValue",value:function(e){var t=this;return this.setValueOrInputValue((function(e){return l(a(n.prototype),"setValue",t).call(t,e,!0)}),(function(e){t.eInput.value=e}),e)}},{key:"setValueOrInputValue",value:function(e,t,n){if($(n)){var i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i)i=(n=this.adjustPrecision(n))!=this.normalizeValue(n);if(i)return t(n)}return e(n)}},{key:"getValue",value:function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):l(a(n.prototype),"getValue",this).call(this)}}},{key:"isScientificNotation",value:function(e){return"string"===typeof e&&e.includes("e")}}]),n}(Cr),kr={selector:"AG-INPUT-NUMBER-FIELD",component:Sr},br=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Rr=function(){function e(t,n,i){C(this,e),this.localeService=t,this.optionsFactory=n,this.valueFormatter=i}return k(e,[{key:"getModelAsString",value:function(e){var t=this;if(!e)return null;var n=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(n){var r,o=e,a=(null!==(r=o.conditions)&&void 0!==r?r:[]).map((function(e){return t.getModelAsString(e)})),s="AND"===o.operator?"andCondition":"orCondition";return a.join(" ".concat(i(s,ar[s])," "))}if("blank"===e.type||"notBlank"===e.type)return i(e.type,e.type);var l=e,u=this.optionsFactory.getCustomOption(l.type),c=u||{},d=c.displayKey,h=c.displayName,f=c.numberOfInputs;return d&&h&&0===f?(i(d,h),h):this.conditionToString(l,u)}},{key:"updateParams",value:function(e){this.optionsFactory=e.optionsFactory}},{key:"formatValue",value:function(e){var t;return this.valueFormatter?null!==(t=this.valueFormatter(null!==e&&void 0!==e?e:null))&&void 0!==t?t:"":String(e)}}]),e}(),Er=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"conditionToString",value:function(e,t){var n=(t||{}).numberOfInputs;return"inRange"==e.type||2===n?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):null!=e.filter?this.formatValue(e.filter):"".concat(e.type)}}]),n}(Rr);function Fr(e){var t=(null!==e&&void 0!==e?e:{}).allowedCharPattern;return null!==t&&void 0!==t?t:null}var Pr=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,"numberFilter")).eValuesFrom=[],e.eValuesTo=[],e}return k(n,[{key:"refresh",value:function(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&l(a(n.prototype),"refresh",this).call(this,e)}},{key:"mapValuesFromModel",value:function(e){var t=e||{},n=t.filter,i=t.filterTo,r=t.type;return[this.processValue(n),this.processValue(i)].slice(0,this.getNumberOfInputs(r))}},{key:"getDefaultDebounceMs",value:function(){return 500}},{key:"comparator",value:function(){return function(e,t){return e===t?0:e<t?1:-1}}},{key:"setParams",value:function(e){this.numberFilterParams=e,l(a(n.prototype),"setParams",this).call(this,e),this.filterModelFormatter=new Er(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}},{key:"getDefaultFilterOptions",value:function(){return br}},{key:"setElementValue",value:function(e,t,i){var r=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(null!==t&&void 0!==t?t:null):t;l(a(n.prototype),"setElementValue",this).call(this,e,r)}},{key:"createValueElement",value:function(){var e=Fr(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Nt(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}},{key:"createFromToElement",value:function(e,t,n,i){var r=this.createManagedBean(i?new Cr({allowedCharPattern:i}):new Sr);r.addCssClass("ag-filter-".concat(n)),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}},{key:"removeValueElements",value:function(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}},{key:"getValues",value:function(e){var t=this,n=[];return this.forEachPositionInput(e,(function(e,i,r,o){i<o&&n.push(t.processValue(t.stringToFloat(e.getValue())))})),n}},{key:"areSimpleModelsEqual",value:function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}},{key:"getFilterType",value:function(){return"number"}},{key:"processValue",value:function(e){return null==e||isNaN(e)?null:e}},{key:"stringToFloat",value:function(e){if("number"===typeof e)return e;var t=J(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}},{key:"createCondition",value:function(e){var t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}},{key:"getInputs",value:function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}},{key:"getModelAsString",value:function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}},{key:"hasInvalidInputs",value:function(){var e=!1;return this.forEachInput((function(t){t.getInputElement().validity.valid||(e=!0)})),e}}]),n}(gr),Dr=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],xr=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"conditionToString",value:function(e,t){var n=(t||{}).numberOfInputs;return"inRange"==e.type||2===n?"".concat(e.filter,"-").concat(e.filterTo):null!=e.filter?"".concat(e.filter):"".concat(e.type)}}]),n}(Rr);function Mr(e){var t=e&&e.trim();return""===t?e:t}var Ar=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,"textFilter")).defaultFormatter=function(e){return e},e.defaultLowercaseFormatter=function(e){return null==e?null:e.toString().toLowerCase()},e.defaultMatcher=function(e){var t=e.filterOption,n=e.value,i=e.filterText;if(null==i)return!1;switch(t){case"contains":return n.indexOf(i)>=0;case"notContains":return n.indexOf(i)<0;case"equals":return n===i;case"notEqual":return n!=i;case"startsWith":return 0===n.indexOf(i);case"endsWith":var r=n.lastIndexOf(i);return r>=0&&r===n.length-i.length;default:return!1}},e.eValuesFrom=[],e.eValuesTo=[],e}return k(n,[{key:"getDefaultDebounceMs",value:function(){return 500}},{key:"setParams",value:function(e){this.textFilterParams=e,l(a(n.prototype),"setParams",this).call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new xr(this.localeService,this.optionsFactory)}},{key:"getTextMatcher",value:function(){var e=this.textFilterParams.textCustomComparator;return e?(De("textCustomComparator is deprecated, use textMatcher instead."),function(t){var n=t.filterOption,i=t.value,r=t.filterText;return e(n,i,r)}):this.textFilterParams.textMatcher||this.defaultMatcher}},{key:"createCondition",value:function(e){var t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}},{key:"getFilterType",value:function(){return"text"}},{key:"areSimpleModelsEqual",value:function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}},{key:"getInputs",value:function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}},{key:"getValues",value:function(e){return this.getValuesWithSideEffects(e,!1)}},{key:"getValuesWithSideEffects",value:function(e,t){var n=this,i=[];return this.forEachPositionInput(e,(function(e,r,o,a){if(r<a){var s,l=J(e.getValue());if(t&&n.textFilterParams.trimInput)l=null!==(s=Mr(l))&&void 0!==s?s:null,e.setValue(l,!0);i.push(l)}})),i}},{key:"getDefaultFilterOptions",value:function(){return Dr}},{key:"createValueElement",value:function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),Nt(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}},{key:"createFromToElement",value:function(e,t,n){var i=this.createManagedBean(new Cr);i.addCssClass("ag-filter-".concat(n)),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}},{key:"removeValueElements",value:function(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}},{key:"mapValuesFromModel",value:function(e){var t=e||{},n=t.filter,i=t.filterTo,r=t.type;return[n||null,i||null].slice(0,this.getNumberOfInputs(r))}},{key:"evaluateNullValue",value:function(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}},{key:"evaluateNonNullValue",value:function(e,t,n,i){var r=this,o=e.map((function(e){return r.formatter(e)}))||[],a=this.formatter(t),s=this.textFilterParams,l=s.api,u=s.colDef,c=s.column,d=s.context,h=s.textFormatter;if("blank"===n.type)return this.isBlank(t);if("notBlank"===n.type)return!this.isBlank(t);var f={api:l,colDef:u,column:c,context:d,node:i.node,data:i.data,filterOption:n.type,value:a,textFormatter:h};return o.some((function(e){return r.matcher(y(y({},f),{},{filterText:e}))}))}},{key:"getModelAsString",value:function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}]),n}(pr);function Tr(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseInt(e);if(isNaN(t))return;return t}}function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function(n){var i=Tr(n);if(!(null==i||i<e||i>t))return i}}function Ir(e,t){return e.toString().padStart(t,"0")}function Or(e,t,n){return"number"!==typeof e?"":e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function Nr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(!e)return null;var i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(e){return Ir(e,2)})).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((function(e){return Ir(e,2)})).join(":")),i}var Gr=function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD",n=Ir(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return n.slice(n.length-4,n.length)},YY:function(){return n.slice(n.length-2,n.length)},Y:function(){return"".concat(e.getFullYear())},MMMM:function(){return i[e.getMonth()]},MMM:function(){return i[e.getMonth()].slice(0,3)},MM:function(){return Ir(e.getMonth()+1,2)},Mo:function(){return"".concat(e.getMonth()+1).concat(Gr(e.getMonth()+1))},M:function(){return"".concat(e.getMonth()+1)},Do:function(){return"".concat(e.getDate()).concat(Gr(e.getDate()))},DD:function(){return Ir(e.getDate(),2)},D:function(){return"".concat(e.getDate())},dddd:function(){return r[e.getDay()]},ddd:function(){return r[e.getDay()].slice(0,3)},dd:function(){return r[e.getDay()].slice(0,2)},do:function(){return"".concat(e.getDay()).concat(Gr(e.getDay()))},d:function(){return"".concat(e.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,(function(e){return e in o?o[e]():e}))}function Hr(e){if(!e)return null;var t=e.split(" "),n=(0,r.Z)(t,2),i=n[0],o=n[1];if(!i)return null;var a=i.split("-").map((function(e){return parseInt(e,10)}));if(3!==a.filter((function(e){return!isNaN(e)})).length)return null;var s=(0,r.Z)(a,3),l=s[0],u=s[1],c=s[2],d=new Date(l,u-1,c);if(d.getFullYear()!==l||d.getMonth()!==u-1||d.getDate()!==c)return null;if(!o||"00:00:00"===o)return d;var h=o.split(":").map((function(e){return parseInt(e,10)})),f=(0,r.Z)(h,3),v=f[0],p=f[1],g=f[2];return v>=0&&v<24&&d.setHours(v),p>=0&&p<60&&d.setMinutes(p),g>=0&&g<60&&d.setSeconds(g),d}var Vr=function(){function e(t,n,i,r,o){var a=this;C(this,e),this.alive=!0,this.context=t,this.eParent=r,n.getDateCompDetails(i).newAgStackInstance().then((function(e){a.alive?(a.dateComp=e,e&&(r.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),a.tempValue&&e.setDate(a.tempValue),null!=a.disabled&&a.setDateCompDisabled(a.disabled),null===o||void 0===o||o(a))):t.destroyBean(e)}))}return k(e,[{key:"destroy",value:function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}},{key:"getDate",value:function(){return this.dateComp?this.dateComp.getDate():this.tempValue}},{key:"setDate",value:function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}},{key:"setDisabled",value:function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}},{key:"setDisplayed",value:function(e){cn(this.eParent,e)}},{key:"setInputPlaceholder",value:function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}},{key:"setInputAriaLabel",value:function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}},{key:"afterGuiAttached",value:function(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}},{key:"updateParams",value:function(e){var t,n,i=!1;null!==(t=this.dateComp)&&void 0!==t&&t.refresh&&"function"===typeof this.dateComp.refresh&&(null!==this.dateComp.refresh(e)&&(i=!0));!i&&null!==(n=this.dateComp)&&void 0!==n&&n.onParamsUpdated&&"function"===typeof this.dateComp.onParamsUpdated&&(null!==this.dateComp.onParamsUpdated(e)&&De("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead."))}},{key:"setDateCompDisabled",value:function(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}}]),e}(),Wr=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],zr=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this,i,r)).dateFilterParams=e,o}return k(n,[{key:"conditionToString",value:function(e,t){var n=e.type,i=(t||{}).numberOfInputs,r="inRange"==n||2===i,o=Hr(e.dateFrom),a=Hr(e.dateTo),s=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){var l=null!==o?Br(o,s):"null",u=null!==a?Br(a,s):"null";return"".concat(l,"-").concat(u)}return null!=o?Br(o,s):"".concat(n)}},{key:"updateParams",value:function(e){l(a(n.prototype),"updateParams",this).call(this,e),this.dateFilterParams=e.dateFilterParams}}]),n}(Rr),_r=1/0,Ur=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,"dateFilter")).eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=_r,e.minValidDate=null,e.maxValidDate=null,e}return k(n,[{key:"wireBeans",value:function(e){l(a(n.prototype),"wireBeans",this).call(this,e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}},{key:"afterGuiAttached",value:function(e){l(a(n.prototype),"afterGuiAttached",this).call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)}},{key:"mapValuesFromModel",value:function(e){var t=e||{},n=t.dateFrom,i=t.dateTo,r=t.type;return[n&&Hr(n)||null,i&&Hr(i)||null].slice(0,this.getNumberOfInputs(r))}},{key:"comparator",value:function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}},{key:"defaultComparator",value:function(e,t){return null==t||t<e?-1:t>e?1:0}},{key:"setParams",value:function(e){this.dateFilterParams=e,l(a(n.prototype),"setParams",this).call(this,e);var t=function(t,n){if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?n:Number(e[t]);De("DateFilter ".concat(t," is not a number"))}return n};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",_r),this.minValidYear>this.maxValidYear&&De("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Hr(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Hr(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&De("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new zr(this.dateFilterParams,this.localeService,this.optionsFactory)}},{key:"createDateCompWrapper",value:function(e){var t=this,n=new Vr(this.context,this.userComponentFactory,{onDateChanged:function(){return t.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc((function(){return n.destroy()})),n}},{key:"setElementValue",value:function(e,t){e.setDate(t)}},{key:"setElementDisplayed",value:function(e,t){e.setDisplayed(t)}},{key:"setElementDisabled",value:function(e,t){e.setDisabled(t)}},{key:"getDefaultFilterOptions",value:function(){return Wr}},{key:"createValueElement",value:function(){var e=this.gos.getDocument().createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}},{key:"createFromToElement",value:function(e,t,n,i){var r=this.gos.getDocument().createElement("div");r.classList.add("ag-filter-".concat(i)),r.classList.add("ag-filter-date-".concat(i)),t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}},{key:"removeValueElements",value:function(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}},{key:"removeDateComps",value:function(e,t,n){this.removeItems(e,t,n).forEach((function(e){return e.destroy()}))}},{key:"isValidDateValue",value:function(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}},{key:"isConditionUiComplete",value:function(e){var t=this;if(!l(a(n.prototype),"isConditionUiComplete",this).call(this,e))return!1;var i=!0;return this.forEachInput((function(n,r,o,a){o!==e||!i||r>=a||(i=i&&t.isValidDateValue(n.getDate()))})),i}},{key:"areSimpleModelsEqual",value:function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}},{key:"getFilterType",value:function(){return"date"}},{key:"createCondition",value:function(e){var t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=Nr(i[0])),i.length>1&&(n.dateTo=Nr(i[1])),y({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},n)}},{key:"resetPlaceholder",value:function(){var e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput((function(e){e.setInputPlaceholder(t),e.setInputAriaLabel(n)}))}},{key:"getInputs",value:function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}},{key:"getValues",value:function(e){var t=[];return this.forEachPositionInput(e,(function(e,n,i,r){n<r&&t.push(e.getDate())})),t}},{key:"translate",value:function(e){return"lessThan"===e?l(a(n.prototype),"translate",this).call(this,"before"):"greaterThan"===e?l(a(n.prototype),"translate",this).call(this,"after"):l(a(n.prototype),"translate",this).call(this,e)}},{key:"getModelAsString",value:function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}]),n}(gr),jr=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this)).columnOrGroup=e,a.columnOrGroup=e,a.eCell=i,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=r,a}return k(n,[{key:"setColsSpanning",value:function(e){this.colsSpanning=e,this.onLeftChanged()}},{key:"getColumnOrGroup",value:function(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?I(this.colsSpanning):this.columnOrGroup}},{key:"postConstruct",value:function(){var e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}},{key:"setLeftFirstTime",value:function(){var e=this.beans.gos.get("suppressColumnMoveAnimation"),t=$(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}},{key:"animateInLeft",value:function(){var e=this,t=this.getColumnOrGroup(),n=t.getLeft(),i=t.getOldLeft(),r=this.modifyLeftForPrintLayout(t,i),o=this.modifyLeftForPrintLayout(t,n);this.setLeft(r),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn((function(){e.actualLeft===o&&e.setLeft(o)}))}},{key:"onLeftChanged",value:function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}},{key:"modifyLeftForPrintLayout",value:function(e,t){if(!this.beans.gos.isDomLayout("print"))return t;if("left"===e.getPinned())return t;var n=this.beans.visibleColsService.getColsLeftWidth();return"right"===e.getPinned()?n+this.beans.visibleColsService.getBodyContainerWidth()+t:n+t}},{key:"setLeft",value:function(e){if($(e)&&(this.eCell.style.left="".concat(e,"px")),ut(this.columnOrGroup)){var t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&(n=this.ariaEl,i=t.length,Lt(n,"colspan",i))}var n,i}}]),n}(Y);function Zr(e,t,n,i){return ee(e)?[]:qr(e.headerClass,e,t,n,i)}function Kr(e,t,n){e.addOrRemoveCssClass("ag-column-first",n.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",n.isColAtEdge(t,"last"))}function qr(e,t,n,i,r){if(ee(e))return[];var a;if("function"===typeof e){var s=function(e,t,n,i){return t.addGridCommonParams({colDef:e,column:n,columnGroup:i})}(t,n,i,r);a=e(s)}else a=e;return"string"===typeof a?[a]:Array.isArray(a)?(0,o.Z)(a):[]}var Qr=0,Yr=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this)).resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=e,o.parentRowCtrl=r,o.beans=i,o.instanceId=e.getUniqueId()+"-"+Qr++,o}return k(n,[{key:"wireBeans",value:function(e){this.pinnedWidthService=e.pinnedWidthService,this.focusService=e.focusService,this.userComponentFactory=e.userComponentFactory,this.ctrlsService=e.ctrlsService,this.dragAndDropService=e.dragAndDropService,this.menuService=e.menuService}},{key:"postConstruct",value:function(){var e=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],(function(){return e.refreshTabIndex()}))}},{key:"shouldStopEventPropagation",value:function(e){var t=this.focusService.getFocusedHeader(),n=t.headerRowIndex,i=t.column;return function(e,t,n,i){var r=i.getDefinition(),o=r&&r.suppressHeaderKeyboardEvent;return!!$(o)&&!!o(e.addGridCommonParams({colDef:r,column:i,headerRowIndex:n,event:t}))}(this.gos,e,n,i)}},{key:"getWrapperHasFocus",value:function(){return this.gos.getActiveDomElement()===this.eGui}},{key:"setGui",value:function(e){this.eGui=e,this.addDomData(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}},{key:"onGuiFocus",value:function(){var e={type:"headerFocused",column:this.column};this.eventService.dispatchEvent(e)}},{key:"onDisplayedColumnsChanged",value:function(){this.comp&&this.column&&(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}},{key:"refreshFirstAndLastStyles",value:function(){Kr(this.comp,this.column,this.beans.visibleColsService)}},{key:"refreshAriaColIndex",value:function(){var e=this.beans,t=this.column,n=e.visibleColsService.getAriaColIndex(t);jt(this.eGui,n)}},{key:"addResizeAndMoveKeyboardListeners",value:function(){this.resizeFeature&&this.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}},{key:"refreshTabIndex",value:function(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}},{key:"onGuiKeyDown",value:function(e){var t=this.gos.getActiveDomElement(),n=e.key===ni.LEFT||e.key===ni.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t===this.eGui&&(e.shiftKey||e.altKey)&&((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),n)){var i=e.key===ni.LEFT!==this.gos.get("enableRtl"),r=zi[i?"Left":"Right"];if(e.altKey){var o;this.isResizing=!0,this.resizeMultiplier+=1;var a=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(a,e.shiftKey),null===(o=this.resizeFeature)||void 0===o||o.toggleColumnResizing(!0)}else this.moveHeader(r)}}},{key:"getViewportAdjustedResizeDiff",value:function(e){var t=this.getResizeDiff(e);if(this.column.getPinned()){var n=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),r=gn(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(n+i+t>r){if(!(r>n+i))return 0;t=r-n-i}}return t}},{key:"getResizeDiff",value:function(e){var t=e.key===ni.LEFT!==this.gos.get("enableRtl"),n=this.column.getPinned(),i=this.gos.get("enableRtl");return n&&i!==("right"===n)&&(t=!t),(t?-1:1)*this.resizeMultiplier}},{key:"onGuiKeyUp",value:function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((function(){var t;null===(t=e.resizeFeature)||void 0===t||t.toggleColumnResizing(!1)}),150))}},{key:"handleKeyDown",value:function(e){var t=this.getWrapperHasFocus();switch(e.key){case ni.PAGE_DOWN:case ni.PAGE_UP:case ni.PAGE_HOME:case ni.PAGE_END:t&&e.preventDefault()}}},{key:"addDomData",value:function(){var e=this,t=n.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,t,this),this.addDestroyFunc((function(){return e.gos.setDomData(e.eGui,t,null)}))}},{key:"getGui",value:function(){return this.eGui}},{key:"focus",value:function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}},{key:"getRowIndex",value:function(){return this.parentRowCtrl.getRowIndex()}},{key:"getParentRowCtrl",value:function(){return this.parentRowCtrl}},{key:"getPinned",value:function(){return this.parentRowCtrl.getPinned()}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"getColumnGroupChild",value:function(){return this.columnGroupChild}},{key:"removeDragSource",value:function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}},{key:"handleContextMenuMouseEvent",value:function(e,t,n){var i=null!==e&&void 0!==e?e:t;this.gos.get("preventDefaultOnContextMenu")&&i.preventDefault();var r=we(n)?n:void 0;this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}},{key:"dispatchColumnMouseEvent",value:function(e,t){var n={type:e,column:t};this.eventService.dispatchEvent(n)}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}}]),n}(Y);Yr.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Xr=Yr,Jr=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).columns=e,r.element=i,r}return k(n,[{key:"wireBeans",value:function(e){this.columnHoverService=e.columnHoverService}},{key:"postConstruct",value:function(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}},{key:"addMouseHoverListeners",value:function(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}},{key:"onMouseOut",value:function(){this.columnHoverService.clearMouseOver()}},{key:"onMouseOver",value:function(){this.columnHoverService.setMouseOver(this.columns)}}]),n}(Y),$r=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this,e,i,r)).iconCreated=!1,o.column=e,o}return k(n,[{key:"setComp",value:function(e,t,n,i){this.comp=e,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}},{key:"resizeHeader",value:function(){}},{key:"moveHeader",value:function(){}},{key:"setupActive",value:function(){var e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}},{key:"setupUi",value:function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var e=Un("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}}},{key:"setupFocus",value:function(){this.createManagedBean(new or(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}},{key:"setupAria",value:function(){var e=this.localeService.getLocaleTextFunc();Gt(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}},{key:"onTabKeyDown",value:function(e){if(!(this.gos.getActiveDomElement()===this.eGui)){var t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();var n=this.findNextColumnWithFloatingFilter(e.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:e})&&e.preventDefault()}}},{key:"findNextColumnWithFloatingFilter",value:function(e){var t=this.beans.visibleColsService,n=this.column;do{if(!(n=e?t.getColBefore(n):t.getColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}},{key:"handleKeyDown",value:function(e){l(a(n.prototype),"handleKeyDown",this).call(this,e);var t=this.getWrapperHasFocus();switch(e.key){case ni.UP:case ni.DOWN:t||e.preventDefault();case ni.LEFT:case ni.RIGHT:if(t)return;e.stopPropagation();case ni.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ni.ESCAPE:t||this.eGui.focus()}}},{key:"onFocusIn",value:function(e){if(!this.eGui.contains(e.relatedTarget)){var t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&fn(e.relatedTarget,"ag-floating-filter");if(t&&n&&e.target===this.eGui){var i=this.lastFocusEvent,r=!(!i||i.key!==ni.TAB);if(i&&r){var o=i.shiftKey;this.focusService.focusInto(this.eGui,o)}}var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.column)}}},{key:"setupHover",value:function(){var e=this;this.createManagedBean(new Jr([this.column],this.eGui));var t=function(){if(e.gos.get("columnHoverHighlight")){var t=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedEventListeners({columnHoverChanged:t}),t()}},{key:"setupLeft",value:function(){var e=new jr(this.column,this.eGui,this.beans);this.createManagedBean(e)}},{key:"setupFilterButton",value:function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}},{key:"setupUserComp",value:function(){var e,t=this;if(this.active){var n=null===(e=this.beans.filterManager)||void 0===e?void 0:e.getFloatingFilterCompDetails(this.column,(function(){return t.showParentFilter()}));n&&this.setCompDetails(n)}}},{key:"setCompDetails",value:function(e){this.userCompDetails=e,this.comp.setCompDetails(e)}},{key:"showParentFilter",value:function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}},{key:"setupSyncWithFilter",value:function(){var e=this;if(this.active){var t=this.beans.filterManager,n=function(n){if("filterDestroyed"!==(null===n||void 0===n?void 0:n.source)||e.isAlive()){var i=e.comp.getFloatingFilterComp();i&&i.then((function(i){if(i){var r,o=null===t||void 0===t?void 0:t.getCurrentFloatingFilterParentModel(e.column),a=n?y(y({},n),{},{columns:null!==(r=n.columns)&&void 0!==r?r:[],source:"api"===n.source?"api":"columnFilter"}):null;i.onParentModelChanged(o,a)}}))}},i=this.addManagedListeners(this.column,{filterChanged:n}),o=(0,r.Z)(i,1);this.destroySyncListener=o[0],null!==t&&void 0!==t&&t.isFilterActive(this.column)&&n(null)}}},{key:"setupWidth",value:function(){var e=this,t=function(){var t="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(t)};this.addManagedListeners(this.column,{widthChanged:t}),t()}},{key:"setupFilterChangedListener",value:function(){if(this.active){var e=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),t=(0,r.Z)(e,1);this.destroyFilterChangedListener=t[0],this.updateFilterButton()}}},{key:"updateFilterButton",value:function(){if(!this.suppressFilterButton&&this.comp){var e,t=!(null===(e=this.beans.filterManager)||void 0===e||!e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}},{key:"onColDefChanged",value:function(){var e,t=this,n=this.active;this.setupActive();var i=!n&&this.active;n&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());var r=this.active?null===(e=this.beans.filterManager)||void 0===e?void 0:e.getFloatingFilterCompDetails(this.column,(function(){return t.showParentFilter()})):null,o=this.comp.getFloatingFilterComp();o&&r?o.then((function(e){var n,o;!e||null!==(n=t.beans.filterManager)&&void 0!==n&&n.areFilterCompsDifferent(null!==(o=t.userCompDetails)&&void 0!==o?o:null,r)?t.updateCompDetails(r,i):t.updateFloatingFilterParams(r)})):this.updateCompDetails(r,i)}},{key:"updateCompDetails",value:function(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}},{key:"updateFloatingFilterParams",value:function(e){var t;if(e){var n=e.params;null===(t=this.comp.getFloatingFilterComp())||void 0===t||t.then((function(e){var t=!1;null!==e&&void 0!==e&&e.refresh&&"function"===typeof e.refresh&&(null!==e.refresh(n)&&(t=!0));!t&&null!==e&&void 0!==e&&e.onParamsUpdated&&"function"===typeof e.onParamsUpdated&&(null!==e.onParamsUpdated(n)&&De("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead."))}))}}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}}]),n}(Xr),eo="32.0.2";var to=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnFilterService",e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.columnFilterModelUpdateQueue=[],e}return k(n,[{key:"wireBeans",value:function(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}},{key:"postConstruct",value:function(){var e,t,n,i=this;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:function(){return i.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=y({},null!==(e=null===(t=this.gos.get("initialState"))||void 0===t||null===(n=t.filter)||void 0===n?void 0:n.filterModel)&&void 0!==e?e:{})}},{key:"setFilterModel",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(null!==(t=this.dataTypeService)&&void 0!==t&&t.isPendingInference())this.filterModelUpdateQueue.push({model:e,source:i});else{var r=[],o=this.getFilterModel();if(e){var a=new Set(Object.keys(e));this.allColumnFilters.forEach((function(t,i){var o=e[i];r.push(n.setModelOnFilterWrapper(t.filterPromise,o)),a.delete(i)})),a.forEach((function(t){var i=n.columnModel.getColDefCol(t)||n.columnModel.getCol(t);if(i)if(i.isFilterAllowed()){var o=n.getOrCreateFilterWrapper(i);o?r.push(n.setModelOnFilterWrapper(o.filterPromise,e[t])):De("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+t)}else De("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+t);else De("setFilterModel() - no column found for colId: "+t)}))}else this.allColumnFilters.forEach((function(e){r.push(n.setModelOnFilterWrapper(e.filterPromise,null))}));yi.all(r).then((function(){var e,t=n.getFilterModel(),r=[];(n.allColumnFilters.forEach((function(e,n){ae(o?o[n]:null,t?t[n]:null)||r.push(e.column)})),r.length>0)&&(null===(e=n.filterManager)||void 0===e||e.onFilterChanged({columns:r,source:i}))}))}}},{key:"setModelOnFilterWrapper",value:function(e,t){return new yi((function(n){e.then((function(e){"function"!==typeof e.setModel&&(De("filter missing setModel method, which is needed for setFilterModel"),n()),(e.setModel(t)||yi.resolve()).then((function(){return n()}))}))}))}},{key:"getFilterModel",value:function(){var e=this,t={};return this.allColumnFilters.forEach((function(n,i){var r=e.getModelFromFilterWrapper(n);$(r)&&(t[i]=r)})),t}},{key:"getModelFromFilterWrapper",value:function(e){var t=e.filter;return t?"function"!==typeof t.getModel?(De("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}},{key:"getModelFromInitialState",value:function(e){var t;return null!==(t=this.initialFilterModel[e.getColId()])&&void 0!==t?t:null}},{key:"isColumnFilterPresent",value:function(){return this.activeColumnFilters.length>0}},{key:"isAggregateFilterPresent",value:function(){return!!this.activeAggregateFilters.length}},{key:"disableColumnFilters",value:function(){var e=this;return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach((function(t){return e.disposeFilterWrapper(t,"advancedFilterEnabled")})),!0)}},{key:"doAggregateFiltersPass",value:function(e,t){return this.doColumnFiltersPass(e,t,!0)}},{key:"updateActiveFilters",value:function(){var e=this,t=!!this.gos.getGroupAggFiltering(),n=[],i=[];return this.forEachColumnFilter((function(r,o){var a=function(e){return!!e&&(e.isFilterActive?e.isFilterActive():(De("Filter is missing isFilterActive() method"),!1))}(r);a&&(!function(n){if(!n.isPrimary())return!0;var i=!e.columnModel.isPivotActive();return!(!n.isValueActive()||!i)&&(!!e.columnModel.isPivotMode()||t)}(o.column)?i.push(r):n.push(r))})).then((function(){e.activeAggregateFilters=n,e.activeColumnFilters=i}))}},{key:"updateFilterFlagInColumns",value:function(e,t){return this.forEachColumnFilter((function(n,i){return i.column.setFilterActive(n.isFilterActive(),e,t)}))}},{key:"forEachColumnFilter",value:function(e){return yi.all(Array.from(this.allColumnFilters.values()).map((function(t){return t.filterPromise.then((function(n){return e(n,t)}))})))}},{key:"doColumnFiltersPass",value:function(e,t,n){for(var i=e.data,r=e.aggData,o=n?this.activeAggregateFilters:this.activeColumnFilters,a=n?r:i,s=0;s<o.length;s++){var l=o[s];if(null!=l&&l!==t){if("function"!==typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:a}))return!1}}return!0}},{key:"callOnFilterChangedOutsideRenderCycle",value:function(e){var t=this,n=function(){var n;return null===(n=t.filterManager)||void 0===n?void 0:n.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()}},{key:"updateBeforeFilterChanged",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.filterInstance,i=t.additionalEventAttributes;return this.updateDependentFilters(),this.updateActiveFilters().then((function(){return e.updateFilterFlagInColumns("filterChanged",i).then((function(){e.allColumnFilters.forEach((function(e){e.filterPromise&&e.filterPromise.then((function(e){e&&e!==n&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))})),e.processingFilterChange=!0}))}))}},{key:"updateAfterFilterChanged",value:function(){this.processingFilterChange=!1}},{key:"isSuppressFlashingCellsBecauseFiltering",value:function(){var e;return!(null!==(e=this.gos.get("allowShowChangeAfterFilter"))&&void 0!==e&&e)&&this.processingFilterChange}},{key:"onNewRowsLoaded",value:function(e){var t=this;this.forEachColumnFilter((function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()})).then((function(){return t.updateFilterFlagInColumns(e,{afterDataChange:!0})})).then((function(){return t.updateActiveFilters()}))}},{key:"createValueGetter",value:function(e){var t=this;return function(n){var i=n.node;return t.valueService.getValue(e,i,!0)}}},{key:"createGetValue",value:function(e){var t=this;return function(n,i){var r=i?t.columnModel.getCol(i):e;return r?t.valueService.getValue(r,n,!0):void 0}}},{key:"isFilterActive",value:function(e){var t,n=(null!==(t=this.cachedFilter(e))&&void 0!==t?t:{}).filter;return n?n.isFilterActive():null!=this.getModelFromInitialState(e)}},{key:"getOrCreateFilterWrapper",value:function(e){if(!e.isFilterAllowed())return null;var t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}},{key:"cachedFilter",value:function(e){return this.allColumnFilters.get(e.getColId())}},{key:"getDefaultFilter",value:function(e){var t;if($n.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFilter";else{var n,i=null===(n=this.dataTypeService)||void 0===n?void 0:n.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}},{key:"getDefaultFloatingFilter",value:function(e){var t;if($n.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFloatingFilter";else{var n,i=null===(n=this.dataTypeService)||void 0===n?void 0:n.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}},{key:"createFilterInstance",value:function(e,t){var n,i=this,r=this.getDefaultFilter(e),o=e.getColDef(),a=y(y({},this.createFilterParams(e,o)),{},{filterModifiedCallback:function(){return i.filterModifiedCallbackFactory(n,e)()},filterChangedCallback:function(t){return i.filterChangedCallbackFactory(n,e)(t)},doesRowPassOtherFilter:function(e){return!i.filterManager||i.filterManager.doesRowPassOtherFilters(n,e)}}),s=this.userComponentFactory.getFilterDetails(o,a,r);return s?{filterPromise:function(){var e=s.newAgStackInstance();return null!=e&&e.then((function(e){n=e,t&&(t.filter=e)})),e},compDetails:s}:{filterPromise:null,compDetails:null}}},{key:"createFilterParams",value:function(e,t){return this.gos.addGridCommonParams({column:e,colDef:de(t),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0}})}},{key:"createFilterWrapper",value:function(e){var t,n={column:e,filterPromise:null,compiledElement:null,compDetails:null},i=this.createFilterInstance(e,n),r=i.filterPromise,o=i.compDetails;return n.filterPromise=null!==(t=null===r||void 0===r?void 0:r())&&void 0!==t?t:null,n.compDetails=o,n}},{key:"onColumnsChanged",value:function(){var e,t=this,n=[];(this.allColumnFilters.forEach((function(e,i){var r;(r=e.column.isPrimary()?t.columnModel.getColDefCol(i):t.columnModel.getCol(i))&&r===e.column||(n.push(e.column),t.disposeFilterWrapper(e,"columnChanged"),t.disposeColumnListener(i))})),n.length>0)?null===(e=this.filterManager)||void 0===e||e.onFilterChanged({columns:n,source:"api"}):this.updateDependentFilters()}},{key:"updateDependentFilters",value:function(){var e=this,t=this.columnModel.getAutoCols();null===t||void 0===t||t.forEach((function(t){"agGroupColumnFilter"===t.getColDef().filter&&e.getOrCreateFilterWrapper(t)}))}},{key:"isFilterAllowed",value:function(e){var t,n=e.isFilterAllowed();if(!n)return!1;var i=(null!==(t=this.allColumnFilters.get(e.getColId()))&&void 0!==t?t:{}).filter;return!i||("function"!==typeof(null===i||void 0===i?void 0:i.isFilterAllowed)||i.isFilterAllowed())}},{key:"getFloatingFilterCompDetails",value:function(e,t){var n=this,i=function(t){var i,r=null===(i=n.getOrCreateFilterWrapper(e))||void 0===i?void 0:i.filterPromise;null!=r&&r.then((function(e){t(Vi(e))}))},r=e.getColDef(),o=y(y({},this.createFilterParams(e,r)),{},{filterChangedCallback:function(){return i((function(t){return n.filterChangedCallbackFactory(t,e)()}))}}),a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,Mi,o),s=function(e,t,n){if(null==t)return null;var i=null,r=Hi.getCompKeys(e,t,Mi),o=r.compName,a=r.jsComp,s=r.fwComp;o?i={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[o]:null==a&&null==s&&!0===t.filter&&(i=n());return i}(this.frameworkOverrides,r,(function(){return n.getDefaultFloatingFilter(e)}));null==s&&(s="agReadOnlyFloatingFilter");var l={column:e,filterParams:a,currentParentModel:function(){return n.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(r,l,s)}},{key:"getCurrentFloatingFilterParentModel",value:function(e){var t;return this.getModelFromFilterWrapper(null!==(t=this.cachedFilter(e))&&void 0!==t?t:{column:e})}},{key:"destroyFilter",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",i=e.getColId(),r=this.allColumnFilters.get(i);(this.disposeColumnListener(i),delete this.initialFilterModel[i],r)&&(this.disposeFilterWrapper(r,n),null===(t=this.filterManager)||void 0===t||t.onFilterChanged({columns:[e],source:"api"}))}},{key:"disposeColumnListener",value:function(e){var t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}},{key:"disposeFilterWrapper",value:function(e,t){var n=this;e.filterPromise.then((function(i){n.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),n.allColumnFilters.delete(e.column.getColId());var r={type:"filterDestroyed",source:t,column:e.column};n.eventService.dispatchEvent(r)}))}},{key:"filterModifiedCallbackFactory",value:function(e,t){var n=this;return function(){var i={type:"filterModified",column:t,filterInstance:e};n.eventService.dispatchEvent(i)}}},{key:"filterChangedCallbackFactory",value:function(e,t){var n=this;return function(i){var r,o=null!==(r=null===i||void 0===i?void 0:i.source)&&void 0!==r?r:"columnFilter",a={filter:e,additionalEventAttributes:i,columns:[t],source:o};n.callOnFilterChangedOutsideRenderCycle(a)}}},{key:"checkDestroyFilter",value:function(e){var t=this,n=this.allColumnFilters.get(e);if(n){var i=n.column,r=(i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(n.compDetails,r))this.destroyFilter(i,"paramsUpdated");else{var o=i.getColDef().filterParams;n.filterPromise?n.filterPromise.then((function(e){!1===(null===e||void 0===e||!e.refresh||e.refresh(y(y({},t.createFilterParams(i,i.getColDef())),{},{filterModifiedCallback:t.filterModifiedCallbackFactory(e,i),filterChangedCallback:t.filterChangedCallbackFactory(e,i),doesRowPassOtherFilter:function(n){return!t.filterManager||t.filterManager.doesRowPassOtherFilters(e,n)}},o)))&&t.destroyFilter(i,"paramsUpdated")})):this.destroyFilter(i,"paramsUpdated")}}}},{key:"setColumnFilterWrapper",value:function(e,t){var n=this,i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:function(){return n.checkDestroyFilter(i)}})[0])}},{key:"areFilterCompsDifferent",value:function(e,t){if(!t||!e)return!0;var n=e.componentClass,i=t.componentClass;return!(n===i||(null===n||void 0===n?void 0:n.render)&&(null===i||void 0===i?void 0:i.render)&&n.render===i.render)}},{key:"hasFloatingFilters",value:function(){return this.columnModel.getCols().some((function(e){return e.getColDef().floatingFilter}))}},{key:"getFilterInstance",value:function(e,t){t&&this.getFilterInstanceImpl(e).then((function(e){var n=Vi(e);t(n)}))}},{key:"getColumnFilterInstance",value:function(e){var t=this;return new Promise((function(n){t.getFilterInstanceImpl(e).then((function(e){n(Vi(e))}))}))}},{key:"getFilterInstanceImpl",value:function(e){var t,n=this.columnModel.getColDefCol(e);if(!n)return yi.resolve(void 0);var i=null===(t=this.getOrCreateFilterWrapper(n))||void 0===t?void 0:t.filterPromise;return null!==i&&void 0!==i?i:yi.resolve(null)}},{key:"processFilterModelUpdateQueue",value:function(){var e=this;this.filterModelUpdateQueue.forEach((function(t){var n=t.model,i=t.source;return e.setFilterModel(n,i)})),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((function(t){var n=t.key,i=t.model,r=t.resolve;e.setColumnFilterModel(n,i).then((function(){return r()}))})),this.columnFilterModelUpdateQueue=[]}},{key:"getColumnFilterModel",value:function(e){var t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}},{key:"setColumnFilterModel",value:function(e,t){var n;if(null!==(n=this.dataTypeService)&&void 0!==n&&n.isPendingInference()){var i=function(){},r=new Promise((function(e){i=e}));return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:i}),r}var o=this.columnModel.getColDefCol(e),a=o?this.getOrCreateFilterWrapper(o):null;return a?function(e){return new Promise((function(t){e.then((function(e){return t(e)}))}))}(this.setModelOnFilterWrapper(a.filterPromise,t)):Promise.resolve()}},{key:"getFilterWrapper",value:function(e){var t,n=this.columnModel.getColDefCol(e);return n&&null!==(t=this.cachedFilter(n))&&void 0!==t?t:null}},{key:"destroy",value:function(){var e=this;l(a(n.prototype),"destroy",this).call(this),this.allColumnFilters.forEach((function(t){return e.disposeFilterWrapper(t,"gridDestroyed")})),this.allColumnListeners.clear()}}]),n}(Y);var no=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[wr])).eFloatingFilterText=Vn,e}return k(n,[{key:"wireBeans",value:function(e){this.columnNameService=e.columnNameService}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}},{key:"init",value:function(e){this.params=e;var t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(t," ").concat(n("ariaFilterInput","Filter Input")))}},{key:"onParentModelChanged",value:function(e){var t=this;null!=e?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var i=n.getModelAsString(e);t.eFloatingFilterText.setValue(i)}})):this.eFloatingFilterText.setValue("")}},{key:"onParamsUpdated",value:function(e){this.refresh(e)}},{key:"refresh",value:function(e){this.init(e)}}]),n}(Wn),io=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"wireBeans",value:function(e){this.columnNameService=e.columnNameService}},{key:"getDefaultDebounceMs",value:function(){return 0}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}},{key:"isEventFromFloatingFilter",value:function(e){return e&&e.afterFloatingFilter}},{key:"isEventFromDataChange",value:function(e){return null===e||void 0===e?void 0:e.afterDataChange}},{key:"getLastType",value:function(){return this.lastType}},{key:"isReadOnly",value:function(){return this.readOnly}},{key:"setLastTypeFromModel",value:function(e){if(e){var t;if(e.operator)t=e.conditions[0];else t=e;this.lastType=t.type}else this.lastType=this.optionsFactory.getDefaultOption()}},{key:"canWeEditAfterModelFromParentFilter",value:function(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;var t=e;return this.isTypeEditable(t.type)}},{key:"init",value:function(e){this.setSimpleParams(e,!1)}},{key:"setSimpleParams",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.optionsFactory=new vr,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}},{key:"onParamsUpdated",value:function(e){this.refresh(e)}},{key:"refresh",value:function(e){this.setSimpleParams(e)}},{key:"doesFilterHaveSingleInput",value:function(e){var t=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==t||1==t}},{key:"isTypeEditable",value:function(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}},{key:"getAriaLabel",value:function(e){var t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();return"".concat(t," ").concat(n("ariaFilterInput","Filter Input"))}}]),n}(Wn),ro=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[wr])).eReadOnlyText=Vn,e.eDateWrapper=Vn,e}return k(n,[{key:"wireBeans",value:function(e){l(a(n.prototype),"wireBeans",this).call(this,e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}},{key:"getDefaultFilterOptions",value:function(){return Wr}},{key:"init",value:function(e){l(a(n.prototype),"init",this).call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new zr(this.filterParams,this.localeService,this.optionsFactory);var t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}},{key:"onParamsUpdated",value:function(e){this.refresh(e)}},{key:"refresh",value:function(e){l(a(n.prototype),"refresh",this).call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}},{key:"updateCompOnModelChange",value:function(e){var t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){var n=e;this.dateComp.setDate(Hr(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}},{key:"setEditable",value:function(e){cn(this.eDateWrapper,e),cn(this.eReadOnlyText.getGui(),!e)}},{key:"onParentModelChanged",value:function(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(l(a(n.prototype),"setLastTypeFromModel",this).call(this,e),this.updateCompOnModelChange(e))}},{key:"onDateChanged",value:function(){var e=this,t=Nr(this.dateComp.getDate());this.params.parentFilterInstance((function(n){if(n){var i=Hr(t);n.onFloatingFilterChanged(e.getLastType()||null,i)}}))}},{key:"getDateComponentParams",value:function(){var e=sr(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Oe(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}},{key:"createDateComponent",value:function(){var e=this;this.dateComp=new Vr(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(function(t){t.setInputAriaLabel(e.getAriaLabel(e.params))})),this.addDestroyFunc((function(){return e.dateComp.destroy()}))}},{key:"updateDateComponent",value:function(){var e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}},{key:"getFilterModelFormatter",value:function(){return this.filterModelFormatter}}]),n}(io),oo=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[wr])).eDateInput=Vn,e}return k(n,[{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}},{key:"init",value:function(e){var t=this;this.params=e,this.setParams(e);var n=this.eDateInput.getInputElement();this.addManagedListeners(n,{mouseDown:function(){t.eDateInput.isDisabled()||t.usingSafariDatePicker||n.focus()},input:function(e){e.target===t.gos.getActiveDomElement()&&(t.eDateInput.isDisabled()||t.params.onDateChanged())}})}},{key:"setParams",value:function(e){var t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Yt(),t.type=n?"date":"text";var i=e.filterParams||{},o=i.minValidYear,a=i.maxValidYear,s=i.minValidDate,l=i.maxValidDate;if(s&&o&&De("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),l&&a&&De("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&l){var u=[s,l].map((function(e){return e instanceof Date?e:Hr(e)})),c=(0,r.Z)(u,2),d=c[0],h=c[1];d&&h&&d.getTime()>h.getTime()&&De("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?t.min=Br(s):t.min=s:o&&(t.min="".concat(o,"-01-01")),l?l instanceof Date?t.max=Br(l):t.max=l:a&&(t.max="".concat(a,"-12-31"))}},{key:"onParamsUpdated",value:function(e){this.refresh(e)}},{key:"refresh",value:function(e){this.params=e,this.setParams(e)}},{key:"getDate",value:function(){return Hr(this.eDateInput.getValue())}},{key:"setDate",value:function(e){this.eDateInput.setValue(Nr(e,!1))}},{key:"setInputPlaceholder",value:function(e){this.eDateInput.setInputPlaceholder(e)}},{key:"setInputAriaLabel",value:function(e){this.eDateInput.setAriaLabel(e)}},{key:"setDisabled",value:function(e){this.eDateInput.setDisabled(e)}},{key:"afterGuiAttached",value:function(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()}},{key:"shouldUseBrowserDatePicker",value:function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Jt()||$t()||Yt()&&Xt()>=14.1}}]),n}(Wn),ao=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).params=e,i.eFloatingFilterTextInput=Vn,i.valueChangedListener=function(){},i}return k(n,[{key:"setupGui",value:function(e){var t,n=this;this.eFloatingFilterTextInput=this.createManagedBean(new Cr(null===(t=this.params)||void 0===t?void 0:t.config));var i=this.eFloatingFilterTextInput.getGui();e.appendChild(i);var r=function(e){return n.valueChangedListener(e)};this.addManagedListeners(i,{input:r,keydown:r})}},{key:"setEditable",value:function(e){this.eFloatingFilterTextInput.setDisabled(!e)}},{key:"setAutoComplete",value:function(e){this.eFloatingFilterTextInput.setAutoComplete(e)}},{key:"getValue",value:function(){return this.eFloatingFilterTextInput.getValue()}},{key:"setValue",value:function(e,t){this.eFloatingFilterTextInput.setValue(e,t)}},{key:"setValueChangedListener",value:function(e){this.valueChangedListener=e}},{key:"setParams",value:function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}},{key:"setAriaLabel",value:function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}}]),n}(Y),so=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).eFloatingFilterInputContainer=Vn,e}return k(n,[{key:"postConstruct",value:function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}},{key:"getDefaultDebounceMs",value:function(){return 500}},{key:"onParentModelChanged",value:function(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}},{key:"init",value:function(e){this.setupFloatingFilterInputService(e),l(a(n.prototype),"init",this).call(this,e),this.setTextInputParams(e)}},{key:"setupFloatingFilterInputService",value:function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}},{key:"setTextInputParams",value:function(e){var t;this.params=e;var n=null!==(t=e.browserAutoComplete)&&void 0!==t&&t;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:n}),this.applyActive=lr(this.params.filterParams),!this.isReadOnly()){var i=sr(this.params.filterParams,this.getDefaultDebounceMs()),r=Oe(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(r)}}},{key:"onParamsUpdated",value:function(e){this.refresh(e)}},{key:"refresh",value:function(e){l(a(n.prototype),"refresh",this).call(this,e),this.setTextInputParams(e)}},{key:"recreateFloatingFilterInputService",value:function(e){var t=this.floatingFilterInputService.getValue();bn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}},{key:"syncUpWithParentFilter",value:function(e){var t=this,n=e.key===ni.ENTER;if(!this.applyActive||n){var i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Mr(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType()||null,i||null)}))}}},{key:"setEditable",value:function(e){this.floatingFilterInputService.setEditable(e)}}]),n}(io),lo=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).valueChangedListener=function(){},e.numberInputActive=!0,e}return k(n,[{key:"setupGui",value:function(e){var t=this;this.eFloatingFilterNumberInput=this.createManagedBean(new Sr),this.eFloatingFilterTextInput=this.createManagedBean(new Cr),this.eFloatingFilterTextInput.setDisabled(!0);var n=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(n),e.appendChild(i),this.setupListeners(n,(function(e){return t.valueChangedListener(e)})),this.setupListeners(i,(function(e){return t.valueChangedListener(e)}))}},{key:"setEditable",value:function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}},{key:"setAutoComplete",value:function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}},{key:"getValue",value:function(){return this.getActiveInputElement().getValue()}},{key:"setValue",value:function(e,t){this.getActiveInputElement().setValue(e,t)}},{key:"getActiveInputElement",value:function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}},{key:"setValueChangedListener",value:function(e){this.valueChangedListener=e}},{key:"setupListeners",value:function(e,t){this.addManagedListeners(e,{input:t,keydown:t})}},{key:"setParams",value:function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}},{key:"setAriaLabel",value:function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}}]),n}(Y),uo=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"init",value:function(e){var t;l(a(n.prototype),"init",this).call(this,e),this.filterModelFormatter=new Er(this.localeService,this.optionsFactory,null===(t=e.filterParams)||void 0===t?void 0:t.numberFormatter)}},{key:"onParamsUpdated",value:function(e){this.refresh(e)}},{key:"refresh",value:function(e){Fr(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),l(a(n.prototype),"refresh",this).call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}},{key:"getDefaultFilterOptions",value:function(){return br}},{key:"getFilterModelFormatter",value:function(){return this.filterModelFormatter}},{key:"createFloatingFilterInputService",value:function(e){return this.allowedCharPattern=Fr(e.filterParams),this.allowedCharPattern?this.createManagedBean(new ao({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new lo)}}]),n}(so),co=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"init",value:function(e){l(a(n.prototype),"init",this).call(this,e),this.filterModelFormatter=new xr(this.localeService,this.optionsFactory)}},{key:"onParamsUpdated",value:function(e){this.refresh(e)}},{key:"refresh",value:function(e){l(a(n.prototype),"refresh",this).call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}},{key:"getDefaultFilterOptions",value:function(){return Dr}},{key:"getFilterModelFormatter",value:function(){return this.filterModelFormatter}},{key:"createFloatingFilterInputService",value:function(){return this.createManagedBean(new ao)}}]),n}(so);var ho=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="quickFilterService",e.quickFilter=null,e.quickFilterParts=null,e}return k(n,[{key:"wireBeans",value:function(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}},{key:"postConstruct",value:function(){var e=this,t=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:t,columnRowGroupChanged:t,columnVisible:function(){e.gos.get("includeHiddenColumnsInQuickFilter")||e.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",(function(t){return e.setQuickFilter(t.currentValue)})),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(function(){return e.onQuickFilterColumnConfigChanged()})),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(function(){return e.setQuickFilterParserAndMatcher()}))}},{key:"refreshQuickFilterCols",value:function(){var e,t,n=this.columnModel.isPivotMode(),i=this.columnModel.getAutoCols(),r=this.columnModel.getColDefCols(),o=null!==(e=n&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?null===(t=this.pivotResultColsService.getPivotResultCols())||void 0===t?void 0:t.list:r)&&void 0!==e?e:[];i&&(o=o.concat(i)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?o:o.filter((function(e){return e.isVisible()||e.isRowGroupActive()}))}},{key:"isQuickFilterPresent",value:function(){return null!==this.quickFilter}},{key:"doesRowPassQuickFilter",value:function(e){var t=this,n=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(n,e):this.quickFilterParts.every((function(i){return n?t.doesRowPassQuickFilterCache(e,i):t.doesRowPassQuickFilterNoCache(e,i)}))}},{key:"resetQuickFilterCache",value:function(){this.rowModel.forEachNode((function(e){return e.quickFilterAggregateText=null}))}},{key:"setQuickFilterParts",value:function(){var e=this.quickFilter,t=this.parser;this.quickFilterParts=e?t?t(e):e.split(" "):null}},{key:"parseQuickFilter",value:function(e){return $(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(De("Quick filtering only works with the Client-Side Row Model"),null):null}},{key:"setQuickFilter",value:function(e){if(null==e||"string"===typeof e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}else De("Grid option quickFilterText only supports string inputs, received: ".concat(typeof e))}},{key:"setQuickFilterParserAndMatcher",value:function(){var e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}},{key:"onQuickFilterColumnConfigChanged",value:function(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}},{key:"doesRowPassQuickFilterNoCache",value:function(e,t){var n=this;return this.colsForQuickFilter.some((function(i){var r=n.getQuickFilterTextForColumn(i,e);return $(r)&&r.indexOf(t)>=0}))}},{key:"doesRowPassQuickFilterCache",value:function(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}},{key:"doesRowPassQuickFilterMatcher",value:function(e,t){var n;e?(this.checkGenerateQuickFilterAggregateText(t),n=t.quickFilterAggregateText):n=this.getQuickFilterAggregateText(t);var i=this.quickFilterParts;return(0,this.matcher)(i,n)}},{key:"checkGenerateQuickFilterAggregateText",value:function(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}},{key:"getQuickFilterTextForColumn",value:function(e,t){var n=this.valueService.getValue(e,t,!0),i=e.getColDef();if(i.getQuickFilterText){var r=this.gos.addGridCommonParams({value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return $(n)?n.toString().toUpperCase():null}},{key:"getQuickFilterAggregateText",value:function(e){var t=this,n=[];return this.colsForQuickFilter.forEach((function(i){var r=t.getQuickFilterTextForColumn(i,e);$(r)&&n.push(r)})),n.join("\n")}}]),n}(Y),fo={version:eo,moduleName:"@ag-grid-community/filter-core",beans:[$i]},vo={version:eo,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function(e){var t;return!(null===(t=e.filterManager)||void 0===t||!t.isAnyFilterPresent())},onFilterChanged:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";null===(t=e.filterManager)||void 0===t||t.onFilterChanged({source:n})}},dependantModules:[fo]},po={version:eo,moduleName:"@ag-grid-community/column-filter",beans:[to],dependantModules:[fo]},go={version:eo,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function(e){var t,n;return!(null===(t=e.filterManager)||void 0===t||!t.isColumnFilterPresent())||!(null===(n=e.filterManager)||void 0===n||!n.isAggregateFilterPresent())},getFilterInstance:function(e,t,n){var i;return null===(i=e.filterManager)||void 0===i?void 0:i.getFilterInstance(t,n)},getColumnFilterInstance:function(e,t){var n,i;return null!==(n=null===(i=e.filterManager)||void 0===i?void 0:i.getColumnFilterInstance(t))&&void 0!==n?n:Promise.resolve(void 0)},destroyFilter:function(e,t){var n,i=e.columnModel.getColDefCol(t);if(i)return null===(n=e.filterManager)||void 0===n?void 0:n.destroyFilter(i,"api")},setFilterModel:function(e,t){e.frameworkOverrides.wrapIncoming((function(){var n;return null===(n=e.filterManager)||void 0===n?void 0:n.setFilterModel(t)}))},getFilterModel:function(e){var t,n;return null!==(t=null===(n=e.filterManager)||void 0===n?void 0:n.getFilterModel())&&void 0!==t?t:{}},getColumnFilterModel:function(e,t){var n,i;return null!==(n=null===(i=e.filterManager)||void 0===i?void 0:i.getColumnFilterModel(t))&&void 0!==n?n:null},setColumnFilterModel:function(e,t,n){var i,r;return null!==(i=null===(r=e.filterManager)||void 0===r?void 0:r.setColumnFilterModel(t,n))&&void 0!==i?i:Promise.resolve()},showColumnFilter:function(e,t){var n=e.columnModel.getCol(t);n?e.menuService.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"}):xe("column '".concat(t,"' not found"))}},dependantModules:[po,vo]},mo={version:eo,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:$r}],dependantModules:[po]},yo={version:eo,moduleName:"@ag-grid-community/quick-filter-core",beans:[ho],dependantModules:[fo]},Co={version:eo,moduleName:"@ag-grid-community/filter",dependantModules:[{version:eo,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[{version:eo,moduleName:"@ag-grid-community/simple-filter",dependantModules:[po],userComponents:[{name:"agTextColumnFilter",classImp:Ar},{name:"agNumberColumnFilter",classImp:Pr},{name:"agDateColumnFilter",classImp:Ur},{name:"agDateInput",classImp:oo}]},mo],userComponents:[{name:"agTextColumnFloatingFilter",classImp:co},{name:"agNumberColumnFloatingFilter",classImp:uo},{name:"agDateColumnFloatingFilter",classImp:ro}]},{version:eo,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:no}],dependantModules:[mo]},{version:eo,moduleName:"@ag-grid-community/quick-filter",dependantModules:[yo,{version:eo,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function(e){var t;return!(null===(t=e.filterManager)||void 0===t||!t.isQuickFilterPresent())},getQuickFilter:function(e){return e.gos.get("quickFilterText")},resetQuickFilter:function(e){var t;null===(t=e.filterManager)||void 0===t||t.resetQuickFilterCache()}},dependantModules:[yo]}]},go]},wo=function(e){return e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e}(wo||{}),So=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="headerNavigationService",e.currentHeaderRowWithoutSpan=-1,e}return k(n,[{key:"wireBeans",value:function(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}));var t=this.gos.getDocument();this.addManagedElementListeners(t,{mousedown:function(){return e.setCurrentHeaderRowWithoutSpan(-1)}})}},{key:"getHeaderRowCount",value:function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}},{key:"getHeaderPositionForColumn",value:function(e,t){var n;if("string"===typeof e?(n=this.columnModel.getCol(e))||(n=this.visibleColService.getColumnGroup(e)):n=e,!n)return null;for(var i="filter"===I(this.ctrlsService.getHeaderRowContainerCtrl().getAllCtrls()).getType(),r=this.getHeaderRowCount()-1,o=-1,a=n;a;)o++,a=a.getParent();var s=o;return t&&i&&s===r-1&&s++,-1===s?null:{headerRowIndex:s,column:n}}},{key:"navigateVertically",value:function(e,t,n){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;var i=t.headerRowIndex,r=t.column,o=this.getHeaderRowCount(),a=0===e?this.headerPositionUtils.getColumnVisibleParent(r,i):this.headerPositionUtils.getColumnVisibleChild(r,i),s=a.headerRowIndex,l=a.column,u=a.headerRowIndexWithoutSpan,c=!1;return s<0&&(s=0,l=r,c=!0),s>=o?(s=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==u&&(this.currentHeaderRowWithoutSpan=u),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:s,column:l},allowUserOverride:!0,event:n})}},{key:"setCurrentHeaderRowWithoutSpan",value:function(e){this.currentHeaderRowWithoutSpan=e}},{key:"navigateHorizontally",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=this.focusService.getFocusedHeader(),a=2===e,s=this.gos.get("enableRtl");if(-1!==this.currentHeaderRowWithoutSpan?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,a!==s?(n="Before",t=this.headerPositionUtils.findHeader(o,n)):(n="After",t=this.headerPositionUtils.findHeader(o,n)),t||!i)return this.focusService.focusHeaderPosition({headerPosition:t,direction:n,fromTab:i,allowUserOverride:!0,event:r});if(i){var l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:t,direction:n})}return this.focusNextHeaderRow(o,n,r)}},{key:"focusNextHeaderRow",value:function(e,t,n){var i,r,o=e.headerRowIndex,a=null;if("Before"===t?o>0&&(r=o-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!a)return!1;var s=this.headerPositionUtils.getHeaderIndexToFocus(a.column,null===(i=a)||void 0===i?void 0:i.headerRowIndex),l=s.column,u=s.headerRowIndex;return this.focusService.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}},{key:"scrollToColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"After";if(!e.getPinned()){var n;if(ut(e)){var i=e.getDisplayedLeafColumns();n="Before"===t?I(i):i[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}}}]),n}(Y),ko=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"wireBeans",value:function(e){this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}},{key:"setComp",value:function(e,t,n){this.comp=e,this.eGui=t,this.createManagedBean(new or(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();var i=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:i}),this.mockContextMenuForIPad(i),this.ctrlsService.register("gridHeaderCtrl",this)}},{key:"setupHeaderHeight",value:function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e})}},{key:"getHeaderHeight",value:function(){return this.headerHeight}},{key:"setHeaderHeight",value:function(){var e,t,n=this.columnModel,i=0,r=n.getHeaderRowCount();(null===(e=this.filterManager)||void 0===e?void 0:e.hasFloatingFilters())&&(r++,i=1);var o=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),s=r-(1+i);if(t=i*n.getFloatingFiltersHeight(),t+=s*o,t+=a,this.headerHeight!==t){this.headerHeight=t;var l="".concat(t+1,"px");this.comp.setHeightAndMinHeight(l),this.eventService.dispatchEvent({type:"headerHeightChanged"})}}},{key:"onPivotModeChanged",value:function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}},{key:"onDisplayedColumnsChanged",value:function(){var e=this.visibleColsService.getAllCols().some((function(e){return e.isSpanHeaderHeight()}));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}},{key:"onTabKeyDown",value:function(e){var t=this.gos.get("enableRtl"),n=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}},{key:"handleKeyDown",value:function(e){var t=null;switch(e.key){case ni.LEFT:t=2;case ni.RIGHT:$(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case ni.UP:t=0;case ni.DOWN:$(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}},{key:"onFocusOut",value:function(e){var t=e.relatedTarget;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}},{key:"onHeaderContextMenu",value:function(e,t,n){if((e||n)&&this.menuService.isHeaderContextMenuEnabled()){var i=(null!==e&&void 0!==e?e:t).target;i!==this.eGui&&i!==this.ctrlsService.getHeaderRowContainerCtrl().getViewport()||this.menuService.showHeaderContextMenu(void 0,e,n)}}},{key:"mockContextMenuForIPad",value:function(e){if(tn()){var t=new Zn(this.eGui);this.addManagedListeners(t,{longTap:function(t){e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((function(){return t.destroy()}))}}}]),n}(Y),bo=function(e){c(n,e);var t=p(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(this,n),(i=t.call(this)).callback=e,i.addSpacer=r,i}return k(n,[{key:"wireBeans",value:function(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}},{key:"postConstruct",value:function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}},{key:"setWidth",value:function(){var e,t=this.gos.isDomLayout("print"),n=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),r=this.visibleColsService.getDisplayedColumnsRightWidth();t?e=n+i+r:(e=n,this.addSpacer&&0===(this.gos.get("enableRtl")?i:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(e+=this.gos.getScrollbarWidth()));this.callback(e)}}]),n}(Y),Ro=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).columnsToAggregate=[],i.columnsToGroup=[],i.columnsToPivot=[],i.pinned=e,i}return k(n,[{key:"wireBeans",value:function(e){this.funcColsService=e.funcColsService}},{key:"onDragEnter",value:function(e){var t=this;if(this.clearColumnsList(),!this.gos.get("functionsReadOnly")){var n=e.dragItem.columns;n&&n.forEach((function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))}))}}},{key:"getIconName",value:function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}},{key:"onDragLeave",value:function(e){this.clearColumnsList()}},{key:"clearColumnsList",value:function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}},{key:"onDragging",value:function(e){}},{key:"onDragStop",value:function(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}}]),n}(Y);function Eo(e){var t=e.isFromHeader,n=e.hDirection,i=e.xPosition,r=e.fromEnter,o=e.fakeEvent,a=e.pinned,s=e.gos,l=e.columnModel,u=e.columnMoveService,c=e.presentedColsService,d=0===n,h=1===n,f=e.allMovingColumns;if(t){var v=[];f.forEach((function(e){for(var t,n=null,i=e.getParent();null!=i&&1===i.getDisplayedLeafColumns().length;)n=i,i=i.getParent();null!=n?(!(null===(t=n.getColGroupDef())||void 0===t||!t.marryChildren)?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns()).forEach((function(e){v.includes(e)||v.push(e)})):v.includes(e)||v.push(e)})),f=v}var p=f.slice();l.sortColsLikeCols(p);var g=function(e){var t=e.movingCols,n=e.draggingRight,i=e.xPosition,r=e.pinned,o=e.gos,a=e.columnModel,s=e.presentedColsService,l=o.get("suppressMovableColumns")||t.some((function(e){return e.getColDef().suppressMovable}));if(l)return[];var u,c=function(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(s,r),d=a.getCols(),h=c.filter((function(e){return V(t,e)})),f=c.filter((function(e){return!V(t,e)})),v=d.filter((function(e){return!V(t,e)})),p=0,g=i;if(n){var m=0;h.forEach((function(e){return m+=e.getActualWidth()})),g-=m}if(g>0){for(var y=0;y<f.length;y++){if((g-=f[y].getActualWidth())<0)break;p++}n&&p++}if(p>0){var C=f[p-1];u=v.indexOf(C)+1}else-1===(u=v.indexOf(f[0]))&&(u=0);var w=[u],S=function(e,t){return e-t};if(n){for(var k=u+1,b=d.length-1;k<=b;)w.push(k),k++;w.sort(S)}else{for(var R=u,E=d.length-1,F=d[R];R<=E&&c.indexOf(F)<0;)R++,w.push(R),F=d[R];R=u-1;for(var P=0;R>=P;)w.push(R),R--;w.sort(S).reverse()}return w}({movingCols:p,draggingRight:h,xPosition:i,pinned:a,gos:s,columnModel:l,presentedColsService:c}),m=function(e,t){var n=t.getCols(),i=(o=e.map((function(e){return n.indexOf(e)})),o.sort((function(e,t){return e-t}))),r=i[0];var o;return I(i)-r!==i.length-1?null:r}(p,l);if(0!==g.length){var y=g[0],C=null!==m&&!r;if(t&&(C=null!==m),C&&!o){if(d&&y>=m)return;if(h&&y<=m)return}for(var w=c.getAllCols(),S=[],k=null,b=0;b<g.length;b++){var R=g[b],E=u.getProposedColumnOrder(p,R);if(u.doesOrderPassRules(E)){var F=E.filter((function(e){return w.includes(e)}));if(null===k)k=F;else if(!O(F,k))break;var P=Po(E);S.push({move:R,fragCount:P})}}if(0!==S.length)return S.sort((function(e,t){return e.fragCount-t.fragCount})),Fo(f,S[0].move,"uiColumnMoved",!1,u)}}function Fo(e,t,n,i,r){return r.moveColumns(e,t,n,i),i?null:{columns:e,toIndex:t}}function Po(e){function t(e){for(var t=[],n=e.getOriginalParent();null!=n;)t.push(n),n=n.getOriginalParent();return t}for(var n=0,i=function(i){var o=t(e[i]),a=t(e[i+1]),s=o.length>a.length?[o,a]:[a,o],l=(0,r.Z)(s,2);o=l[0],a=l[1],o.forEach((function(e){-1===a.indexOf(e)&&n++}))},o=0;o<e.length-1;o++)i(o);return n}function Do(e,t,n,i,r){var o=r.getHeaderRowContainerCtrl(t).getViewport();(n&&(e-=o.getBoundingClientRect().left),i.get("enableRtl"))&&(e=o.clientWidth-e);return null==t&&(e+=r.get("center").getCenterViewportScrollLeft()),e}var xo=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).needToMoveLeft=!1,i.needToMoveRight=!1,i.lastMovedInfo=null,i.pinned=e,i.isCenterContainer=!$(e),i}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))}},{key:"getIconName",value:function(){return this.pinned?"pinned":"move"}},{key:"onDragEnter",value:function(e){var t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var n=e.dragItem.visibleState,i=(t||[]).filter((function(e){return n[e.getId()]}));this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}},{key:"onDragLeave",value:function(){this.ensureIntervalCleared(),this.lastMovedInfo=null}},{key:"setColumnsVisible",value:function(e,t,n){if(e){var i=e.filter((function(e){return!e.getColDef().lockVisible}));this.columnModel.setColsVisible(i,t,n)}}},{key:"setColumnsPinned",value:function(e,t,n){if(e){var i=e.filter((function(e){return!e.getColDef().lockPinned}));this.columnModel.setColsPinned(i,t,n)}}},{key:"onDragStop",value:function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}},{key:"checkCenterForScrolling",value:function(e){if(this.isCenterContainer){var t=this.ctrlsService.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<n+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<n+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}},{key:"onDragging",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastDraggingEvent,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(o){if(this.lastMovedInfo){var a=this.lastMovedInfo,s=a.columns,l=a.toIndex;Fo(s,l,"uiColumnMoved",!0,this.columnMoveService)}}else if(this.lastDraggingEvent=n,!ee(n.hDirection)){var u=Do(n.x,this.pinned,!1,this.gos,this.ctrlsService);i||this.checkCenterForScrolling(u);var c=this.normaliseDirection(n.hDirection),d=n.dragSource.type,h=(null===(e=n.dragSource.getDragItem().columns)||void 0===e?void 0:e.filter((function(e){return!e.getColDef().lockPinned||e.getPinned()==t.pinned})))||[],f=Eo({allMovingColumns:h,isFromHeader:1===d,hDirection:c,xPosition:u,pinned:this.pinned,fromEnter:i,fakeEvent:r,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});f&&(this.lastMovedInfo=f)}}},{key:"normaliseDirection",value:function(e){if(!this.gos.get("enableRtl"))return e;switch(e){case 0:return 1;case 1:return 0;default:xe("Unknown direction ".concat(e))}}},{key:"ensureIntervalStarted",value:function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}},{key:"ensureIntervalCleared",value:function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon("move"))}},{key:"moveInterval",value:function(){var e;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100);var t=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns.filter((function(e){return!e.getColDef().lockPinned}));if(i.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)){var r=this.needToMoveLeft?"left":"right";this.setColumnsPinned(i,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}}}]),n}(Y),Mo=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).pinned=e,r.eContainer=i,r}return k(n,[{key:"wireBeans",value:function(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){switch(e.pinned){case"left":e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.left.getContainerElement()],[t.bottomLeft.getContainerElement()],[t.topLeft.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.right.getContainerElement()],[t.bottomRight.getContainerElement()],[t.topRight.getContainerElement()]];break;default:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.center.getViewportElement()],[t.bottomCenter.getViewportElement()],[t.topCenter.getViewportElement()]]}})),this.moveColumnFeature=this.createManagedBean(new xo(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Ro(this.pinned)),this.dragAndDropService.addDropTarget(this)}},{key:"isInterestedIn",value:function(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}},{key:"getSecondaryContainers",value:function(){return this.eSecondaryContainers}},{key:"getContainer",value:function(){return this.eContainer}},{key:"getIconName",value:function(){return this.currentDropListener.getIconName()}},{key:"isDropColumnInPivotMode",value:function(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}},{key:"onDragEnter",value:function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}},{key:"onDragLeave",value:function(e){this.currentDropListener.onDragLeave(e)}},{key:"onDragging",value:function(e){this.currentDropListener.onDragging(e)}},{key:"onDragStop",value:function(e){this.currentDropListener.onDragStop(e)}}]),n}(Y),Ao=function(e){c(n,e);var t=p(n);function n(e,i,r,o,a){var s;return C(this,n),(s=t.call(this)).pinned=e,s.column=i,s.eResize=r,s.comp=o,s.ctrl=a,s}return k(n,[{key:"wireBeans",value:function(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}},{key:"postConstruct",value:function(){var e,t,n=this,i=[],r=function(){i.forEach((function(e){return e()})),i.length=0},o=function(){var o=n.column.isResizable(),a=!n.gos.get("suppressAutoSize")&&!n.column.getColDef().suppressAutoSize;(o!==e||a!==t)&&(e=o,t=a,r(),function(){if(cn(n.eResize,e),e){var r=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(i.push(r),t){var o=n.gos.get("skipHeaderOnAutoSize"),a=function(){n.columnAutosizeService.autoSizeColumn(n.column,"uiColumnResized",o)};n.eResize.addEventListener("dblclick",a);var s=new Zn(n.eResize);s.addEventListener("doubleTap",a),i.push((function(){n.eResize.removeEventListener("dblclick",a),s.removeEventListener("doubleTap",a),s.destroy()}))}}}())};o(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(o)}},{key:"onResizing",value:function(e,t){var n=this.column,i=this.lastResizeAmount,r=this.resizeStartWidth,o=this.normaliseResizeAmount(t),a=[{key:n,newWidth:r+o}];if(this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(o-i)>gn(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return;this.lastResizeAmount=o,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}},{key:"onResizeStart",value:function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}},{key:"toggleColumnResizing",value:function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}},{key:"normaliseResizeAmount",value:function(e){var t=e,n="left"!==this.pinned,i="right"===this.pinned;return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}}]),n}(Y),To=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=e,i}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}},{key:"onSpaceKeyDown",value:function(e){var t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}},{key:"getCheckboxGui",value:function(){return this.cbSelectAll.getGui()}},{key:"setComp",value:function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new oi),this.cbSelectAll.addCssClass("ag-header-select-all"),Nt(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),Vt(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}},{key:"onNewColumnsLoaded",value:function(){this.showOrHideSelectAll()}},{key:"onDisplayedColumnsChanged",value:function(){this.isAlive()&&this.showOrHideSelectAll()}},{key:"showOrHideSelectAll",value:function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}},{key:"onModelChanged",value:function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}},{key:"onSelectionChanged",value:function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}},{key:"updateStateOfCheckbox",value:function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);var t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}}},{key:"refreshSelectAllLabel",value:function(){var e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(n," (").concat(t,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(n," (").concat(t,")")),this.headerCellCtrl.announceAriaDescription()}},{key:"checkSelectionType",value:function(e){return!("multiple"!==this.gos.get("rowSelection"))||(De("".concat(e," is only available if using 'multiple' rowSelection.")),!1)}},{key:"checkRightRowModelType",value:function(e){var t=this.rowModel.getType();return!("clientSide"!==t&&"serverSide"!==t)||(De("".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(t,".")),!1)}},{key:"onCbSelectAll",value:function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),n=this.isCurrentPageOnly(),i="uiSelectAll";n?i="uiSelectAllCurrentPage":t&&(i="uiSelectAllFiltered");var r={source:i,justFiltered:t,justCurrentPage:n};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}}},{key:"isCheckboxSelection",value:function(){var e=this.column.getColDef().headerCheckboxSelection;"function"===typeof e&&(e=e(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})));return!!e&&(this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"))}},{key:"isFilteredOnly",value:function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}},{key:"isCurrentPageOnly",value:function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}}]),n}(Y),Lo=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this,e,i,r)).refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return k(n,[{key:"setComp",value:function(e,t,n,i){var r=this;this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Ao(this.getPinned(),this.column,n,e,this)),this.createManagedBean(new Jr([this.column],t)),this.createManagedBean(new jr(this.column,t,this.beans)),this.createManagedBean(new or(t,{shouldStopEventPropagation:function(e){return r.shouldStopEventPropagation(e)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}},{key:"resizeHeader",value:function(e,t){if(this.column.isResizable()){var n=this.column.getActualWidth(),i=this.column.getMinWidth(),r=this.column.getMaxWidth(),o=Math.min(Math.max(n+e,i),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:o}],t,!0,"uiColumnResized")}}},{key:"moveHeader",value:function(e){var t=this.eGui,n=this.column,i=this.gos,r=this.ctrlsService,o=this.getPinned(),a=t.getBoundingClientRect().left,s=n.getActualWidth();Eo({allMovingColumns:[n],isFromHeader:!0,hDirection:e,xPosition:Do(0===e!==i.get("enableRtl")?a-20:a+s+20,o,!0,i,r),pinned:o,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto")}},{key:"setupUserComp",value:function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)}},{key:"setCompDetails",value:function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}},{key:"lookupUserCompDetails",value:function(){var e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}},{key:"createParams",value:function(){var e=this,t=this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(t){e.menuService.showColumnMenu({column:e.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:function(t){e.menuService.showColumnMenu({column:e.column,mouseEvent:t,positionBy:"mouse"})},showFilter:function(t){e.menuService.showFilterMenu({column:e.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:function(t){e.beans.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,n){e.beans.sortController.setSortForColumn(e.column,t,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:function(t,n){e.setupTooltip(t,n)}});return t}},{key:"setupSelectAll",value:function(){this.selectAllFeature=this.createManagedBean(new To(this.column)),this.selectAllFeature.setComp(this)}},{key:"getSelectAllGui",value:function(){return this.selectAllFeature.getCheckboxGui()}},{key:"handleKeyDown",value:function(e){l(a(n.prototype),"handleKeyDown",this).call(this,e),e.key===ni.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ni.ENTER&&this.onEnterKeyDown(e),e.key===ni.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}},{key:"onEnterKeyDown",value:function(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){var t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}},{key:"showMenuOnKeyPress",value:function(e,t){var n=this.comp.getUserCompInstance();n&&n instanceof Qn&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}},{key:"onFocusIn",value:function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}},{key:"onFocusOut",value:function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}},{key:"setupTooltip",value:function(e,t){var n=this;this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));var i="whenTruncated"===this.gos.get("tooltipShowMode"),r=this.eGui,o=this.column.getColDef();t||!i||o.headerComponent||(t=function(){var e=r.querySelector(".ag-header-cell-text");return!e||e.scrollWidth>e.clientWidth});var a={getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getGui:function(){return r},getLocation:function(){return"header"},getTooltipValue:function(){return null!=e?e:n.column.getColDef().headerTooltip},shouldDisplayTooltip:t},s=this.createManagedBean(new Bn(a));this.refreshFunctions.push((function(){return s.refreshToolTip()}))}},{key:"setupClassesFromColDef",value:function(){var e=this,t=function(){var t=Zr(e.column.getColDef(),e.gos,e.column,null),n=e.userHeaderClasses;e.userHeaderClasses=new Set(t),t.forEach((function(t){n.has(t)?n.delete(t):e.comp.addOrRemoveCssClass(t,!0)})),n.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!1)}))};this.refreshFunctions.push(t),t()}},{key:"setDragSource",value:function(e){var t=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var n=this.column,i=this.beans,r=this.displayName,o=this.dragAndDropService,a=this.gos,s=i.columnModel,l=!this.gos.get("suppressDragLeaveHidesColumns"),u=this.dragSource={type:1,eElement:e,getDefaultIconName:function(){return l?"hide":"notAllowed"},getDragItem:function(){return t.createDragItem(n)},dragItemName:r,onDragStarted:function(){l=!a.get("suppressDragLeaveHidesColumns"),n.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return n.setMoving(!1,"uiColumnMoved")},onGridEnter:function(e){if(l){var t,n=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((function(e){return!e.getColDef().lockVisible})))||[];s.setColsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(e){if(l){var t,n=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((function(e){return!e.getColDef().lockVisible})))||[];s.setColsVisible(n,!1,"uiColumnMoved")}}};o.addDragSource(u,!0)}}},{key:"createDragItem",value:function(e){var t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}},{key:"updateState",value:function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}},{key:"addRefreshFunction",value:function(e){this.refreshFunctions.push(e)}},{key:"refresh",value:function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(e){return e()}))}},{key:"refreshHeaderComp",value:function(){var e=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass)&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}},{key:"attemptHeaderCompRefresh",value:function(e){var t=this.comp.getUserCompInstance();return!!t&&(!!t.refresh&&t.refresh(e))}},{key:"calculateDisplayName",value:function(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}},{key:"checkDisplayName",value:function(){this.displayName!==this.calculateDisplayName()&&this.refresh()}},{key:"workOutDraggable",value:function(){var e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}},{key:"onColumnRowGroupChanged",value:function(){this.checkDisplayName()}},{key:"onColumnPivotChanged",value:function(){this.checkDisplayName()}},{key:"onColumnValueChanged",value:function(){this.checkDisplayName()}},{key:"setupWidth",value:function(){var e=this,t=function(){var t=e.column.getActualWidth();e.comp.setWidth("".concat(t,"px"))};this.addManagedListeners(this.column,{widthChanged:t}),t()}},{key:"setupMovingCss",value:function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:t}),t()}},{key:"setupMenuClass",value:function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}},{key:"setupSortableClass",value:function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};t(),this.addRefreshFunction(t),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}},{key:"setupFilterClass",value:function(){var e=this,t=function(){var t=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),e.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:t}),t()}},{key:"setupWrapTextClass",value:function(){var e=this,t=function(){var t=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};t(),this.addRefreshFunction(t)}},{key:"onDisplayedColumnsChanged",value:function(){l(a(n.prototype),"onDisplayedColumnsChanged",this).call(this),this.isAlive()&&this.onHeaderHeightChanged()}},{key:"onHeaderHeightChanged",value:function(){this.refreshSpanHeaderHeight()}},{key:"refreshSpanHeaderHeight",value:function(){var e=this.eGui,t=this.column,n=this.comp,i=this.beans;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),void n.addOrRemoveCssClass("ag-header-span-total",!1);var r=this.column.getColumnGroupPaddingInfo(),o=r.numberOfParents,a=r.isSpanningTotal;n.addOrRemoveCssClass("ag-header-span-height",o>0);var s=i.columnModel,l=s.getColumnHeaderRowHeight();if(0===o)return n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height","".concat(l,"px"));n.addOrRemoveCssClass("ag-header-span-total",a);var u=o*(s.isPivotMode()?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight());e.style.setProperty("top","".concat(-u,"px")),e.style.setProperty("height","".concat(l+u,"px"))}},{key:"setupAutoHeight",value:function(e){var t,n=this,i=this.beans,r=i.columnModel,o=i.resizeObserverService,a=function t(i){if(n.isAlive()){var o=vn(n.getGui()),a=o.paddingTop+o.paddingBottom+o.borderBottomWidth+o.borderTopWidth,s=e.offsetHeight+a;if(i<5){var l=n.beans.gos.getDocument();if(!l||!l.contains(e)||0==s)return void window.setTimeout((function(){return t(i+1)}),0)}r.setColHeaderHeight(n.column,s)}},s=!1,l=function(){var e=n.column.isAutoHeaderHeight();e&&!s&&u(),!e&&s&&c()},u=function(){s=!0,a(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),t=o.observeResize(e,(function(){return a(0)}))},c=function(){s=!1,t&&t(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),t=void 0};l(),this.addDestroyFunc((function(){return c()})),this.addManagedListeners(this.column,{widthChanged:function(){return s&&a(0)}}),this.addManagedEventListeners({sortChanged:function(){s&&window.setTimeout((function(){return a(0)}))}}),this.addRefreshFunction(l)}},{key:"refreshAriaSort",value:function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort("asc"===(n=t)?"ascending":"desc"===n?"descending":"mixed"===n?"other":"none"),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null);var n}},{key:"refreshAriaMenu",value:function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}},{key:"refreshAriaFilterButton",value:function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}},{key:"refreshAriaFiltered",value:function(){var e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}},{key:"setAriaDescriptionProperty",value:function(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}},{key:"announceAriaDescription",value:function(){var e=this;if(this.eGui.contains(this.beans.gos.getActiveDomElement())){var t=Array.from(this.ariaDescriptionProperties.keys()).sort((function(e,t){return"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0)})).map((function(t){return e.ariaDescriptionProperties.get(t)})).join(". ");this.beans.ariaAnnouncementService.announceValue(t)}}},{key:"refreshAria",value:function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}},{key:"addColumnHoverListener",value:function(){var e=this,t=function(){if(e.gos.get("columnHoverHighlight")){var t=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedEventListeners({columnHoverChanged:t}),t()}},{key:"getColId",value:function(){return this.column.getColId()}},{key:"addActiveHeaderMouseListeners",value:function(){var e=this,t=function(t){return e.handleMouseOverChange("mouseenter"===t.type)};this.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:function(){return e.dispatchColumnMouseEvent("columnHeaderClicked",e.column)},contextmenu:function(t){return e.handleContextMenuMouseEvent(t,void 0,e.column)}})}},{key:"handleMouseOverChange",value:function(e){this.setActiveHeader(e);var t={type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column};this.eventService.dispatchEvent(t)}},{key:"setActiveHeader",value:function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}},{key:"getAnchorElementForMenu",value:function(e){var t=this.comp.getUserCompInstance();return t instanceof Qn?t.getAnchorElementForMenu(e):this.getGui()}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}}]),n}(Xr),Io=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this)).eResize=i,a.comp=e,a.pinned=r,a.columnGroup=o,a}return k(n,[{key:"wireBeans",value:function(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}},{key:"postConstruct",value:function(){var e=this;if(this.columnGroup.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gos.get("suppressAutoSize")){var n=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(function(){var t=[];e.columnGroup.getDisplayedLeafColumns().forEach((function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:n,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")}))}}else this.comp.setResizableDisplayed(!1)}},{key:"onResizeStart",value:function(e){var t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}},{key:"onResizing",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uiColumnResized",i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}},{key:"getInitialValues",value:function(e){var t=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(t),i={columnsToResize:t,resizeStartWidth:n,resizeRatios:this.getSizeRatiosOfColumns(t,n)},r=null;if(e&&(r=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),r){var o=r.getDisplayedLeafColumns(),a=i.groupAfterColumns=o.filter((function(e){return e.isResizable()})),s=i.groupAfterStartWidth=this.getInitialSizeOfColumns(a);i.groupAfterRatios=this.getSizeRatiosOfColumns(a,s)}else i.groupAfterColumns=void 0,i.groupAfterStartWidth=void 0,i.groupAfterRatios=void 0;return i}},{key:"storeLocalValues",value:function(e){var t=e.columnsToResize,n=e.resizeStartWidth,i=e.resizeRatios,r=e.groupAfterColumns,o=e.groupAfterStartWidth,a=e.groupAfterRatios;this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=a}},{key:"clearLocalValues",value:function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},{key:"resizeLeafColumnsToFit",value:function(e){var t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}},{key:"resizeColumnsFromLocalValues",value:function(e,t){var n,i,r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.resizeCols&&this.resizeRatios){var a={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!==(n=this.resizeTakeFromCols)&&void 0!==n?n:void 0,groupAfterStartWidth:null!==(i=this.resizeTakeFromStartWidth)&&void 0!==i?i:void 0,groupAfterRatios:null!==(r=this.resizeTakeFromRatios)&&void 0!==r?r:void 0};this.resizeColumns(a,e,t,o)}}},{key:"resizeColumns",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e.columnsToResize,o=e.resizeStartWidth,a=e.resizeRatios,s=e.groupAfterColumns,l=e.groupAfterStartWidth,u=e.groupAfterRatios,c=[];if(c.push({columns:r,ratios:a,width:t}),s){var d=t-o;c.push({columns:s,ratios:u,width:l-d})}this.columnSizeService.resizeColumnSets({resizeSets:c,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}},{key:"toggleColumnResizing",value:function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}},{key:"getColumnsToResize",value:function(){return this.columnGroup.getDisplayedLeafColumns().filter((function(e){return e.isResizable()}))}},{key:"getInitialSizeOfColumns",value:function(e){return e.reduce((function(e,t){return e+t.getActualWidth()}),0)}},{key:"getSizeRatiosOfColumns",value:function(e,t){return e.map((function(e){return e.getActualWidth()/t}))}},{key:"normaliseDragChange",value:function(e){var t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.clearLocalValues()}}]),n}(Y),Oo=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).removeChildListenersFuncs=[],r.columnGroup=i,r.comp=e,r}return k(n,[{key:"postConstruct",value:function(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}},{key:"addListenersToChildrenColumns",value:function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(n){n.addEventListener("widthChanged",t),n.addEventListener("visibleChanged",t),e.removeChildListenersFuncs.push((function(){n.removeEventListener("widthChanged",t),n.removeEventListener("visibleChanged",t)}))}))}},{key:"removeListenersOnChildrenColumns",value:function(){this.removeChildListenersFuncs.forEach((function(e){return e()})),this.removeChildListenersFuncs=[]}},{key:"onDisplayedChildrenChanged",value:function(){this.addListenersToChildrenColumns(),this.onWidthChanged()}},{key:"onWidthChanged",value:function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}}]),n}(Y),No=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this,e,i,r)).onSuppressColMoveChange=function(){if(!o.isAlive()||o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var e=o.getGui();o.setDragSource(e)}},o.column=e,o}return k(n,[{key:"setComp",value:function(e,t,n){var i=this;this.comp=e,this.setGui(t),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc((function(){i.tooltipFeature&&(i.tooltipFeature=i.destroyBean(i.tooltipFeature))})),this.setupUserComp(),this.addHeaderMouseListeners();var r=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Jr(o,t)),this.createManagedBean(new jr(this.column,t,this.beans)),this.createManagedBean(new Oo(e,this.column)),this.resizeFeature=this.createManagedBean(new Io(e,n,r,this.column)),this.createManagedBean(new or(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}},{key:"resizeHeader",value:function(e,t){if(this.resizeFeature){var n=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}}},{key:"moveHeader",value:function(e){var t=this.beans,n=this.eGui,i=this.column,r=this.gos,o=this.ctrlsService,a=r.get("enableRtl"),s=0===e,l=this.getPinned(),u=n.getBoundingClientRect(),c=u.left,d=u.width,h=Do(s!==a?c-20:c+d+20,l,!0,r,o),f=i.getGroupId(),v=this.focusService.getFocusedHeader();Eo({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:t.columnModel,columnMoveService:t.columnMoveService,presentedColsService:t.visibleColsService});var p=i.getDisplayedLeafColumns(),g=s?p[0]:I(p);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(g,"auto"),!this.isAlive()&&v&&this.restoreFocus(f,i,v)}},{key:"restoreFocus",value:function(e,t,n){var i=t.getLeafColumns();if(i.length){var r=i[0].getParent();if(r){var o=this.findGroupWidthId(r,e);o&&this.focusService.focusHeaderPosition({headerPosition:y(y({},n),{},{column:o})})}}}},{key:"findGroupWidthId",value:function(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}},{key:"resizeLeafColumnsToFit",value:function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}},{key:"setupUserComp",value:function(){var e=this,t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(t){e.beans.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),t,"gridInitializing")},setTooltip:function(t,n){e.setupTooltip(t,n)}}),n=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(n)}},{key:"addHeaderMouseListeners",value:function(){var e=this,t=function(t){return e.handleMouseOverChange("mouseenter"===t.type)};this.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:function(){return e.dispatchColumnMouseEvent("columnHeaderClicked",e.column.getProvidedColumnGroup())},contextmenu:function(t){return e.handleContextMenuMouseEvent(t,void 0,e.column.getProvidedColumnGroup())}})}},{key:"handleMouseOverChange",value:function(e){var t={type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(t)}},{key:"setupTooltip",value:function(e,t){var n=this;this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));var i=this.column.getColGroupDef(),r="whenTruncated"===this.gos.get("tooltipShowMode"),o=this.eGui;t||!r||null!==i&&void 0!==i&&i.headerGroupComponent||(t=function(){var e=o.querySelector(".ag-header-group-text");return!e||e.scrollWidth>e.clientWidth});var a={getColumn:function(){return n.column},getGui:function(){return o},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return null!==e&&void 0!==e?e:i&&i.headerTooltip},shouldDisplayTooltip:t};i&&(a.getColDef=function(){return i}),this.createManagedBean(new Bn(a))}},{key:"setupExpandable",value:function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded();var t=this.refreshExpanded.bind(this);this.addManagedListeners(e,{expandedChanged:t,expandableChanged:t})}},{key:"refreshExpanded",value:function(){var e=this.column;this.expandable=e.isExpandable();var t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}},{key:"getColId",value:function(){return this.column.getUniqueId()}},{key:"addClasses",value:function(){var e=this,t=Zr(this.column.getColGroupDef(),this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every((function(e){return e.isSpanHeaderHeight()}))&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group");t.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!0)}))}},{key:"setupMovingCss",value:function(){var e=this,t=this.column.getProvidedColumnGroup().getLeafColumns(),n=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};t.forEach((function(t){e.addManagedListeners(t,{movingChanged:n})})),n()}},{key:"onFocusIn",value:function(e){if(!this.eGui.contains(e.relatedTarget)){var t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}},{key:"handleKeyDown",value:function(e){l(a(n.prototype),"handleKeyDown",this).call(this,e);var t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===ni.ENTER){var i=this.column,r=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),r,"uiColumnExpanded")}}},{key:"setDragSource",value:function(e){var t=this;if(this.isAlive()&&!this.isSuppressMoving()&&(this.removeDragSource(),e)){var n=this.beans,i=this.column,r=this.displayName,o=this.gos,a=this.dragAndDropService,s=n.columnModel,l=i.getProvidedColumnGroup().getLeafColumns(),u=!o.get("suppressDragLeaveHidesColumns"),c=this.dragSource={type:1,eElement:e,getDefaultIconName:function(){return u?"hide":"notAllowed"},dragItemName:r,getDragItem:function(){return t.getDragItemForGroup(i)},onDragStarted:function(){u=!o.get("suppressDragLeaveHidesColumns"),l.forEach((function(e){return e.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return l.forEach((function(e){return e.setMoving(!1,"uiColumnDragged")}))},onGridEnter:function(e){if(u){var t,n=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((function(e){return!e.getColDef().lockVisible})))||[];s.setColsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(e){if(u){var t,n=(null===e||void 0===e||null===(t=e.columns)||void 0===t?void 0:t.filter((function(e){return!e.getColDef().lockVisible})))||[];s.setColsVisible(n,!1,"uiColumnMoved")}}};a.addDragSource(c,!0)}}},{key:"getDragItemForGroup",value:function(e){var t=e.getProvidedColumnGroup().getLeafColumns(),n={};t.forEach((function(e){return n[e.getId()]=e.isVisible()}));var i=[];return this.beans.visibleColsService.getAllCols().forEach((function(e){t.indexOf(e)>=0&&(i.push(e),G(t,e))})),t.forEach((function(e){return i.push(e)})),{columns:i,visibleState:n}}},{key:"isSuppressMoving",value:function(){var e=!1;return this.column.getLeafColumns().forEach((function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)})),e||this.gos.get("suppressMovableColumns")}}]),n}(Xr),Go=0,Bo=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;C(this,n),(o=t.call(this)).instanceId=Go++,o.rowIndex=e,o.pinned=i,o.type=r;var a="group"==r?"ag-header-row-column-group":"filter"==r?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(a),o}return k(n,[{key:"wireBeans",value:function(e){this.beans=e}},{key:"postConstruct",value:function(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"areCellsRendered",value:function(){return!!this.comp&&this.getHeaderCellCtrls().every((function(e){return null!=e.getGui()}))}},{key:"setComp",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}},{key:"getHeaderRowClass",value:function(){return this.headerRowClass}},{key:"getAriaRowIndex",value:function(){return this.rowIndex+1}},{key:"addEventListeners",value:function(){var e=this,t=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:function(t){return e.onVirtualColumnsChanged(t.afterScroll)},columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(function(t){return e.isEnsureDomOrder=t.currentValue})),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}},{key:"getHeaderCellCtrl",value:function(e){if(this.headerCellCtrls)return le(this.headerCellCtrls).find((function(t){return t.getColumnGroupChild()===e}))}},{key:"onDisplayedColumnsChanged",value:function(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}},{key:"getType",value:function(){return this.type}},{key:"onColumnResized",value:function(){this.setWidth()}},{key:"setWidth",value:function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))}},{key:"getWidthForRow",value:function(){var e=this.beans.visibleColsService;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}},{key:"onRowHeightChanged",value:function(){var e=this.getTopAndHeight(),t=e.topOffset,n=e.rowHeight;this.comp.setTop(t+"px"),this.comp.setHeight(n+"px")}},{key:"getTopAndHeight",value:function(){var e=this.beans,t=e.columnModel,n=e.filterManager,i=t.getHeaderRowCount(),r=[],o=0;null!==n&&void 0!==n&&n.hasFloatingFilters()&&(i++,o=1);for(var a=t.getColumnGroupHeaderRowHeight(),s=t.getColumnHeaderRowHeight(),l=i-(1+o),u=0;u<l;u++)r.push(a);r.push(s);for(var c=0;c<o;c++)r.push(t.getFloatingFiltersHeight());for(var d=0,h=0;h<this.rowIndex;h++)d+=r[h];return{topOffset:d,rowHeight:r[this.rowIndex]}}},{key:"getPinned",value:function(){return this.pinned}},{key:"getRowIndex",value:function(){return this.rowIndex}},{key:"onVirtualColumnsChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}},{key:"getHeaderCtrls",value:function(){var e=this,t=this.headerCellCtrls;this.headerCellCtrls=new Map;var n,i=x(this.getColumnsInViewport());try{for(i.s();!(n=i.n()).done;){var o=n.value;this.recycleAndCreateHeaderCtrls(o,t)}}catch(Am){i.e(Am)}finally{i.f()}var a=function(t){var n=e.beans,i=n.focusService,r=n.visibleColsService;return!!i.isHeaderWrapperFocused(t)&&r.isVisible(t.getColumnGroupChild())};if(t){var s,l=x(t);try{for(l.s();!(s=l.n()).done;){var u=(0,r.Z)(s.value,2),c=u[0],d=u[1];a(d)?this.headerCellCtrls.set(c,d):this.destroyBean(d)}}catch(Am){l.e(Am)}finally{l.f()}}return this.getHeaderCellCtrls()}},{key:"getHeaderCellCtrls",value:function(){var e,t;return Array.from(null!==(e=null===(t=this.headerCellCtrls)||void 0===t?void 0:t.values())&&void 0!==e?e:[])}},{key:"recycleAndCreateHeaderCtrls",value:function(e,t){if(this.headerCellCtrls&&!e.isEmptyGroup()){var n,i=e.getUniqueId();if(t&&(n=t.get(i),t.delete(i)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case"filter":n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":n=this.createBean(new No(e,this.beans,this));break;default:n=this.createBean(new Lo(e,this.beans,this))}this.headerCellCtrls.set(i,n)}}},{key:"getColumnsInViewport",value:function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}},{key:"getColumnsInViewportPrintLayout",value:function(){if(null!=this.pinned)return[];var e=[],t=this.getActualDepth(),n=this.beans.columnViewportService;return["left",null,"right"].forEach((function(i){var r=n.getHeadersToRender(i,t);e=e.concat(r)})),e}},{key:"getActualDepth",value:function(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}},{key:"getColumnsInViewportNormalLayout",value:function(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}},{key:"findHeaderCellCtrl",value:function(e){if(this.headerCellCtrls)return this.getHeaderCellCtrls().find((function(t){return t.getColumnGroupChild()==e}))}},{key:"focusHeader",value:function(e,t){var n=this.findHeaderCellCtrl(e);return!!n&&n.focus(t)}},{key:"destroy",value:function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach((function(t){e.destroyBean(t)})),this.headerCellCtrls=void 0,l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),Ho=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).hidden=!1,i.includeFloatingFilter=!1,i.groupsRowCtrls=[],i.pinned=e,i}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}},{key:"setComp",value:function(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);var n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:n,advancedFilterEnabledChanged:n}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}},{key:"getAllCtrls",value:function(){var e=(0,o.Z)(this.groupsRowCtrls);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new On,i=this.focusService.getFocusHeaderToUseAfterRefresh(),r=function(){var t=e.columnModel.getHeaderRowCount()-1;e.groupsRowCtrls=e.destroyBeans(e.groupsRowCtrls);for(var i=0;i<t;i++){var r=e.createBean(new Bo(n.next(),e.pinned,"group"));e.groupsRowCtrls.push(r)}},o=function(){var i=n.next(),r=!e.hidden&&(null==e.columnsRowCtrl||!t||e.columnsRowCtrl.getRowIndex()!==i);(r||e.hidden)&&(e.columnsRowCtrl=e.destroyBean(e.columnsRowCtrl)),r&&(e.columnsRowCtrl=e.createBean(new Bo(i,e.pinned,"column")))},a=function(){var i;e.includeFloatingFilter=!(null===(i=e.filterManager)||void 0===i||!i.hasFloatingFilters())&&!e.hidden;var r=function(){e.filtersRowCtrl=e.destroyBean(e.filtersRowCtrl)};if(e.includeFloatingFilter){var o=n.next();if(e.filtersRowCtrl){var a=e.filtersRowCtrl.getRowIndex()!==o;t&&!a||r()}e.filtersRowCtrl||(e.filtersRowCtrl=e.createBean(new Bo(o,e.pinned,"filter")))}else r()};r(),o(),a();var s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(i)}},{key:"getHeaderCtrlForColumn",value:function(e){if(we(e)){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(var t=0;t<this.groupsRowCtrls.length;t++){var n=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(n)return n}}},{key:"getHtmlElementForColumnHeader",value:function(e){var t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}},{key:"getRowType",value:function(e){var t=this.getAllCtrls()[e];return t?t.getType():void 0}},{key:"focusHeader",value:function(e,t,n){var i=this.getAllCtrls()[e];return!!i&&i.focusHeader(t,n)}},{key:"getViewport",value:function(){return this.eViewport}},{key:"getRowCount",value:function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}},{key:"setHorizontalScroll",value:function(e){this.comp.setViewportScrollLeft(e)}},{key:"destroy",value:function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),l(a(n.prototype),"destroy",this).call(this)}},{key:"setupDragAndDrop",value:function(e){var t=new Mo(this.pinned,e);this.createManagedBean(t)}},{key:"restoreFocusOnHeader",value:function(e){e&&(e.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e}))}},{key:"onGridColumnsChanged",value:function(){this.refresh(!0)}},{key:"onDisplayedColumnsChanged",value:function(){var e,t=(null===(e=this.filterManager)||void 0===e?void 0:e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}},{key:"setupCenterWidth",value:function(){var e=this;null==this.pinned&&this.createManagedBean(new bo((function(t){return e.comp.setCenterWidth("".concat(t,"px"))}),!0))}},{key:"setupPinnedWidth",value:function(){var e=this;if(null!=this.pinned){var t="left"===this.pinned,n="right"===this.pinned;this.hidden=!0;var i=function(){var i=t?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=i){var r=0==i,o=e.hidden!==r,a=e.gos.get("enableRtl"),s=e.gos.getScrollbarWidth(),l=e.scrollVisibleService.isVerticalScrollShowing()&&(a&&t||!a&&n)?i+s:i;e.comp.setPinnedContainerWidth("".concat(l,"px")),e.comp.setDisplayed(!r),o&&(e.hidden=r,e.refresh())}};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}}}]),n}(Y),Vo=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).view=e,i}return k(n,[{key:"postConstruct",value:function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}},{key:"updateLayoutClasses",value:function(){var e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},n=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(n,t)}},{key:"getDomLayout",value:function(){var e,t=null!==(e=this.gos.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(t)?(De("".concat(t," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):t}}]),n}(Y),Wo=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>')).eOverlayWrapper=Vn,e.activePromise=null,e.activeOverlay=null,e.updateListenerDestroyFunc=null,e.activeOverlayWrapperCssClass=null,e}return k(n,[{key:"wireBeans",value:function(e){this.overlayService=e.overlayService}},{key:"updateLayoutClasses",value:function(e,t){var n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",t.autoHeight),n.toggle("ag-layout-normal",t.normal),n.toggle("ag-layout-print",t.print)}},{key:"postConstruct",value:function(){this.createManagedBean(new Vo(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}},{key:"setWrapperTypeClass",value:function(e){var t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}},{key:"showOverlay",value:function(e,t,n){var i=this;this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.activePromise=e,null===e||void 0===e||e.then((function(t){if(i.activePromise===e){if(i.activePromise=null,t&&i.activeOverlay!=t&&(i.eOverlayWrapper.appendChild(t.getGui()),i.activeOverlay=t,n)){var r=t;i.updateListenerDestroyFunc=i.addManagedPropertyListener(n,(function(e){var t,n=e.currentValue;null===(t=r.refresh)||void 0===t||t.call(r,i.gos.addGridCommonParams(y({},null!==n&&void 0!==n?n:{})))}))}}else i.activeOverlay!==t&&(i.destroyBean(t),t=null)})),this.setDisplayed(!0,{skipAriaHidden:!0})}},{key:"destroyActiveOverlay",value:function(){this.activePromise=null;var e=this.activeOverlay;if(e){this.activeOverlay=null;var t=this.updateListenerDestroyFunc;t&&(t(),this.updateListenerDestroyFunc=null),this.destroyBean(e),bn(this.eOverlayWrapper)}}},{key:"hideOverlay",value:function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}},{key:"destroy",value:function(){this.destroyActiveOverlay(),l(a(n.prototype),"destroy",this).call(this)}}]),n}(Wn),zo=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).direction=i,r.eViewport=Vn,r.eContainer=Vn,r.hideTimeout=null,r.setTemplate(e),r}return k(n,[{key:"wireBeans",value:function(e){this.animationFrameService=e.animationFrameService}},{key:"postConstruct",value:function(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",en()||tn())}},{key:"initialiseInvisibleScrollbar",value:function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=an(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}},{key:"addActiveListenerToggles",value:function(){var e=this,t=this.getGui(),n=function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)},i=function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)};this.addManagedListeners(t,{mouseenter:n,mousedown:n,touchstart:n,mouseleave:i,touchend:i})}},{key:"onScrollVisibilityChanged",value:function(){var e=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((function(){return e.setScrollVisible()}))}},{key:"hideAndShowInvisibleScrollAsNeeded",value:function(){var e=this;this.addManagedEventListeners({bodyScroll:function(t){t.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:function(){e.hideTimeout=window.setTimeout((function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null}),400)}})}},{key:"attemptSettingScrollPosition",value:function(e){var t=this,n=this.getViewport();!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3?arguments[3]:void 0,r=(new Date).getTime(),o=null,a=!1,s=function(){var s=(new Date).getTime()-r>n;(e()||s)&&(t(),a=!0,null!=o&&(window.clearInterval(o),o=null),s&&i&&De(i))};s(),a||(o=window.setInterval(s,10))}((function(){return Fn(n)}),(function(){return t.setScrollPosition(e)}),100)}},{key:"getViewport",value:function(){return this.eViewport}},{key:"getContainer",value:function(){return this.eContainer}},{key:"onScrollCallback",value:function(e){this.addManagedElementListeners(this.getViewport(),{scroll:e})}}]),n}(Wn),_o=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal")).eLeftSpacer=Vn,e.eRightSpacer=Vn,e}return k(n,[{key:"wireBeans",value:function(e){l(a(n.prototype),"wireBeans",this).call(this,e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}},{key:"postConstruct",value:function(){var e=this;l(a(n.prototype),"postConstruct",this).call(this);var t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new bo((function(t){return e.eContainer.style.width="".concat(t,"px")}))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}},{key:"initialiseInvisibleScrollbar",value:function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),l(a(n.prototype),"initialiseInvisibleScrollbar",this).call(this),this.invisibleScrollbar&&this.refreshCompBottom())}},{key:"onPinnedRowDataChanged",value:function(){this.refreshCompBottom()}},{key:"refreshCompBottom",value:function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}}},{key:"onScrollVisibilityChanged",value:function(){l(a(n.prototype),"onScrollVisibilityChanged",this).call(this),this.setFakeHScrollSpacerWidths()}},{key:"setFakeHScrollSpacerWidths",value:function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.visibleColsService.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,i=this.gos.getScrollbarWidth();n&&(t+=i),xn(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);var r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=i),xn(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}},{key:"setScrollVisible",value:function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.gos.getScrollbarWidth()||0,r=n?0:0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Mn(this.getGui(),r),Mn(this.eViewport,r),Mn(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}},{key:"getScrollPosition",value:function(){return Sn(this.getViewport(),this.enableRtl)}},{key:"setScrollPosition",value:function(e){Fn(this.getViewport())||this.attemptSettingScrollPosition(e),kn(this.getViewport(),e,this.enableRtl)}}]),n}(zo),Uo=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).eContainer=e,r.eViewport=i,r}return k(n,[{key:"wireBeans",value:function(e){this.maxDivHeightScaler=e.rowContainerHeightService}},{key:"postConstruct",value:function(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}},{key:"onHeightChanged",value:function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?"".concat(e,"px"):"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}}]),n}(Y),jo=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.call(this,'<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}return k(n,[{key:"wireBeans",value:function(e){l(a(n.prototype),"wireBeans",this).call(this,e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}},{key:"postConstruct",value:function(){l(a(n.prototype),"postConstruct",this).call(this),this.createManagedBean(new Uo(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}},{key:"setScrollVisible",value:function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,n=e&&this.gos.getScrollbarWidth()||0,i=0===n&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),xn(this.getGui(),i),xn(this.eViewport,i),xn(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}},{key:"onRowContainerHeightChanged",value:function(){var e=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement(),t=this.getScrollPosition(),n=e.scrollTop;t!=n&&this.setScrollPosition(n,!0)}},{key:"getScrollPosition",value:function(){return this.getViewport().scrollTop}},{key:"setScrollPosition",value:function(e,t){t||Fn(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}}]),n}(zo),Zo=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).lastScrollSource=[null,null],i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.lastOffsetHeight=-1,i.lastScrollTop=-1,i.eBodyViewport=e,i.resetLastHScrollDebounced=Oe((function(){return i.lastScrollSource[1]=null}),500),i.resetLastVScrollDebounced=Oe((function(){return i.lastScrollSource[0]=null}),500),i}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}},{key:"postConstruct",value:function(){var e=this;this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady((function(t){e.centerRowsCtrl=t.center,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()}))}},{key:"addScrollListener",value:function(){var e=this.ctrlsService.getParams(),t=e.fakeHScrollComp,n=e.fakeVScrollComp;this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this)}),t.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gos.get("debounceVerticalScrollbar"),r=i?Oe(this.onVScroll.bind(this),100):this.onVScroll.bind(this),o=i?Oe(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),n.onScrollCallback(o)}},{key:"onDisplayedColumnsWidthChanged",value:function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}},{key:"horizontallyScrollHeaderCenterAndFloatingCenter",value:function(e){if(!(null==this.centerRowsCtrl)){void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e,n=this.ctrlsService.getParams(),i=n.topCenter,r=n.stickyTopCenter,o=n.stickyBottomCenter,a=n.centerHeader,s=n.bottomCenter,l=n.fakeHScrollComp;a.setHorizontalScroll(-t),s.setContainerTranslateX(t),i.setContainerTranslateX(t),r.setContainerTranslateX(t),o.setContainerTranslateX(t);var u=this.centerRowsCtrl.getViewportElement(),c=0===this.lastScrollSource[1];e=Math.abs(e),c?l.setScrollPosition(e):kn(u,e,this.enableRtl)}}},{key:"isControllingScroll",value:function(e,t){return null==this.lastScrollSource[t]?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}},{key:"onFakeHScroll",value:function(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}},{key:"onHScroll",value:function(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}},{key:"onHScrollCommon",value:function(e){var t,n=this.centerRowsCtrl.getViewportElement(),i=n.scrollLeft;this.shouldBlockScrollUpdate(1,i,!0)||(t=0===e?Sn(n,this.enableRtl):this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(t)),this.resetLastHScrollDebounced())}},{key:"onFakeVScroll",value:function(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}},{key:"onVScroll",value:function(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}},{key:"onVScrollCommon",value:function(e){var t;t=0===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,0===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}},{key:"doHorizontalScroll",value:function(e){var t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}},{key:"fireScrollEvent",value:function(e){var t=this,n={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var e=y(y({},n),{},{type:"bodyScrollEnd"});t.eventService.dispatchEvent(e)}),100)}},{key:"shouldBlockScrollUpdate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(n&&!tn())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}},{key:"shouldBlockVerticalScroll",value:function(e){var t=pn(this.eBodyViewport),n=this.eBodyViewport.scrollHeight;return e<0||e+t>n}},{key:"shouldBlockHorizontalScroll",value:function(e){var t=this.centerRowsCtrl.getCenterWidth(),n=this.centerRowsCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&wn()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}},{key:"redrawRowsAfterScroll",value:function(){this.fireScrollEvent(0)}},{key:"checkScrollLeft",value:function(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}},{key:"scrollGridIfNeeded",value:function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}},{key:"setHorizontalScrollPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,i=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&wn()?e>0?0:i:Math.min(Math.max(e,n),i)),kn(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}},{key:"setVerticalScrollPosition",value:function(e){this.eBodyViewport.scrollTop=e}},{key:"getVScrollPosition",value:function(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}},{key:"getApproximateVScollPosition",value:function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}},{key:"getHScrollPosition",value:function(){return this.centerRowsCtrl.getHScrollPosition()}},{key:"isHorizontalScrollShowing",value:function(){return this.centerRowsCtrl.isHorizontalScrollShowing()}},{key:"scrollHorizontally",value:function(e){var t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}},{key:"scrollToTop",value:function(){this.eBodyViewport.scrollTop=0}},{key:"ensureNodeVisible",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.rowModel.getRowCount(),i=-1,r=0;r<n;r++){var o=this.rowModel.getRow(r);if("function"===typeof e){var a=e;if(o&&a(o)){i=r;break}}else if(e===o||e===o.data){i=r;break}}i>=0&&this.ensureIndexVisible(i,t)}},{key:"ensureIndexVisible",value:function(e,t){var n=this;if(!this.gos.isDomLayout("print")){var i=this.rowModel.getRowCount();if("number"!==typeof e||e<0||e>=i)De("Invalid row index for ensureIndexVisible: "+e);else{var r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((function(){var i;r||(null===(i=n.paginationService)||void 0===i||i.goToPageWithIndex(e));var o,a=n.ctrlsService.getGridBodyCtrl(),s=a.getStickyTopHeight(),l=a.getStickyBottomHeight(),u=n.rowModel.getRow(e);do{var c=u.rowTop,d=u.rowHeight,h=n.pageBoundsService.getPixelOffset(),f=u.rowTop-h,v=f+u.rowHeight,p=n.getVScrollPosition(),g=n.heightScaler.getDivStretchOffset(),m=p.top+g,y=p.bottom+g,C=y-m,w=n.heightScaler.getScrollPositionForPixel(f),S=n.heightScaler.getScrollPositionForPixel(v-C),k=Math.min((w+S)/2,f),b=null;"top"===t?b=w:"bottom"===t?b=S:"middle"===t?b=k:m+s>f?b=w-s:y-l<v&&(b=S+l),null!==b&&(n.setVerticalScrollPosition(b),n.rowRenderer.redraw({afterScroll:!0})),o=c!==u.rowTop||d!==u.rowHeight}while(o);n.animationFrameService.flushAllFrames()}))}}}},{key:"ensureColumnVisible",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",i=this.columnModel.getCol(e);if(i&&!i.isPinned()&&this.visibleColsService.isColDisplayed(i)){var r=this.getPositionedHorizontalScroll(i,n);this.getFrameworkOverrides().wrapIncoming((function(){null!==r&&t.centerRowsCtrl.setCenterViewportScrollLeft(r),t.centerRowsCtrl.onHorizontalViewportChanged(),t.animationFrameService.flushAllFrames()}))}}},{key:"setScrollPosition",value:function(e,t){var n=this;this.getFrameworkOverrides().wrapIncoming((function(){n.centerRowsCtrl.setCenterViewportScrollLeft(t),n.setVerticalScrollPosition(e),n.rowRenderer.redraw({afterScroll:!0}),n.animationFrameService.flushAllFrames()}))}},{key:"getPositionedHorizontalScroll",value:function(e,t){var n=this.isColumnOutsideViewport(e),i=n.columnBeforeStart,r=n.columnAfterEnd,o=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl,l=(s?i:r)||o,u=s?r:i;"auto"!==t&&(l="start"===t,u="end"===t);var c="middle"===t;if(l||u||c){var d=this.getColumnBounds(e),h=d.colLeft,f=d.colMiddle,v=d.colRight;return c?f-a/2:l?s?v:h:s?h-a:v-a}return null}},{key:"isColumnOutsideViewport",value:function(e){var t=this.getViewportBounds(),n=t.start,i=t.end,r=this.getColumnBounds(e),o=r.colLeft,a=r.colRight,s=this.enableRtl;return{columnBeforeStart:s?n>a:i<a,columnAfterEnd:s?i<o:n>o}}},{key:"getColumnBounds",value:function(e){var t=this.enableRtl,n=this.visibleColsService.getBodyContainerWidth(),i=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,a=t?n-r:r;return{colLeft:a,colMiddle:a+i/2*o,colRight:a+i*o}}},{key:"getViewportBounds",value:function(){var e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}}]),n}(Y),Ko="ag-force-vertical-scroll",qo="ag-selectable",Qo=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).stickyTopHeight=0,e.stickyBottomHeight=0,e}return k(n,[{key:"wireBeans",value:function(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}},{key:"getScrollFeature",value:function(){return this.bodyScrollFeature}},{key:"getBodyViewportElement",value:function(){return this.eBodyViewport}},{key:"setComp",value:function(e,t,n,i,r,o,a){var s,l=this;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=o,this.eStickyBottom=a,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(function(e){return l.setCellTextSelection(e.currentValue)})),this.createManagedBean(new Vo(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Zo(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,o,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),null===(s=this.filterManager)||void 0===s||s.setupAdvancedFilterHeaderComp(i),this.ctrlsService.register("gridBodyCtrl",this)}},{key:"getComp",value:function(){return this.comp}},{key:"addEventListeners",value:function(){this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:this.setFloatingHeights.bind(this),pinnedHeightChanged:this.setFloatingHeights.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}},{key:"addFocusListeners",value:function(e){var t=this;e.forEach((function(e){t.addManagedElementListeners(e,{focusin:function(t){var n=fn(t.target,"ag-root",e);e.classList.toggle("ag-has-focus",!n)},focusout:function(t){var n=t.target,i=t.relatedTarget,r=e.contains(i),o=fn(i,"ag-root",e);fn(n,"ag-root",e)||r&&!o||e.classList.remove("ag-has-focus")}})}))}},{key:"setColumnMovingCss",value:function(e){this.comp.setColumnMovingCss("ag-column-moving",e)}},{key:"setCellTextSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comp.setCellSelectableCss(qo,e)}},{key:"onScrollVisibilityChanged",value:function(){var e=this,t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();var n=t&&this.gos.getScrollbarWidth()||0,i=an()?16:0,r="calc(100% + ".concat(n+i,"px)");this.animationFrameService.requestAnimationFrame((function(){return e.comp.setBodyViewportWidth(r)}))}},{key:"onGridColumnsChanged",value:function(){var e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}},{key:"disableBrowserDragging",value:function(){this.addManagedElementListeners(this.eGridBody,{dragstart:function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}},{key:"addStopEditingWhenGridLosesFocus",value:function(){var e=this;if(this.gos.get("stopEditingWhenCellsLoseFocus")){var t=function(t){var i=t.relatedTarget;if(null!==rn(i)){var r=n.some((function(e){return e.contains(i)}))&&e.mouseEventService.isElementInThisGrid(i);if(!r){var o=e.popupService;r=o.getActivePopups().some((function(e){return e.contains(i)}))||o.isElementWithinCustomPopup(i)}r||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];n.forEach((function(n){return e.addManagedElementListeners(n,{focusout:t})}))}}},{key:"updateRowCount",value:function(){var e,t,n=this.headerNavigationService.getHeaderRowCount()+(null!==(e=null===(t=this.filterManager)||void 0===t?void 0:t.getHeaderRowCount())&&void 0!==e?e:0),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=-1===i?-1:n+i;this.comp.setRowCount(r)}},{key:"registerBodyViewportResizeListener",value:function(e){this.comp.registerBodyViewportResizeListener(e)}},{key:"setVerticalScrollPaddingVisible",value:function(e){var t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}},{key:"isVerticalScrollShowing",value:function(){var e,t=this.gos.get("alwaysShowVerticalScroll"),n=t?Ko:null,i=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,t),t||i&&(e=this.eBodyViewport).clientHeight<e.scrollHeight}},{key:"setupRowAnimationCssClass",value:function(){var e=this,t=this.environment.hasMeasuredSizes(),n=function(){var n=t&&e.gos.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),i=n?"ag-row-animation":"ag-row-no-animation";e.comp.setRowAnimationCssOnBodyViewport(i,n)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:function(){!t&&e.environment.hasMeasuredSizes()&&(t=!0,n())}})}},{key:"getGridBodyElement",value:function(){return this.eGridBody}},{key:"addBodyViewportListener",value:function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}},{key:"addFullWidthContainerWheelListener",value:function(){var e=this,t=this.eBodyViewport.querySelector(".ag-full-width-container"),n=this.eBodyViewport.querySelector(".ag-center-cols-viewport");t&&n&&this.addManagedElementListeners(t,{wheel:function(t){return e.onFullWidthContainerWheel(t,n)}})}},{key:"onFullWidthContainerWheel",value:function(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}},{key:"onBodyViewportContextMenu",value:function(e,t,n){if(e||n){if(this.gos.get("preventDefaultOnContextMenu"))(e||n).preventDefault();var i=(e||t).target;i!==this.eBodyViewport&&i!==this.ctrlsService.get("center").getViewportElement()||this.menuService.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody})}}},{key:"mockContextMenuForIPad",value:function(e){if(tn()){var t=new Zn(this.eBodyViewport);this.addManagedListeners(t,{longTap:function(t){e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((function(){return t.destroy()}))}}},{key:"onBodyViewportWheel",value:function(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}},{key:"onStickyWheel",value:function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}},{key:"getGui",value:function(){return this.eGridBody}},{key:"scrollVertically",value:function(e){var t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}},{key:"addRowDragListener",value:function(){this.rowDragFeature=this.createManagedBean(new ji(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}},{key:"getRowDragFeature",value:function(){return this.rowDragFeature}},{key:"setFloatingHeights",value:function(){var e=this.pinnedRowModel,t=e.getPinnedTopTotalHeight(),n=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}},{key:"setStickyTopHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e}},{key:"getStickyTopHeight",value:function(){return this.stickyTopHeight}},{key:"setStickyBottomHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyBottomHeight("".concat(e,"px")),this.stickyBottomHeight=e}},{key:"getStickyBottomHeight",value:function(){return this.stickyBottomHeight}},{key:"setStickyWidth",value:function(e){if(e){var t=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(t,"px)")),this.comp.setStickyBottomWidth("calc(100% - ".concat(t,"px)"))}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}},{key:"onHeaderHeightChanged",value:function(){this.setStickyTopOffsetTop()}},{key:"setStickyTopOffsetTop",value:function(){var e,t,n=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(null!==(e=null===(t=this.filterManager)||void 0===t?void 0:t.getHeaderHeight())&&void 0!==e?e:0),i=this.pinnedRowModel.getPinnedTopTotalHeight(),r=0;n>0&&(r+=n),i>0&&(r+=i),r>0&&(r+=1),this.comp.setStickyTopTop("".concat(r,"px"))}},{key:"setStickyBottomOffsetBottom",value:function(){var e=this.pinnedRowModel.getPinnedBottomTotalHeight()+(this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0);this.comp.setStickyBottomBottom("".concat(e,"px"))}},{key:"sizeColumnsToFit",value:function(e,t){var n=this,i=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,r=gn(this.eGridBody)-i;r>0?this.columnSizeService.sizeColumnsToFit(r,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((function(){n.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((function(){n.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((function(){n.sizeColumnsToFit(e,-1)}),500):De("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}},{key:"addScrollEventListener",value:function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}},{key:"removeScrollEventListener",value:function(e){this.eBodyViewport.removeEventListener("scroll",e)}}]),n}(Y),Yo=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).centerContainerCtrl=e,i}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCtrl=t.gridBodyCtrl,e.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(function(){e.checkViewportAndScrolls()}))}},{key:"listenForResize",value:function(){var e=this,t=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}},{key:"onScrollbarWidthChanged",value:function(){this.checkViewportAndScrolls()}},{key:"onCenterViewportResized",value:function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}},{key:"keepPinnedColumnsNarrowerThanViewport",value:function(){var e=gn(this.gridBodyCtrl.getBodyViewportElement());if(!(e<=50)){var t=this.getPinnedColumnsOverflowingViewport(e-50),n=this.gos.getCallback("processUnpinnedColumns");if(t.length){if(n)t=n({columns:t,viewportWidth:e});this.columnModel.setColsPinned(t,null,"viewportSizeFeature")}}}},{key:"getPinnedColumnsOverflowingViewport",value:function(e){var t=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(t<e)return[];for(var n=(0,o.Z)(this.visibleColsService.getLeftCols()),i=(0,o.Z)(this.visibleColsService.getRightCols()),r=0,a=0,s=[],l=t-0-e;(a<n.length||r<i.length)&&l>0;){if(r<i.length){var u=i[r++];l-=u.getActualWidth(),s.push(u)}if(a<n.length&&l>0){var c=n[a++];l-=c.getActualWidth(),s.push(c)}}return s}},{key:"checkViewportAndScrolls",value:function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}},{key:"getBodyHeight",value:function(){return this.bodyHeight}},{key:"checkBodyHeight",value:function(){var e=pn(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==e){this.bodyHeight=e;this.eventService.dispatchEvent({type:"bodyHeightChanged"})}}},{key:"updateScrollVisibleService",value:function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}},{key:"updateScrollVisibleServiceImpl",value:function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}},{key:"isHorizontalScrollShowing",value:function(){return this.centerContainerCtrl.isHorizontalScrollShowing()}},{key:"onHorizontalViewportChanged",value:function(){var e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}}]),n}(Y),Xo=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).eContainer=e,i}return k(n,[{key:"wireBeans",value:function(e){this.dragService=e.dragService,this.rangeService=e.rangeService}},{key:"postConstruct",value:function(){var e=this;this.rangeService&&(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",(function(t){t.currentValue?e.enableFeature():e.disableFeature()})),this.addDestroyFunc((function(){return e.disableFeature()})),this.gos.get("enableRangeSelection")&&this.enableFeature())}},{key:"enableFeature",value:function(){this.dragService.addDragSource(this.params)}},{key:"disableFeature",value:function(){this.dragService.removeDragSource(this.params)}}]),n}(Y),Jo=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[ai])).eCheckbox=Vn,e}return k(n,[{key:"postConstruct",value:function(){this.eCheckbox.setPassive(!0)}},{key:"getCheckboxId",value:function(){return this.eCheckbox.getInputElement().id}},{key:"onDataChanged",value:function(){this.onSelectionChanged()}},{key:"onSelectableChanged",value:function(){this.showOrHideSelect()}},{key:"onSelectionChanged",value:function(){var e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),n=Qt(e,t),i=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=(0,r.Z)(i,2),a=e(o[0],o[1]);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel("".concat(a," (").concat(n,")"))}},{key:"onClicked",value:function(e,t,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:t,event:n,source:"checkboxSelected"})}},{key:"init",value:function(e){var t=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:function(e){return j(e)},click:function(e){j(e);var n=t.gos.get("groupSelectsFiltered"),i=t.eCheckbox.getValue();t.shouldHandleIndeterminateState(i,n)?0===t.onClicked(!0,n,e||{})&&t.onClicked(!1,n,e):i?t.onClicked(!1,n,e):t.onClicked(!0,n,e||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.gos.get("isRowSelectable")||"function"===typeof this.getIsVisible()){var n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}},{key:"shouldHandleIndeterminateState",value:function(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gos.isRowModelType("clientSide")}},{key:"showOrHideSelect",value:function(){var e,t,n=this.rowNode.selectable,i=this.getIsVisible();if(n)if("function"===typeof i){var r,o=null===(r=this.overrides)||void 0===r?void 0:r.callbackParams;if(this.column){var a=this.column.createColumnFunctionCallbackParams(this.rowNode);n=i(y(y({},o),a))}else n=i(y(y({},o),{},{node:this.rowNode,data:this.rowNode.data}))}else n=null!==i&&void 0!==i&&i;if(null===(e=this.column)||void 0===e?void 0:e.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!n),this.setVisible(!0),void this.setDisplayed(!0);null!==(t=this.overrides)&&void 0!==t&&t.removeHidden?this.setDisplayed(n):this.setVisible(n)}},{key:"getIsVisible",value:function(){var e,t;return this.overrides?this.overrides.isVisible:null===(e=this.column)||void 0===e||null===(t=e.getColDef())||void 0===t?void 0:t.checkboxSelection}}]),n}(Wn),$o=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')).rowNode=e,o.column=i,o.eCell=r,o}return k(n,[{key:"postConstruct",value:function(){this.getGui().appendChild(Un("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}},{key:"addDragSource",value:function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}},{key:"onDragStart",value:function(e){var t=this,n=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);n?n(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):function(){try{var n=JSON.stringify(t.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch(i){}}()}},{key:"checkVisibility",value:function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}}]),n}(Wn),ea=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).staticClasses=[],r.cellCtrl=e,r.beans=i,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r}return k(n,[{key:"setComp",value:function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}},{key:"applyCellClassRules",value:function(){var e=this,t=this.column.getColDef(),n=t.cellClassRules,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(n===this.cellClassRules?void 0:this.cellClassRules,n,i,(function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}),(function(t){return e.cellComp.addOrRemoveCssClass(t,!1)})),this.cellClassRules=n}},{key:"applyUserStyles",value:function(){var e=this.column.getColDef();if(e.cellStyle){var t;if("function"===typeof e.cellStyle){var n=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(n)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}}},{key:"applyClassesFromColDef",value:function(){var e=this,t=this.column.getColDef(),n=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,n),this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}))}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),ta=function(e){c(n,e);var t=p(n);function n(e,i,r,o,a){var s;return C(this,n),(s=t.call(this)).cellCtrl=e,s.beans=i,s.rowNode=o,s.rowCtrl=a,s}return k(n,[{key:"setComp",value:function(e){this.eGui=e}},{key:"onKeyDown",value:function(e){var t=e.key;switch(t){case ni.ENTER:this.onEnterKeyDown(e);break;case ni.F2:this.onF2KeyDown(e);break;case ni.ESCAPE:this.onEscapeKeyDown(e);break;case ni.TAB:this.onTabKeyDown(e);break;case ni.BACKSPACE:case ni.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ni.DOWN:case ni.UP:case ni.RIGHT:case ni.LEFT:this.onNavigationKeyDown(e,t)}}},{key:"onNavigationKeyDown",value:function(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}},{key:"onShiftRangeSelect",value:function(e){if(this.beans.rangeService){var t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}}},{key:"onTabKeyDown",value:function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}},{key:"onBackspaceOrDeleteKeyDown",value:function(e,t){var n=this.cellCtrl,i=this.beans,r=this.rowNode,o=i.gos,a=i.rangeService,s=i.eventService;if(!n.isEditing()){if(s.dispatchEvent({type:"keyShortcutChangedCellStart"}),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===ni.DELETE||!t&&e===ni.BACKSPACE&&en()}(e,o.get("enableCellEditingOnBackspace"))){if(a&&o.get("enableRangeSelection"))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){var l,u=n.getColumn(),c=null!==(l=this.beans.valueService.parseValue(u,r,"",r.getValueFromValueService(u)))&&void 0!==l?l:null;r.setDataValue(u,c,"cellClear")}}else n.startRowOrCellEdit(e,t);s.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}},{key:"onEnterKeyDown",value:function(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){var t=e.shiftKey?ni.UP:ni.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ni.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}},{key:"onF2KeyDown",value:function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ni.F2,e)}},{key:"onEscapeKeyDown",value:function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}},{key:"processCharacter",value:function(e){if(!(e.target!==this.eGui)&&!this.cellCtrl.isEditing()){var t=e.key;" "===t?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(t,e),e.preventDefault())}}},{key:"onSpaceKeyDown",value:function(e){var t=this.beans.gos;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){var n=this.rowNode.isSelected(),i=!n;if(i||!t.get("suppressRowDeselection")){var r=this.beans.gos.get("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});void 0===n&&0===o&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}}e.preventDefault()}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),na=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this)).cellCtrl=e,o.beans=i,o.column=r,o}return k(n,[{key:"onMouseEvent",value:function(e,t){if(!Z(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}},{key:"onCellClicked",value:function(e){var t=this;if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var n=this.beans,i=n.eventService,r=n.rangeService,o=n.gos,a=e.ctrlKey||e.metaKey;r&&a&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);var s=this.cellCtrl.createEvent(e,"cellClicked");i.dispatchEvent(s);var l=this.column.getColDef();l.onCellClicked&&window.setTimeout((function(){t.beans.frameworkOverrides.wrapOutgoing((function(){l.onCellClicked(s)}))}),0),!((o.get("singleClickEdit")||l.singleClickEdit)&&!o.get("suppressClickEdit"))||e.shiftKey&&0!=(null===r||void 0===r?void 0:r.getCellRanges().length)||this.cellCtrl.startRowOrCellEdit()}},{key:"isDoubleClickOnIPad",value:function(){if(!tn()||K("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}},{key:"onCellDoubleClicked",value:function(e){var t=this.column,n=this.beans,i=this.cellCtrl,r=n.eventService,o=n.frameworkOverrides,a=n.gos,s=t.getColDef(),l=i.createEvent(e,"cellDoubleClicked");r.dispatchEvent(l),"function"===typeof s.onCellDoubleClicked&&window.setTimeout((function(){o.wrapOutgoing((function(){s.onCellDoubleClicked(l)}))}),0),!a.get("singleClickEdit")&&!a.get("suppressClickEdit")&&i.startRowOrCellEdit(null,e)}},{key:"onMouseDown",value:function(e){var t=e.ctrlKey,n=e.metaKey,i=e.shiftKey,r=e.target,o=this.cellCtrl,a=this.beans,s=a.eventService,l=a.rangeService,u=a.focusService,c=a.gos;if(!this.isRightClickInExistingRange(e)){var d=l&&0!=l.getCellRanges().length;if(!i||!d){var h=c.get("enableCellTextSelection")&&e.defaultPrevented,f=(Yt()||h)&&!o.isEditing()&&!un(r);o.focusCell(f)}if(i&&d&&!u.isCellFocused(o.getCellPosition())){e.preventDefault();var v=u.getFocusedCell();if(v){var p=v.column,g=v.rowIndex,m=v.rowPinned,y=a.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:m}),C=null===y||void 0===y?void 0:y.getCellCtrl(p);null!==C&&void 0!==C&&C.isEditing()&&C.stopEditing(),u.setFocusedCell({column:p,rowIndex:g,rowPinned:m,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){var w=this.cellCtrl.getCellPosition();if(i)l.extendLatestRangeToCell(w);else{var S=t||n;l.setRangeToCell(w,S)}}s.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}}},{key:"isRightClickInExistingRange",value:function(e){var t=this.beans.rangeService;if(t){var n=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}},{key:"containsWidget",value:function(e){return fn(e,"ag-selection-checkbox",3)}},{key:"onMouseOut",value:function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,"cellMouseOut");this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}}},{key:"onMouseOver",value:function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,"cellMouseOver");this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}}},{key:"mouseStayingInsideCell",value:function(e){if(!e.target||!e.relatedTarget)return!1;var t=this.cellCtrl.getGui(),n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),ia=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).cellCtrl=e,r.beans=i,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r}return k(n,[{key:"setupRowSpan",value:function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:function(){return e.onNewColumnsLoaded()}})}},{key:"setComp",value:function(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}},{key:"onNewColumnsLoaded",value:function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}},{key:"onDisplayColumnsChanged",value:function(){var e=this.getColSpanningList();O(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}},{key:"setupColSpan",value:function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}},{key:"onWidthChanged",value:function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}}},{key:"getCellWidth",value:function(){return this.colsSpanning?this.colsSpanning.reduce((function(e,t){return e+t.getActualWidth()}),0):this.column.getActualWidth()}},{key:"getColSpanningList",value:function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var n=this.column,i=this.column.getPinned(),r=0;n&&r<e&&(t.push(n),(n=this.beans.visibleColsService.getColAfter(n))&&!ee(n))&&i===n.getPinned();r++);return t}},{key:"onLeftChanged",value:function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}}},{key:"getCellLeft",value:function(){return(this.beans.gos.get("enableRtl")&&this.colsSpanning?I(this.colsSpanning):this.column).getLeft()}},{key:"modifyLeftForPrintLayout",value:function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var t=this.beans.visibleColsService.getColsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0):t+(e||0)}},{key:"applyRowSpan",value:function(e){if(1!==this.rowSpan||e){var t=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height="".concat(t,"px"),this.eGui.style.zIndex="1"}}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),ra="ag-cell-range-selected",oa=function(){function e(t,n){C(this,e),this.beans=t,this.rangeService=t.rangeService,this.selectionHandleFactory=t.selectionHandleFactory,this.cellCtrl=n}return k(e,[{key:"setComp",value:function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}},{key:"onRangeSelectionChanged",value:function(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ra,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(ra,"-1"),1===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(ra,"-2"),2===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(ra,"-3"),3===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(ra,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),qt(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}},{key:"updateRangeBorders",value:function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,r=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",o)}},{key:"isSingleCell",value:function(){var e=this.beans.rangeService;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}},{key:"getHasChartRange",value:function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every((function(e){return V([1,0],e.type)}))}},{key:"updateRangeBordersIfRangeCount",value:function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}},{key:"getRangeBorders",value:function(){var e,t,n=this,i=this.beans.gos.get("enableRtl"),r=!1,o=!1,a=!1,s=!1,l=this.cellCtrl.getCellPosition().column,u=this.beans.visibleColsService;i?(e=u.getColAfter(l),t=u.getColBefore(l)):(e=u.getColBefore(l),t=u.getColAfter(l));var c=this.rangeService.getCellRanges().filter((function(e){return n.rangeService.isCellInSpecificRange(n.cellCtrl.getCellPosition(),e)}));e||(s=!0),t||(o=!0);for(var d=0;d<c.length&&!(r&&o&&a&&s);d++){var h=c[d],f=this.rangeService.getRangeStartRow(h),v=this.rangeService.getRangeEndRow(h);!r&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(r=!0),!a&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(a=!0),!s&&e&&h.columns.indexOf(e)<0&&(s=!0),!o&&t&&h.columns.indexOf(t)<0&&(o=!0)}return{top:r,right:o,bottom:a,left:s}}},{key:"refreshHandle",value:function(){if(!this.beans.context.isDestroyed()){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}}},{key:"shouldHaveSelectionHandle",value:function(){var e=this.beans.gos,t=this.rangeService.getCellRanges(),n=t.length;if(this.rangeCount<1||n<1)return!1;var i=I(t),r=this.cellCtrl.getCellPosition(),o=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),a=e.get("enableRangeHandle"),s=1===n&&!this.cellCtrl.isEditing()&&(o||a);if(this.hasChartRange){var l=1===t[0].type&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",l),s=0===i.type}return s&&null!=i.endRow&&this.rangeService.isContiguousRange(i)&&this.rangeService.isBottomRightCell(i,r)}},{key:"addSelectionHandle",value:function(){var e=this.beans.gos,t=I(this.rangeService.getCellRanges()).type,n=e.get("enableFillHandle")&&ee(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}},{key:"destroy",value:function(){this.beans.context.destroyBean(this.selectionHandle)}}]),e}(),aa=0,sa=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this)).column=e,a.rowNode=i,a.beans=r,a.rowCtrl=o,a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.instanceId=e.getId()+"-"+aa++,a.colIdSanitised=rt(a.column.getId()),r.gos.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return k(n,[{key:"shouldRestoreFocus",value:function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}},{key:"addFeatures",value:function(){var e=this;this.cellPositionFeature=new ia(this,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.cellPositionFeature)||void 0===t||t.destroy(),e.cellPositionFeature=null})),this.cellCustomStyleFeature=new ea(this,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.cellCustomStyleFeature)||void 0===t||t.destroy(),e.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new na(this,this.beans,this.column),this.addDestroyFunc((function(){var t;null===(t=e.cellMouseListenerFeature)||void 0===t||t.destroy(),e.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new ta(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){var t;null===(t=e.cellKeyboardListenerFeature)||void 0===t||t.destroy(),e.cellKeyboardListenerFeature=null})),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc((function(){e.disableTooltipFeature()}))),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new oa(this.beans,this),this.addDestroyFunc((function(){var t;null===(t=e.cellRangeFeature)||void 0===t||t.destroy(),e.cellRangeFeature=null})))}},{key:"enableTooltipFeature",value:function(e,t){var n=this,i="whenTruncated"===this.beans.gos.get("tooltipShowMode");t||!i||this.isCellRenderer()||(t=function(){var e=n.getGui(),t=0===e.children.length?e:e.querySelector(".ag-cell-value");return!t||t.scrollWidth>t.clientWidth});var r={getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getRowIndex:function(){return n.cellPosition.rowIndex},getRowNode:function(){return n.rowNode},getGui:function(){return n.getGui()},getLocation:function(){return"cell"},getTooltipValue:null!=e?function(){return e}:function(){var e=n.column.getColDef(),t=n.rowNode.data;if(e.tooltipField&&$(t))return pe(t,e.tooltipField,n.column.isTooltipFieldContainsDots());var i=e.tooltipValueGetter;return i?i(n.beans.gos.addGridCommonParams({location:"cell",colDef:n.column.getColDef(),column:n.column,rowIndex:n.cellPosition.rowIndex,node:n.rowNode,data:n.rowNode.data,value:n.value,valueFormatted:n.valueFormatted})):null},getValueFormatted:function(){return n.valueFormatted},shouldDisplayTooltip:t};this.tooltipFeature=new Bn(r,this.beans)}},{key:"disableTooltipFeature",value:function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}},{key:"setComp",value:function(e,t,n,i,r){var o,a,s,l;this.cellComp=e,this.eGui=t,this.printLayout=i,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null===(o=this.cellPositionFeature)||void 0===o||o.setComp(t),null===(a=this.cellCustomStyleFeature)||void 0===a||a.setComp(e),null===(s=this.tooltipFeature)||void 0===s||s.refreshToolTip(),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((function(e){return e()})),this.onCellCompAttachedFuncs=[])}},{key:"setupAutoHeight",value:function(e){var t=this;if(this.isAutoHeight=this.column.isAutoHeight(),this.isAutoHeight&&e){var n=e.parentElement,i=this.beans.gos.getRowHeightForNode(this.rowNode).height,r=function r(o){if(!t.editing&&t.isAlive()){var a=vn(n),s=a.paddingTop+a.paddingBottom+a.borderBottomWidth+a.borderTopWidth,l=e.offsetHeight+s;if(o<5){var u=t.beans.gos.getDocument();if(!u||!u.contains(e)||0==l)return void window.setTimeout((function(){return r(o+1)}),0)}var c=Math.max(l,i);t.rowNode.setRowAutoHeight(c,t.column)}},o=function(){return r(0)};o();var a=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc((function(){a(),t.rowNode.setRowAutoHeight(void 0,t.column)}))}}},{key:"getCellAriaRole",value:function(){var e;return null!==(e=this.column.getColDef().cellAriaRole)&&void 0!==e?e:"gridcell"}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"getColumnIdSanitised",value:function(){return this.colIdSanitised}},{key:"getTabIndex",value:function(){return this.tabIndex}},{key:"isCellRenderer",value:function(){var e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}},{key:"getValueToDisplay",value:function(){var e;return null!==(e=this.valueFormatted)&&void 0!==e?e:this.value}},{key:"showValue",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.getValueToDisplay();if(this.rowNode.stub){var r=this.createCellRendererParams();t=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),r)}else if(this.isCellRenderer()){var o=this.createCellRendererParams();t=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(t,i,n),null===(e=this.cellRangeFeature)||void 0===e||e.refreshHandle()}},{key:"setupControlComps",value:function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}},{key:"isForceWrapper",value:function(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}},{key:"isIncludeControl",value:function(e){return!(null!=this.rowNode.rowPinned)&&("function"===typeof e||!0===e)}},{key:"refreshShouldDestroy",value:function(){var e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}},{key:"startEditing",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.beans.editService;this.isCellEditable()&&!this.editing&&r&&(this.cellComp?r.startEditing(this,t,n,i):this.onCellCompAttachedFuncs.push((function(){e.startEditing(t,n,i)})))}},{key:"setEditing",value:function(e,t){var n;this.editCompDetails=t,this.editing!==e&&(this.editing=e,null===(n=this.cellRangeFeature)||void 0===n||n.refreshHandle())}},{key:"stopRowOrCellEdit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}},{key:"onPopupEditorClosed",value:function(){this.editing&&this.stopEditingAndFocus()}},{key:"stopEditing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.beans.editService;return!(!this.editing||!t)&&t.stopEditing(this,e)}},{key:"createCellRendererParams",value:function(){var e=this,t=this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(t,n,i,r){return e.registerRowDragger(t,n,r)},setTooltip:function(t,n){var i;e.tooltipFeature&&e.disableTooltipFeature(),e.enableTooltipFeature(t,n),null===(i=e.tooltipFeature)||void 0===i||i.refreshToolTip()}});return t}},{key:"setFocusOutOnEditor",value:function(){var e;this.editing&&(null===(e=this.beans.editService)||void 0===e||e.setFocusOutOnEditor(this))}},{key:"setFocusInOnEditor",value:function(){var e;this.editing&&(null===(e=this.beans.editService)||void 0===e||e.setFocusInOnEditor(this))}},{key:"onCellChanged",value:function(e){e.column===this.column&&this.refreshCell({})}},{key:"refreshOrDestroyCell",value:function(e){var t;this.refreshShouldDestroy()?null===(t=this.rowCtrl)||void 0===t||t.recreateCell(this):this.refreshCell(e)}},{key:"refreshCell",value:function(e){var t,n;if(!this.suppressRefreshCell&&!this.editing){var i=this.column.getColDef(),r=null!=e&&!!e.newData,o=null!=e&&!!e.suppressFlash||!!i.suppressCellFlash,a=null==i.field&&null==i.valueGetter&&null==i.showRowGroup,s=e&&e.forceRefresh||a||r,l=!!this.cellComp,u=this.updateAndFormatValue(l);if(l){if(s||u){var c,d,h;this.showValue(r);var f=null===(c=this.beans.filterManager)||void 0===c?void 0:c.isSuppressFlashingCellsBecauseFiltering();!o&&!f&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),null===(d=this.cellCustomStyleFeature)||void 0===d||d.applyUserStyles(),null===(h=this.cellCustomStyleFeature)||void 0===h||h.applyClassesFromColDef()}null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyCellClassRules()}}}},{key:"stopEditingAndFocus",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=this.beans.editService)||void 0===e||e.stopEditingAndFocus(this,t,n)}},{key:"flashCell",value:function(e){var t,n,i=null!==(t=null===e||void 0===e?void 0:e.flashDuration)&&void 0!==t?t:null===e||void 0===e?void 0:e.flashDelay,r=null!==(n=null===e||void 0===e?void 0:e.fadeDuration)&&void 0!==n?n:null===e||void 0===e?void 0:e.fadeDelay;this.animateCell("data-changed",i,r)}},{key:"animateCell",value:function(e,t,n){var i=this;if(this.cellComp){var r="ag-cell-".concat(e),o="ag-cell-".concat(e,"-animation"),a=this.beans.gos;t||(t=a.get("cellFlashDuration")),$(n)||(n=a.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming((function(){window.setTimeout((function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(r,!1),i.cellComp.addOrRemoveCssClass(o,!0),i.eGui.style.transition="background-color ".concat(n,"ms"),window.setTimeout((function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(o,!1),i.eGui.style.transition="")}),n))}),t)}))}}},{key:"onFlashCells",value:function(e){if(this.cellComp){var t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}}},{key:"isCellEditable",value:function(){return this.column.isCellEditable(this.rowNode)}},{key:"isSuppressFillHandle",value:function(){return this.column.isSuppressFillHandle()}},{key:"formatValue",value:function(e){var t;return null!==(t=this.callValueFormatter(e))&&void 0!==t?t:e}},{key:"callValueFormatter",value:function(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}},{key:"updateAndFormatValue",value:function(e){var t=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n)}},{key:"valuesAreEqual",value:function(e,t){var n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}},{key:"getComp",value:function(){return this.cellComp}},{key:"getValue",value:function(){return this.value}},{key:"addDomData",value:function(){var e=this,t=this.getGui();this.beans.gos.setDomData(t,n.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return e.beans.gos.setDomData(t,n.DOM_DATA_KEY_CELL_CTRL,null)}))}},{key:"createEvent",value:function(e,t){return this.beans.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}},{key:"processCharacter",value:function(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.processCharacter(e)}},{key:"onKeyDown",value:function(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.onKeyDown(e)}},{key:"onMouseEvent",value:function(e,t){var n;null===(n=this.cellMouseListenerFeature)||void 0===n||n.onMouseEvent(e,t)}},{key:"getGui",value:function(){return this.eGui}},{key:"getColSpanningList",value:function(){return this.cellPositionFeature.getColSpanningList()}},{key:"onLeftChanged",value:function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())}},{key:"onDisplayedColumnsChanged",value:function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}},{key:"refreshFirstAndLastStyles",value:function(){Kr(this.cellComp,this.column,this.beans.visibleColsService)}},{key:"refreshAriaColIndex",value:function(){var e=this.beans.visibleColsService.getAriaColIndex(this.column);jt(this.getGui(),e)}},{key:"isSuppressNavigable",value:function(){return this.column.isSuppressNavigable(this.rowNode)}},{key:"onWidthChanged",value:function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()}},{key:"getColumn",value:function(){return this.column}},{key:"getRowNode",value:function(){return this.rowNode}},{key:"isPrintLayout",value:function(){return this.printLayout}},{key:"getCellPosition",value:function(){return this.cellPosition}},{key:"isEditing",value:function(){return this.editing}},{key:"startRowOrCellEdit",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n):this.onCellCompAttachedFuncs.push((function(){t.startRowOrCellEdit(e,n)}))}},{key:"getRowCtrl",value:function(){return this.rowCtrl}},{key:"getRowPosition",value:function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}},{key:"updateRangeBordersIfRangeCount",value:function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}},{key:"onRangeSelectionChanged",value:function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}},{key:"isRangeSelectionEnabled",value:function(){return null!=this.cellRangeFeature}},{key:"focusCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}},{key:"onRowIndexChanged",value:function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}},{key:"onFirstRightPinnedChanged",value:function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}}},{key:"onLastLeftPinnedChanged",value:function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}}},{key:"onCellFocused",value:function(e){if(!this.beans.gos.get("suppressCellFocus")){var t=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp){if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus){var n=this.cellComp.getFocusableElement();if(this.editing){var i=this.beans.focusService.findFocusableElements(n,null,!0);i.length&&(n=i[0])}n.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var r="fullRow"===this.beans.gos.get("editType");t||r||!this.editing||this.stopRowOrCellEdit(),t&&this.rowCtrl.announceDescription()}else t&&null!==e&&void 0!==e&&e.forceBrowserFocus&&(this.focusEventToRestore=e)}}},{key:"createCellPosition",value:function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:J(this.rowNode.rowPinned),column:this.column}}},{key:"applyStaticCssClasses",value:function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}},{key:"onColumnHover",value:function(){if(this.cellComp&&this.beans.gos.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}}},{key:"onColDefChanged",value:function(){var e;this.cellComp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?null===(e=this.beans.editService)||void 0===e||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}},{key:"setWrapText",value:function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}},{key:"dispatchCellContextMenuEvent",value:function(e){var t=this,n=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu");this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout((function(){t.beans.frameworkOverrides.wrapOutgoing((function(){n.onCellContextMenu(i)}))}),0)}},{key:"getCellRenderer",value:function(){return this.cellComp?this.cellComp.getCellRenderer():null}},{key:"getCellEditor",value:function(){return this.cellComp?this.cellComp.getCellEditor():null}},{key:"destroy",value:function(){this.onCellCompAttachedFuncs=[],l(a(n.prototype),"destroy",this).call(this)}},{key:"createSelectionCheckbox",value:function(){var e=new Jo;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}},{key:"createDndSource",value:function(){var e=new $o(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}},{key:"registerRowDragger",value:function(e,t,n){var i=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,t);else{var r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc((function(){i.beans.context.destroyBean(r),i.customRowDragComp=null})))}}},{key:"createRowDragComp",value:function(e,t,n){var i=this,r=this.beans.gos.get("pagination"),o=this.beans.gos.get("rowDragManaged"),a=this.beans.gos.isRowModelType("clientSide");if(o){if(!a)return void De("managed row dragging is only allowed in the Client Side Row Model");if(r)return void De("managed row dragging is not possible when doing pagination")}var s=new Ki((function(){return i.value}),this.rowNode,this.column,e,t,n);return this.beans.context.createBean(s),s}},{key:"setSuppressRefreshCell",value:function(e){this.suppressRefreshCell=e}},{key:"getEditCompDetails",value:function(){return this.editCompDetails}}]),n}(Y);sa.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var la=sa,ua=0,ca=function(e){c(n,e);var t=p(n);function n(e,i,r,o,a){var s,l,u;return C(this,n),(u=t.call(this)).allRowGuis=[],u.active=!0,u.centerCellCtrls={list:[],map:{}},u.leftCellCtrls={list:[],map:{}},u.rightCellCtrls={list:[],map:{}},u.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},u.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},u.rowDragComps=[],u.lastMouseDownOnDragger=!1,u.emptyStyle={},u.updateColumnListsPending=!1,u.rowId=null,u.businessKeySanitised=null,u.beans=i,u.gos=i.gos,u.rowNode=e,u.paginationPage=null!==(s=null===(l=i.paginationService)||void 0===l?void 0:l.getCurrentPage())&&void 0!==s?s:0,u.useAnimationFrameForCreate=o,u.printLayout=a,u.suppressRowTransform=u.gos.get("suppressRowTransform"),u.instanceId=e.id+"-"+ua++,u.rowId=rt(e.id),u.initRowBusinessKey(),u.rowFocused=i.focusService.isRowFocused(u.rowNode.rowIndex,u.rowNode.rowPinned),u.rowLevel=i.rowCssClassCalculator.calculateRowLevel(u.rowNode),u.setRowType(),u.setAnimateFlags(r),u.rowStyles=u.processStylesFromGridOptions(),u.isFullWidth()&&!u.gos.get("suppressCellFocus")&&(u.tabIndex=-1),u.addListeners(),u}return k(n,[{key:"initRowBusinessKey",value:function(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}},{key:"updateRowBusinessKey",value:function(){if("function"===typeof this.businessKeyForNodeFunc){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=rt(e)}}},{key:"getRowId",value:function(){return this.rowId}},{key:"getRowStyles",value:function(){return this.rowStyles}},{key:"getTabIndex",value:function(){return this.tabIndex}},{key:"isSticky",value:function(){return this.rowNode.sticky}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"updateGui",value:function(e,t){"left"===e?this.leftGui=t:"right"===e?this.rightGui=t:"fullWidth"===e?this.fullWidthGui=t:this.centerGui=t}},{key:"setComp",value:function(e,t,n){var i={rowComp:e,element:t,containerType:n};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}},{key:"unsetComp",value:function(e){this.allRowGuis=this.allRowGuis.filter((function(t){return t.containerType!==e})),this.updateGui(e,void 0)}},{key:"isCacheable",value:function(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}},{key:"setCached",value:function(e){var t=e?"none":"";this.allRowGuis.forEach((function(e){return e.element.style.display=t}))}},{key:"initialiseRowComp",value:function(e){var t=this,i=this.gos;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var r=e.rowComp;this.getInitialRowClasses(e.containerType).forEach((function(e){return r.addOrRemoveCssClass(e,!0)})),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Wt(e.element,1==this.rowNode.expanded),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),i.setDomData(e.element,n.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((function(){return i.setDomData(e.element,n.DOM_DATA_KEY_ROW_CTRL,null)})),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((function(){t.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}},{key:"setRowCompRowBusinessKey",value:function(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}},{key:"getBusinessKey",value:function(){return this.businessKeySanitised}},{key:"setRowCompRowId",value:function(e){this.rowId=rt(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}},{key:"executeSlideAndFadeAnimations",value:function(e){var t=this,n=e.containerType;this.slideInAnimation[n]&&(Ie((function(){t.onTopChanged()})),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(Ie((function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[n]=!1)}},{key:"addRowDraggerToRow",value:function(e){if(this.gos.get("enableRangeSelection"))De("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");else{var t=this.beans.localeService.getLocaleTextFunc(),n=new Ki((function(){return"1 ".concat(t("rowDragRow","row"))}),this.rowNode,void 0,e.element,void 0,!0),i=this.createBean(n,this.beans.context);this.rowDragComps.push(i)}}},{key:"setupFullWidth",value:function(e){var t=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"!=this.rowType||$n.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}}},{key:"isPrintLayout",value:function(){return this.printLayout}},{key:"getFullWidthCellRenderers",value:function(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((function(e){var t;return null===e||void 0===e||null===(t=e.rowComp)||void 0===t?void 0:t.getFullWidthCellRenderer()})):[null===(e=this.fullWidthGui)||void 0===e||null===(t=e.rowComp)||void 0===t?void 0:t.getFullWidthCellRenderer()]}},{key:"getCellElement",value:function(e){var t=this.getCellCtrl(e);return t?t.getGui():null}},{key:"executeProcessRowPostCreateFunc",value:function(){var e=this.gos.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}},{key:"areAllContainersReady",value:function(){var e=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),t=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return e&&t&&n}},{key:"setRowType",value:function(){var e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),t=this.rowNode.isFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(i);this.rowType=e?"FullWidthLoading":n?"FullWidthDetail":t?"FullWidth":r?"FullWidthGroup":"Normal"}},{key:"updateColumnLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isFullWidth()){var i=t||this.gos.get("suppressAnimationFrame")||this.printLayout;i?this.updateColumnListsImpl(n):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){e.active&&e.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}}},{key:"createCellCtrls",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={list:[],map:{}},o=function(e,t){r.list.push(t),r.map[e]=t};return t.forEach((function(t){var i=t.getInstanceId(),r=e.map[i];r||(r=new la(t,n.rowNode,n.beans,n)),o(i,r)})),e.list.forEach((function(e){null!=r.map[e.getColumn().getInstanceId()]||(!n.isCellEligibleToBeRemoved(e,i)?o(e.getColumn().getInstanceId(),e):e.destroy())})),r}},{key:"updateColumnListsImpl",value:function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}},{key:"setCellCtrls",value:function(e){var t=this;this.allRowGuis.forEach((function(n){var i=t.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(i,e)}))}},{key:"getCellCtrlsForContainer",value:function(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}},{key:"createAllCellCtrls",value:function(){var e=this.beans.columnViewportService,t=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}},{key:"isCellEligibleToBeRemoved",value:function(e,t){var n=!0;if(e.getColumn().getPinned()!=t)return n;var i=e.isEditing(),r=this.beans.focusService.isCellFocused(e.getCellPosition());if(i||r){var o=e.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(o)>=0)&&n}return n}},{key:"getDomOrder",value:function(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}},{key:"listenOnDomOrder",value:function(e){var t=this,n=function(){e.rowComp.setDomOrder(t.getDomOrder())};this.addManagedPropertyListener("domLayout",n),this.addManagedPropertyListener("ensureDomOrder",n)}},{key:"setAnimateFlags",value:function(e){if(!this.isSticky()&&e){var t=$(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),i=this.beans.visibleColsService.isPinningRight();if(t){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}}},{key:"isEditing",value:function(){return this.editingRow}},{key:"isFullWidth",value:function(){return"Normal"!==this.rowType}},{key:"refreshFullWidth",value:function(){var e=this,t=function(t,n){return!t||t.rowComp.refreshFullWidth((function(){return e.createFullWidthCompDetails(t.element,n).params}))},n=t(this.fullWidthGui,null),i=t(this.centerGui,null),r=t(this.leftGui,"left"),o=t(this.rightGui,"right");return n&&i&&r&&o}},{key:"addListeners",value:function(){var e=this;this.addManagedListeners(this.rowNode,{heightChanged:function(){return e.onRowHeightChanged()},rowSelected:function(){return e.onRowSelected()},rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:function(){return e.updateColumnLists()}}),this.addDestroyFunc((function(){e.destroyBeans(e.rowDragComps,e.beans.context),e.tooltipFeature&&(e.tooltipFeature=e.destroyBean(e.tooltipFeature,e.beans.context))})),this.addManagedPropertyListeners(["rowDragEntireRow"],(function(){e.gos.get("rowDragEntireRow")?e.allRowGuis.forEach((function(t){e.addRowDraggerToRow(t)})):e.rowDragComps=e.destroyBeans(e.rowDragComps,e.beans.context)})),this.addListenersForCellComps()}},{key:"addListenersForCellComps",value:function(){var e=this;this.addManagedListeners(this.rowNode,{rowIndexChanged:function(){e.getAllCellCtrls().forEach((function(e){return e.onRowIndexChanged()}))},cellChanged:function(t){e.getAllCellCtrls().forEach((function(e){return e.onCellChanged(t)}))}})}},{key:"onRowNodeDataChanged",value:function(e){var t=this;this.isFullWidth()!==!!this.rowNode.isFullWidthCell()?this.beans.rowRenderer.redrawRow(this.rowNode):this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach((function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})})),this.allRowGuis.forEach((function(e){t.setRowCompRowId(e.rowComp),t.updateRowBusinessKey(),t.setRowCompRowBusinessKey(e.rowComp)})),this.onRowSelected(),this.postProcessCss())}},{key:"postProcessCss",value:function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}},{key:"onRowNodeHighlightChanged",value:function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach((function(t){var n=0===e,i=1===e;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)}))}},{key:"postProcessRowDragging",value:function(){var e=this.rowNode.dragging;this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)}))}},{key:"updateExpandedCss",value:function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),Wt(n.element,e&&t)}))}},{key:"onDisplayedColumnsChanged",value:function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}},{key:"onVirtualColumnsChanged",value:function(){this.updateColumnLists(!1,!0)}},{key:"getRowPosition",value:function(){return{rowPinned:J(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}},{key:"onKeyboardNavigate",value:function(e){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)}));if((t?t.element:null)===e.target){var n=this.rowNode,i=this.beans.focusService.getFocusedCell(),r={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:i&&i.column};this.beans.navigationService.navigateToNextCell(e,e.key,r,!0),e.preventDefault()}}},{key:"onTabKeyDown",value:function(e){if(!e.defaultPrevented&&!Z(e)){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)})),n=t?t.element:null,i=n===e.target,r=null;i||(r=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&i||!r)&&this.beans.navigationService.onTabKeyDown(this,e)}}},{key:"getFullWidthElement",value:function(){return this.fullWidthGui?this.fullWidthGui.element:null}},{key:"getRowYPosition",value:function(){var e,t=null===(e=this.allRowGuis.find((function(e){return Fn(e.element)})))||void 0===e?void 0:e.element;return t?t.getBoundingClientRect().top:0}},{key:"onFullWidthRowFocused",value:function(e){var t,n=this.rowNode,i=!!e&&(this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned),r=this.fullWidthGui?this.fullWidthGui.element:null===(t=this.centerGui)||void 0===t?void 0:t.element;r&&(r.classList.toggle("ag-full-width-focus",i),i&&null!==e&&void 0!==e&&e.forceBrowserFocus&&r.focus({preventScroll:!0}))}},{key:"recreateCell",value:function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}},{key:"removeCellCtrl",value:function(e,t){var n={list:[],map:{}};return e.list.forEach((function(e){e!==t&&(n.list.push(e),n.map[e.getColumn().getInstanceId()]=e)})),n}},{key:"onMouseEvent",value:function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}},{key:"createRowEvent",value:function(e,t){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:t})}},{key:"createRowEventWithSource",value:function(e,t){var n=this.createRowEvent(e,t);return n.source=this,n}},{key:"onRowDblClick",value:function(e){if(!Z(e)){var t=this.createRowEventWithSource("rowDoubleClicked",e);this.beans.eventService.dispatchEvent(t)}}},{key:"onRowMouseDown",value:function(e){if(this.lastMouseDownOnDragger=fn(e.target,"ag-row-drag",3),this.isFullWidth()){var t=this.rowNode,n=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();var i=this.getFullWidthElement(),r=e.target,o=!0;i&&i.contains(r)&&un(r)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:n.getAllCols()[0],rowPinned:t.rowPinned,forceBrowserFocus:o})}}},{key:"onRowClick",value:function(e){if(!(Z(e)||this.lastMouseDownOnDragger)){var t=this.createRowEventWithSource("rowClicked",e);this.beans.eventService.dispatchEvent(t);var n=e.ctrlKey||e.metaKey,i=e.shiftKey;if(!(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))){var r=this.gos.get("rowMultiSelectWithClick"),o=!this.gos.get("suppressRowDeselection"),a="rowClicked";if(this.rowNode.isSelected())r?this.rowNode.setSelectedParams({newValue:!1,event:e,source:a}):n?o&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:a}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:e,source:a});else{var s=!r&&!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:s,rangeSelect:i,event:e,source:a})}}}}},{key:"isRowSelectionBlocked",value:function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}},{key:"setupDetailRowAutoHeight",value:function(e){var t=this;if("FullWidthDetail"===this.rowType&&this.gos.get("detailRowAutoHeight")){var n=function(){var n=e.clientHeight;if(null!=n&&n>0){window.setTimeout((function(){t.rowNode.setRowHeight(n),("clientSide"===t.beans.rowModel.getType()||"serverSide"===t.beans.rowModel.getType())&&t.beans.rowModel.onRowHeightChanged()}),0)}},i=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(i),n()}}},{key:"createFullWidthCompDetails",value:function(e,t){var n=this,i=this.gos,r=this.rowNode,o=i.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(e,t,i,r){return n.addFullWidthRowDragging(e,t,i,r)},setTooltip:function(e,t){return n.refreshRowTooltip(e,t)}}),a=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return a.getFullWidthDetailCellRendererDetails(o);case"FullWidthGroup":return a.getFullWidthGroupCellRendererDetails(o);case"FullWidthLoading":return a.getFullWidthLoadingCellRendererDetails(o);default:return a.getFullWidthCellRendererDetails(o)}}},{key:"refreshRowTooltip",value:function(e,t){var n=this;if(this.fullWidthGui){var i={getGui:function(){return n.fullWidthGui.element},getTooltipValue:function(){return e},getLocation:function(){return"fullWidthRow"},shouldDisplayTooltip:t};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Bn(i,this.beans))}}},{key:"addFullWidthRowDragging",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;if(this.isFullWidth()){var o=new Ki((function(){return i}),this.rowNode,void 0,e,t,r);this.createBean(o,this.beans.context),this.addDestroyFunc((function(){n.destroyBean(o,n.beans.context)}))}}},{key:"onUiLevelChanged",value:function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(n,!1)}))}this.rowLevel=e}},{key:"isFirstRowOnPage",value:function(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}},{key:"isLastRowOnPage",value:function(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}},{key:"refreshFirstAndLastRowStyles",value:function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-first",e)}))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-last",t)})))}},{key:"stopEditing",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stoppingRowEdit||null===(e=this.beans.rowEditService)||void 0===e||e.stopEditing(this,t)}},{key:"setInlineEditingCss",value:function(e){this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))}},{key:"setEditingRow",value:function(e){this.editingRow=e}},{key:"startRowEditing",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.editingRow||null===(e=this.beans.rowEditService)||void 0===e||e.startEditing(this,t,n,i)}},{key:"getAllCellCtrls",value:function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[].concat((0,o.Z)(this.centerCellCtrls.list),(0,o.Z)(this.leftCellCtrls.list),(0,o.Z)(this.rightCellCtrls.list))}},{key:"postProcessClassesFromGridOptions",value:function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);t&&t.length&&t.forEach((function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}))}},{key:"postProcessRowClassRules",value:function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}),(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!1)}))}))}},{key:"setStylesFromGridOptions",value:function(e,t){var n=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,(function(e){return e.rowComp.setUserStyles(n.rowStyles)}))}},{key:"getPinnedForContainer",value:function(e){return"left"===e||"right"===e?e:null}},{key:"getInitialRowClasses",value:function(e){var t=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}},{key:"processStylesFromGridOptions",value:function(){var e=this.gos.get("rowStyle");if(!e||"function"!==typeof e){var t,n=this.gos.getCallback("getRowStyle");if(n)t=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});return t||e?Object.assign({},e,t):this.emptyStyle}De("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")}},{key:"onRowSelected",value:function(e){var t=this,n=!!this.rowNode.isSelected();this.forEachGui(e,(function(e){e.rowComp.addOrRemoveCssClass("ag-row-selected",n),qt(e.element,n),!e.element.contains(t.gos.getActiveDomElement())||e!==t.centerGui&&e!==t.fullWidthGui||t.announceDescription()}))}},{key:"announceDescription",value:function(){if(!this.isRowSelectionBlocked()){var e=this.rowNode.isSelected();if(!e||!this.gos.get("suppressRowDeselection")){var t=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(t)}}}},{key:"addHoverFunctionality",value:function(e){if(this.active){var t=this.rowNode,n=this.beans,i=this.gos;this.addManagedListeners(e,{mouseenter:function(){return t.onMouseEnter()},mouseleave:function(){return t.onMouseLeave()}}),this.addManagedListeners(t,{mouseEnter:function(){n.dragService.isDragging()||i.get("suppressRowHoverHighlight")||(e.classList.add("ag-row-hover"),t.setHovered(!0))},mouseLeave:function(){e.classList.remove("ag-row-hover"),t.setHovered(!1)}})}}},{key:"roundRowTopToBounds",value:function(e){var t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}},{key:"getFrameworkOverrides",value:function(){return this.beans.frameworkOverrides}},{key:"forEachGui",value:function(e,t){e?t(e):this.allRowGuis.forEach(t)}},{key:"onRowHeightChanged",value:function(e){if(null!=this.rowNode.rowHeight){var t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,r=i?"".concat(Math.min(n,i)-2,"px"):void 0;this.forEachGui(e,(function(e){e.element.style.height="".concat(t,"px"),r&&e.element.style.setProperty("--ag-line-height",r)}))}}},{key:"addEventListener",value:function(e,t){l(a(n.prototype),"addEventListener",this).call(this,e,t)}},{key:"removeEventListener",value:function(e,t){l(a(n.prototype),"removeEventListener",this).call(this,e,t)}},{key:"destroyFirstPass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.active=!1,!e&&this.gos.isAnimateRows()&&!this.isSticky()){var t=null!=this.rowNode.rowTop;if(t){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))}this.rowNode.setHovered(!1);var r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventService.dispatchEvent(r),l(a(n.prototype),"destroy",this).call(this)}},{key:"destroySecondPass",value:function(){this.allRowGuis.length=0,this.stopEditing();var e=function(e){return e.list.forEach((function(e){return e.destroy()})),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}},{key:"setFocusedClasses",value:function(e){var t=this;this.forEachGui(e,(function(e){e.rowComp.addOrRemoveCssClass("ag-row-focus",t.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!t.rowFocused)}))}},{key:"onCellFocusChanged",value:function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}},{key:"onPaginationChanged",value:function(){var e,t,n=null!==(e=null===(t=this.beans.paginationService)||void 0===t?void 0:t.getCurrentPage())&&void 0!==e?e:0;this.paginationPage!==n&&(this.paginationPage=n,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}},{key:"onTopChanged",value:function(){this.setRowTop(this.rowNode.rowTop)}},{key:"onPaginationPixelOffsetChanged",value:function(){this.onTopChanged()}},{key:"applyPaginationOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;var n=this.beans.pageBoundsService.getPixelOffset(),i=t?1:-1;return e+n*i}},{key:"setRowTop",value:function(e){if(!this.printLayout&&$(e)){var t=this.applyPaginationOffset(e),n=this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t),i="".concat(n,"px");this.setRowTopStyle(i)}}},{key:"getInitialRowTop",value:function(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}},{key:"getInitialTransform",value:function(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")}},{key:"getInitialRowTopShared",value:function(e){if(this.printLayout)return"";var t,n=this.rowNode;if(this.isSticky())t=n.stickyRowTop;else{var i=this.slideInAnimation[e]?this.roundRowTopToBounds(n.oldRowTop):n.rowTop,r=this.applyPaginationOffset(i);t=n.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return t+"px"}},{key:"setRowTopStyle",value:function(e){var t=this;this.allRowGuis.forEach((function(n){return t.suppressRowTransform?n.rowComp.setTop(e):n.rowComp.setTransform("translateY(".concat(e,")"))}))}},{key:"getRowNode",value:function(){return this.rowNode}},{key:"getCellCtrl",value:function(e){var t=null;return this.getAllCellCtrls().forEach((function(n){n.getColumn()==e&&(t=n)})),null!=t||this.getAllCellCtrls().forEach((function(n){n.getColSpanningList().indexOf(e)>=0&&(t=n)})),t}},{key:"onRowIndexChanged",value:function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}},{key:"getRowIndex",value:function(){return this.rowNode.getRowIndexString()}},{key:"updateRowIndexes",value:function(e){var t,n,i=this.rowNode.getRowIndexString();if(null!==i){var r=this.beans.headerNavigationService.getHeaderRowCount()+(null!==(t=null===(n=this.beans.filterManager)||void 0===n?void 0:n.getHeaderRowCount())&&void 0!==t?t:0),o=this.rowNode.rowIndex%2===0,a=r+this.rowNode.rowIndex+1;this.forEachGui(e,(function(e){e.rowComp.setRowIndex(i),e.rowComp.addOrRemoveCssClass("ag-row-even",o),e.rowComp.addOrRemoveCssClass("ag-row-odd",!o),_t(e.element,a)}))}}},{key:"setStoppingRowEdit",value:function(e){this.stoppingRowEdit=e}}]),n}(Y);ca.DOM_DATA_KEY_ROW_CTRL="renderedRow";var da=ca,ha=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).element=e,i}return k(n,[{key:"wireBeans",value:function(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}},{key:"postConstruct",value:function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}},{key:"addKeyboardListeners",value:function(){var e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,(0,g.Z)({},e,t))}},{key:"addMouseListeners",value:function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",K("touchstart")?"touchstart":"mousedown"].forEach((function(t){var n=e.processMouseEvent.bind(e,t);e.addManagedElementListeners(e.element,(0,g.Z)({},t,n))}))}},{key:"processMouseEvent",value:function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!Z(t)){var n=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,n,i):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}}},{key:"mockContextMenuForIPad",value:function(){var e=this;if(tn()){var t=new Zn(this.element);this.addManagedListeners(t,{longTap:function(t){var n=e.getRowForEvent(t.touchEvent),i=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(void 0,t.touchEvent,n,i)}}),this.addDestroyFunc((function(){return t.destroy()}))}}},{key:"getRowForEvent",value:function(e){for(var t=e.target;t;){var n=this.gos.getDomData(t,da.DOM_DATA_KEY_ROW_CTRL);if(n)return n;t=t.parentElement}return null}},{key:"handleContextMenuMouseEvent",value:function(e,t,n,i){var r=n?n.getRowNode():null,o=i?i.getColumn():null,a=null;if(o){var s=e||t;i.dispatchCellContextMenuEvent(null!==s&&void 0!==s?s:null),a=this.valueService.getValue(o,r)}var l=this.ctrlsService.getGridBodyCtrl(),u=i?i.getGui():l.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:o,value:a,anchorToElement:u})}},{key:"getControlsForEventTarget",value:function(e){return{cellCtrl:q(this.gos,e,la.DOM_DATA_KEY_CELL_CTRL),rowCtrl:q(this.gos,e,da.DOM_DATA_KEY_ROW_CTRL)}}},{key:"processKeyboardEvent",value:function(e,t){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,r=n.rowCtrl;t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}},{key:"processCellKeyboardEvent",value:function(e,t,n){var i=e.getRowNode(),r=e.getColumn(),o=e.isEditing();yr(this.gos,n,i,r,o)||"keydown"===t&&(!o&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),mr(n)&&e.processCharacter(n));if("keydown"===t){var a=e.createEvent(n,"cellKeyDown");this.eventService.dispatchEvent(a)}}},{key:"processFullWidthRowKeyboardEvent",value:function(e,t,n){var i=e.getRowNode(),r=this.focusService.getFocusedCell(),o=r&&r.column;if(!yr(this.gos,n,i,o,!1)){var a=n.key;if("keydown"===t)switch(a){case ni.PAGE_HOME:case ni.PAGE_END:case ni.PAGE_UP:case ni.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case ni.UP:case ni.DOWN:e.onKeyboardNavigate(n);break;case ni.TAB:e.onTabKeyDown(n)}}if("keydown"===t){var s=e.createRowEvent("cellKeyDown",n);this.eventService.dispatchEvent(s)}}},{key:"doGridOperations",value:function(e,t){if((e.ctrlKey||e.metaKey)&&!t&&this.mouseEventService.isEventFromThisGrid(e)){var n=function(e){var t;switch(e.keyCode){case 65:t=ni.A;break;case 67:t=ni.C;break;case 86:t=ni.V;break;case 68:t=ni.D;break;case 90:t=ni.Z;break;case 89:t=ni.Y;break;default:t=e.code}return t}(e);return n===ni.A?this.onCtrlAndA(e):n===ni.C?this.onCtrlAndC(e):n===ni.D?this.onCtrlAndD(e):n===ni.V?this.onCtrlAndV(e):n===ni.X?this.onCtrlAndX(e):n===ni.Y?this.onCtrlAndY():n===ni.Z?this.onCtrlAndZ(e):void 0}}},{key:"onCtrlAndA",value:function(e){var t=this.pinnedRowModel,n=this.rowModel,i=this.rangeService;if(i&&n.isRowsToRender()){var r,o,a=[t.isEmpty("top"),t.isEmpty("bottom")],s=a[0]?null:"top";a[1]?(r=null,o=n.getRowCount()-1):(r="bottom",o=t.getPinnedBottomRowNodes().length-1);var l=this.visibleColsService.getAllCols();if(te(l))return;i.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:o,rowEndPinned:r,columnStart:l[0],columnEnd:I(l)})}e.preventDefault()}},{key:"onCtrlAndC",value:function(e){if(this.clipboardService&&!this.gos.get("enableCellTextSelection")){var t=this.getControlsForEventTarget(e.target),n=t.cellCtrl,i=t.rowCtrl;null!==n&&void 0!==n&&n.isEditing()||null!==i&&void 0!==i&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}}},{key:"onCtrlAndX",value:function(e){if(this.clipboardService&&!this.gos.get("enableCellTextSelection")&&!this.gos.get("suppressCutToClipboard")){var t=this.getControlsForEventTarget(e.target),n=t.cellCtrl,i=t.rowCtrl;null!==n&&void 0!==n&&n.isEditing()||null!==i&&void 0!==i&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}}},{key:"onCtrlAndV",value:function(e){var t=this.getControlsForEventTarget(e.target),n=t.cellCtrl,i=t.rowCtrl;null!==n&&void 0!==n&&n.isEditing()||null!==i&&void 0!==i&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}},{key:"onCtrlAndD",value:function(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}},{key:"onCtrlAndZ",value:function(e){this.gos.get("undoRedoCellEditing")&&this.undoRedoService&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}},{key:"onCtrlAndY",value:function(){var e;null===(e=this.undoRedoService)||void 0===e||e.redo("ui")}}]),n}(Y),fa=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).element=e,i}return k(n,[{key:"wireBeans",value:function(e){this.pinnedWidthService=e.pinnedWidthService}},{key:"postConstruct",value:function(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}},{key:"onPinnedLeftWidthChanged",value:function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;cn(this.element,t),xn(this.element,e)}},{key:"getWidth",value:function(){return this.pinnedWidthService.getPinnedLeftWidth()}}]),n}(Y),va=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).element=e,i}return k(n,[{key:"wireBeans",value:function(e){this.pinnedWidthService=e.pinnedWidthService}},{key:"postConstruct",value:function(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}},{key:"onPinnedRightWidthChanged",value:function(){var e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;cn(this.element,t),xn(this.element,e)}},{key:"getWidth",value:function(){return this.pinnedWidthService.getPinnedRightWidth()}}]),n}(Y),pa=function(e){return e.getTopRowCtrls()},ga=function(e){return e.getStickyTopRowCtrls()},ma=function(e){return e.getStickyBottomRowCtrls()},ya=function(e){return e.getBottomRowCtrls()},Ca=function(e){return e.getCentreRowCtrls()},wa={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Ca},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Ca},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Ca},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Ca},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:pa},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:pa},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:pa},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:pa},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:ga},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:ga},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:ga},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:ga},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:ma},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:ma},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:ma},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:ma},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:ya},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:ya},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:ya},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:ya}};function Sa(e){return wa[e]}var ka=["center","left","right","fullWidth"],ba=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Ra=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Ea=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Fa=["stickyTopCenter","stickyTopLeft","stickyTopRight"],Pa=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Da=[].concat(Fa,["stickyTopFullWidth"],Pa,["stickyBottomFullWidth"]),xa=[].concat(["topCenter","topLeft","topRight"],["bottomCenter","bottomLeft","bottomRight"],["center","left","right"],Fa,Pa),Ma=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).visible=!0,i.EMPTY_CTRLS=[],i.name=e,i.options=Sa(e),i}return k(n,[{key:"wireBeans",value:function(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}},{key:"postConstruct",value:function(){var e=this;this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(function(){e.viewportSizeFeature=e.createManagedBean(new Yo(e)),e.addManagedEventListeners({stickyTopOffsetChanged:e.onStickyTopOffsetChanged.bind(e)})}))}},{key:"onStickyTopOffsetChanged",value:function(e){this.comp.setOffsetTop("".concat(e.offset,"px"))}},{key:"registerWithCtrlsService",value:function(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}},{key:"forContainers",value:function(e,t){e.indexOf(this.name)>=0&&t()}},{key:"getContainerElement",value:function(){return this.eContainer}},{key:"getViewportSizeFeature",value:function(){return this.viewportSizeFeature}},{key:"setComp",value:function(e,t,n){var i=this;this.comp=e,this.eContainer=t,this.eViewport=n,this.createManagedBean(new ha(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows(),this.forContainers(Ra,(function(){i.pinnedWidthFeature=i.createManagedBean(new fa(i.eContainer)),i.addManagedEventListeners({leftPinnedWidthChanged:function(){return i.onPinnedWidthChanged()}})})),this.forContainers(Ea,(function(){i.pinnedWidthFeature=i.createManagedBean(new va(i.eContainer)),i.addManagedEventListeners({rightPinnedWidthChanged:function(){return i.onPinnedWidthChanged()}})})),this.forContainers(ka,(function(){return i.createManagedBean(new Uo(i.eContainer,"center"===i.name?n:void 0))})),this.forContainers(xa,(function(){return i.createManagedBean(new Xo(i.eContainer))})),this.forContainers(ba,(function(){return i.createManagedBean(new bo((function(e){return i.comp.setContainerWidth("".concat(e,"px"))})))})),this.addListeners(),this.registerWithCtrlsService()}},{key:"addListeners",value:function(){var e=this;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:function(t){return e.onDisplayedRowsChanged(t.afterScroll)}}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}},{key:"listenOnDomOrder",value:function(){var e=this;if(Da.indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var t=function(){var t=e.gos.get("ensureDomOrder"),n=e.gos.isDomLayout("print");e.comp.setDomOrder(t||n)};this.addManagedPropertyListener("domLayout",t),t()}}},{key:"stopHScrollOnPinnedRows",value:function(){var e=this;this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],(function(){e.addManagedElementListeners(e.eViewport,{scroll:function(){return e.eViewport.scrollLeft=0}})}))}},{key:"onDisplayedColumnsChanged",value:function(){var e=this;this.forContainers(["center"],(function(){return e.onHorizontalViewportChanged()}))}},{key:"onDisplayedColumnsWidthChanged",value:function(){var e=this;this.forContainers(["center"],(function(){return e.onHorizontalViewportChanged()}))}},{key:"addPreventScrollWhileDragging",value:function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc((function(){return e.eContainer.removeEventListener("touchmove",t)}))}},{key:"onHorizontalViewportChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,n,e)}},{key:"getCenterWidth",value:function(){return gn(this.eViewport)}},{key:"getCenterViewportScrollLeft",value:function(){return Sn(this.eViewport,this.enableRtl)}},{key:"registerViewportResizeListener",value:function(e){var t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((function(){return t()}))}},{key:"isViewportInTheDOMTree",value:function(){return En(this.eViewport)}},{key:"getViewportScrollLeft",value:function(){return Sn(this.eViewport,this.enableRtl)}},{key:"isHorizontalScrollShowing",value:function(){var e;return this.gos.get("alwaysShowHorizontalScroll")||(e=this.eViewport).clientWidth<e.scrollWidth}},{key:"getViewportElement",value:function(){return this.eViewport}},{key:"setContainerTranslateX",value:function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")}},{key:"getHScrollPosition",value:function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}},{key:"setCenterViewportScrollLeft",value:function(e){kn(this.eViewport,e,this.enableRtl)}},{key:"isContainerVisible",value:function(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}},{key:"onPinnedWidthChanged",value:function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}},{key:"onDisplayedRowsChanged",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options.getRowCtrls(this.rowRenderer);if(this.visible&&0!==n.length){var i=this.gos.isDomLayout("print"),r=this.gos.get("embedFullWidthRows"),o=r||i,a=n.filter((function(t){var n=t.isFullWidth();return e.options.fullWidth?!o&&n:o||!n}));this.comp.setRowCtrls({rowCtrls:a,useFlushSync:t})}else this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS})}}]),n}(Y);function Aa(e){return e.map((function(e){return'<ag-row-container name="'.concat(e,'"></ag-row-container>')})).join("")}'<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root></ag-header-root>\n        <div class="ag-floating-top" data-ref="eTop" role="presentation">\n            '.concat(Aa(["topLeft","topCenter","topRight","topFullWidth"]),'\n        </div>\n        <div class="ag-body" data-ref="eBody" role="presentation">\n            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">\n            ').concat(Aa(["left","center","right","fullWidth"]),'\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">\n            ').concat(Aa(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]),'\n        </div>\n        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">\n            ').concat(Aa(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]),'\n        </div>\n        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">\n            ').concat(Aa(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]),"\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>");var Ta=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="scrollVisibleService",e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}},{key:"postConstruct",value:function(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}},{key:"onDisplayedColumnsChanged",value:function(){this.update()}},{key:"onDisplayedColumnsWidthChanged",value:function(){this.update()}},{key:"update",value:function(){var e=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn((function(){e.columnAnimationService.executeLaterVMTurn((function(){return e.updateImpl()}))})):this.updateImpl()}},{key:"updateImpl",value:function(){var e=this.ctrlsService.get("center");if(e&&!this.columnAnimationService.isActive()){var t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}}},{key:"setScrollsVisible",value:function(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;this.eventService.dispatchEvent({type:"scrollVisibilityChanged"})}}},{key:"isHorizontalScrollShowing",value:function(){return this.horizontalScrollShowing}},{key:"isVerticalScrollShowing",value:function(){return this.verticalScrollShowing}}]),n}(Y),La="__ag_grid_instance",Ia=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="mouseEventService",e.gridInstanceId=n.gridInstanceSequence.next(),e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService}},{key:"stampTopLevelGridCompWithGridInstance",value:function(e){e[La]=this.gridInstanceId}},{key:"getRenderedCellForEvent",value:function(e){return q(this.gos,e.target,la.DOM_DATA_KEY_CELL_CTRL)}},{key:"isEventFromThisGrid",value:function(e){return this.isElementInThisGrid(e.target)}},{key:"isElementInThisGrid",value:function(e){for(var t=e;t;){var n=t[La];if($(n))return n===this.gridInstanceId;t=t.parentElement}return!1}},{key:"getCellPositionForEvent",value:function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}},{key:"getNormalisedPosition",value:function(e){var t,n,i=this.gos.isDomLayout("normal"),r=e;if(null!=r.clientX||null!=r.clientY?(t=r.clientX,n=r.clientY):(t=r.x,n=r.y),i){var o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition();t+=o.getScrollFeature().getHScrollPosition().left,n+=a.top}return{x:t,y:n}}}]),n}(Y);Ia.gridInstanceSequence=new On;var Oa=Ia,Na=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this)).beanName="navigationService",e.onPageDown=Ne(e.onPageDown,100),e.onPageUp=Ne(e.onPageUp,100),e}return k(n,[{key:"wireBeans",value:function(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))}},{key:"handlePageScrollingKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e),s=!1;switch(n){case ni.PAGE_HOME:case ni.PAGE_END:r||i||(this.onHomeOrEndKey(n),s=!0);break;case ni.LEFT:case ni.RIGHT:case ni.UP:case ni.DOWN:if(!a)return!1;!r||i||o||(this.onCtrlUpDownLeftRight(n,a),s=!0);break;case ni.PAGE_DOWN:case ni.PAGE_UP:r||i||(s=this.handlePageUpDown(n,a,t))}return s&&e.preventDefault(),s}},{key:"handlePageUpDown",value:function(e,t,n){return n&&(t=this.focusService.getFocusedCell()),!!t&&(e===ni.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}},{key:"navigateTo",value:function(e){var t,n=e.scrollIndex,i=e.scrollType,r=e.scrollColumn,o=e.focusIndex,a=e.focusColumn;$(r)&&!r.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(r),$(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(o),this.focusService.setFocusedCell({rowIndex:o,column:a,rowPinned:null,forceBrowserFocus:!0}),null===(t=this.rangeService)||void 0===t||t.setRangeToCell({rowIndex:o,rowPinned:null,column:a})}},{key:"onPageDown",value:function(e){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),i=this.pageBoundsService.getPixelOffset(),r=t.top+n,o=this.rowModel.getRowIndexAtPixel(r+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}},{key:"onPageUp",value:function(e){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),i=t.top,r=this.rowModel.getRowIndexAtPixel(i+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r,!0):this.navigateToNextPage(e,r,!0)}},{key:"navigateToNextPage",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getViewportHeight(),o=this.pageBoundsService.getFirstRow(),a=this.pageBoundsService.getLastRow(),s=this.pageBoundsService.getPixelOffset(),l=this.rowModel.getRow(e.rowIndex),u=i?(null===l||void 0===l?void 0:l.rowHeight)-r-s:r-s,c=(null===l||void 0===l?void 0:l.rowTop)+u,d=this.rowModel.getRowIndexAtPixel(c+s);if(d===e.rowIndex){var h=i?-1:1;t=d=e.rowIndex+h}i?(n="bottom",d<o&&(d=o),t<o&&(t=o)):(n="top",d>a&&(d=a),t>a&&(t=a)),this.isRowTallerThanView(d)&&(t=d,n="top"),this.navigateTo({scrollIndex:t,scrollType:n,scrollColumn:null,focusIndex:d,focusColumn:e.column})}},{key:"navigateToNextPageWithAutoHeight",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((function(){var r=n.getNextFocusIndexForAutoHeight(e,i);n.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})}),50)}},{key:"getNextFocusIndexForAutoHeight",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?-1:1,i=this.getViewportHeight(),r=this.pageBoundsService.getLastRow(),o=0,a=e.rowIndex;a>=0&&a<=r;){var s=this.rowModel.getRow(a);if(s){var l,u=null!==(l=s.rowHeight)&&void 0!==l?l:0;if(o+u>i)break;o+=u}a+=n}return Math.max(0,Math.min(a,r))}},{key:"getViewportHeight",value:function(){var e=this.ctrlsService.getParams(),t=e.gridBodyCtrl,n=e.center,i=t.getScrollFeature().getVScrollPosition(),r=this.gos.getScrollbarWidth(),o=i.bottom-i.top;return n.isHorizontalScrollShowing()&&(o-=r),o}},{key:"isRowTallerThanView",value:function(e){var t=this.rowModel.getRow(e);if(!t)return!1;var n=t.rowHeight;return"number"===typeof n&&n>this.getViewportHeight()}},{key:"onCtrlUpDownLeftRight",value:function(e,t){var n=this.cellNavigationService.getNextCellToFocus(e,t,!0),i=n.rowIndex,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}},{key:"onHomeOrEndKey",value:function(e){var t=e===ni.PAGE_HOME,n=this.visibleColsService.getAllCols(),i=t?n[0]:I(n),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:i,focusIndex:r,focusColumn:i})}},{key:"onTabKeyDown",value:function(e,t){var n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t);if(!1===i)if(n){var r=e.getRowPosition(),o=r.rowIndex;(r.rowPinned?0===o:o===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof la&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&t.preventDefault();else i&&t.preventDefault()}},{key:"tabToNextCell",value:function(e,t){var n=this.focusService.getFocusedCell();if(!n)return!1;var i=this.getCellByPosition(n);return!!(i||(i=this.rowRenderer.getRowByPosition(n))&&i.isFullWidth())&&!!this.tabToNextCellCommon(i,e,t)}},{key:"tabToNextCellCommon",value:function(e,t,n){var i,r=e.isEditing();if(!r&&e instanceof la){var o=e.getRowCtrl();o&&(r=o.isEditing())}return null===(i=r?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,n):this.moveToNextEditingCell(e,t,n):this.moveToNextCellNotEditing(e,t))?i:i||!!this.focusService.getFocusedHeader()}},{key:"moveToNextEditingCell",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.getCellPosition();e.getGui().focus(),e.stopEditing();var r=this.findNextCellToFocusOn(i,t,!0);return!1===r?null:null!=r&&(r.startEditing(null,!0,n),r.focusCell(!1),!0)}},{key:"moveToNextEditingRow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.getCellPosition(),r=this.findNextCellToFocusOn(i,t,!0);if(!1===r)return null;if(null==r)return!1;var o=r.getCellPosition(),a=this.isCellEditable(i),s=this.isCellEditable(o),l=o&&i.rowIndex===o.rowIndex&&i.rowPinned===o.rowPinned;if(a&&e.setFocusOutOnEditor(),!l){var u=e.getRowCtrl();u.stopEditing();var c=r.getRowCtrl();c.startRowEditing(void 0,void 0,n)}return s?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}},{key:"moveToNextCellNotEditing",value:function(e,t){var n,i=this.visibleColsService.getAllCols();n=e instanceof da?y(y({},e.getRowPosition()),{},{column:t?i[0]:I(i)}):e.getCellPosition();var r=this.findNextCellToFocusOn(n,t,!1);if(!1===r)return null;if(r instanceof la)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return $(r)}},{key:"findNextCellToFocusOn",value:function(e,t,n){for(var i=e;;){var r;e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,t);var o=this.gos.getCallback("tabToNextCell");if($(o)){var a=o({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(!0===a||null===a)null===a&&De("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),i=e;else{if(!1===a)return!1;i={rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned}}}if(!i)return null;if(i.rowIndex<0){var s=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:s+i.rowIndex,column:i.column},fromCell:!0}),null}var l="fullRow"===this.gos.get("editType");if(n&&!l)if(!this.isCellEditable(i))continue;this.ensureCellVisible(i);var u=this.getCellByPosition(i);if(!u){var c=this.rowRenderer.getRowByPosition(i);if(!c||!c.isFullWidth()||n)continue;return c}if(!u.isSuppressNavigable())return null===(r=this.rangeService)||void 0===r||r.setRangeToCell(i),u}}},{key:"isCellEditable",value:function(e){var t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}},{key:"getCellByPosition",value:function(e){var t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}},{key:"lookupRowNodeForCell",value:function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}},{key:"navigateToNextCell",value:function(e,t,n,i){for(var r=n,o=!1;r&&(r===n||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===ni.LEFT&&(r=this.getLastCellOfColSpan(r)):t===ni.RIGHT&&(r=this.getLastCellOfColSpan(r)),o=ee(r=this.cellNavigationService.getNextCellToFocus(t,r));if(o&&e&&e.key===ni.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){var a=this.gos.getCallback("navigateToNextCell");if($(a)){var s=a({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});r=$(s)?{rowPinned:s.rowPinned,rowIndex:s.rowIndex,column:s.column}:null}}if(r)if(r.rowIndex<0){var l=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0})}else{var u=this.getNormalisedPosition(r);u?this.focusPosition(u):this.tryToFocusFullWidthRow(r)}}},{key:"getNormalisedPosition",value:function(e){this.ensureCellVisible(e);var t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}},{key:"tryToFocusFullWidthRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.visibleColsService.getAllCols(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;var r=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?I(n):n[0])};this.focusPosition(o);var a=null!=r&&this.rowPositionUtils.before(o,r),s={type:"fullWidthRowFocused",rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,fromBelow:a};return this.eventService.dispatchEvent(s),!0}},{key:"focusPosition",value:function(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),null===(t=this.rangeService)||void 0===t||t.setRangeToCell(e)}},{key:"isValidNavigateCell",value:function(e){return!!this.rowPositionUtils.getRowNode(e)}},{key:"getLastCellOfColSpan",value:function(e){var t=this.getCellByPosition(e);if(!t)return e;var n=t.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:I(n),rowPinned:e.rowPinned}}},{key:"ensureCellVisible",value:function(e){var t=this.gos.isGroupRowsSticky(),n=this.rowModel.getRow(e.rowIndex);!(t&&(null===n||void 0===n?void 0:n.sticky))&&ee(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}}]),n}(Y),Ga=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="horizontalResizeService",e}return k(n,[{key:"wireBeans",value:function(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}},{key:"addResizeBar",value:function(e){var t=this,n={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(n);return function(){return t.dragService.removeDragSource(n)}}},{key:"onDragStart",value:function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var n=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(n)}},{key:"setResizeIcons",value:function(){var e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}},{key:"onDragStop",value:function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}},{key:"resetIcons",value:function(){var e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}},{key:"onDragging",value:function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}}]),n}(Y),Ba=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="filterMenuFactory",e}return k(n,[{key:"wireBeans",value:function(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}},{key:"hideActiveMenu",value:function(){this.hidePopup&&this.hidePopup()}},{key:"showMenuAfterMouseEvent",value:function(e,t,n){var i=this;this.showPopup(e,(function(r){i.popupService.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})}),n,t.target,this.menuService.isLegacyMenuEnabled())}},{key:"showMenuAfterButtonClick",value:function(e,t,n){var i=this,r=-1,o="left",a=this.menuService.isLegacyMenuEnabled();!a&&this.gos.get("enableRtl")&&(r=1,o="right");var s=a?void 0:4*r,l=a?void 0:4;this.showPopup(e,(function(r){i.popupService.positionPopupByComponent({type:n,eventSource:t,ePopup:r,nudgeX:s,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})}),n,t,a)}},{key:"showPopup",value:function(e,t,n,i,o){var a=this,s=e?this.createBean(new er(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,null===s||void 0===s||!s.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");Nt(l,"presentation"),l.classList.add("ag-menu"),o||l.classList.add("ag-filter-menu");var u,c=this.addManagedElementListeners(l,{keydown:function(e){return a.trapFocusWithin(e,l)}}),d=(0,r.Z)(c,1);this.tabListener=d[0],l.appendChild(null===s||void 0===s?void 0:s.getGui());var h=this.menuService.isColumnMenuAnchoringEnabled()?null!==i&&void 0!==i?i:this.ctrlsService.getGridBodyCtrl().getGui():void 0,f=this.localeService.getLocaleTextFunc(),v=o&&"columnFilter"!==n?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),p=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(t){e.setMenuVisible(!1,"contextMenu");var r=t instanceof KeyboardEvent;if(a.tabListener&&(a.tabListener=a.tabListener()),r&&i&&Fn(i)){var o=a.focusService.findTabbableParent(i);o&&o.focus()}null===s||void 0===s||s.afterGuiDetached(),a.destroyBean(a.activeMenu),a.dispatchVisibleChangedEvent(!1,n,e)},positionCallback:function(){return t(l)},anchorToElement:h,ariaLabel:v});p&&(this.hidePopup=u=p.hideFunc),s.afterInit().then((function(){t(l),s.afterGuiAttached({container:n,hidePopup:u})})),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}},{key:"trapFocusWithin",value:function(e,t){e.key!==ni.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}},{key:"dispatchVisibleChangedEvent",value:function(e,t,n){var i={type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:null!==n&&void 0!==n?n:null};this.eventService.dispatchEvent(i)}},{key:"isMenuEnabled",value:function(e){var t;return e.isFilterAllowed()&&(null!==(t=e.getColDef().menuTabs)&&void 0!==t?t:["filterMenuTab"]).includes("filterMenuTab")}},{key:"showMenuAfterContextMenuEvent",value:function(){}},{key:"destroy",value:function(){this.destroyBean(this.activeMenu),l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),Ha=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="resizeObserverService",e.polyfillFunctions=[],e}return k(n,[{key:"observeResize",value:function(e,t){var n=this,i=this.gos.getWindow(),r=this.gos.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!r?function(){var n=new i.ResizeObserver(t);return n.observe(e),function(){return n.disconnect()}}():this.getFrameworkOverrides().wrapIncoming((function(){return function(){var i,r,o=null!==(i=null===e||void 0===e?void 0:e.clientWidth)&&void 0!==i?i:0,a=null!==(r=null===e||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0,s=!0;return function i(){if(s){var r,l,u=null!==(r=null===e||void 0===e?void 0:e.clientWidth)&&void 0!==r?r:0,c=null!==(l=null===e||void 0===e?void 0:e.clientHeight)&&void 0!==l?l:0;(u!==o||c!==a)&&(o=u,a=c,t()),n.doNextPolyfillTurn(i)}}(),function(){return s=!1}}()}),"resize-observer")}},{key:"doNextPolyfillTurn",value:function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}},{key:"schedulePolyfill",value:function(){var e=this;if(!this.polyfillScheduled){this.polyfillScheduled=!0,window.setTimeout((function(){var t=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],t.forEach((function(e){return e()}))}),50)}}}]),n}(Y),Va=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="animationFrameService",e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}},{key:"setScrollTop",value:function(e){var t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){var n,i,r=null!==(n=null===(i=this.paginationService)||void 0===i?void 0:i.getCurrentPage())&&void 0!==n?n:0;r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e}},{key:"postConstruct",value:function(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}},{key:"isOn",value:function(){return this.useAnimationFrame}},{key:"verifyAnimationFrameOn",value:function(e){!1===this.useAnimationFrame&&De("AnimationFrameService.".concat(e," called but animation frames are off"))}},{key:"createTask",value:function(e,t,n){this.verifyAnimationFrameOn(n);var i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}},{key:"cancelTask",value:function(e){this.cancelledTasks.add(e)}},{key:"addTaskToList",value:function(e,t){e.list.push(t),e.sorted=!1}},{key:"sortTaskList",value:function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort((function(e,n){return e.index!==n.index?t*(n.index-e.index):n.createOrder-e.createOrder})),e.sorted=!0}}},{key:"addDestroyTask",value:function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}},{key:"executeFrame",value:function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,n=t.list,i=this.createTasksP2,r=i.list,o=this.destroyTasks,a=(new Date).getTime(),s=(new Date).getTime()-a,l=e<=0,u=this.ctrlsService.getGridBodyCtrl();l||s<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){var c=void 0;if(n.length)this.sortTaskList(t),c=n.pop().task;else if(r.length)this.sortTaskList(i),c=r.pop().task;else{if(!o.length){this.cancelledTasks.clear();break}c=o.pop()}this.cancelledTasks.has(c)||c()}s=(new Date).getTime()-a}n.length||r.length||o.length?this.requestFrame():this.stopTicking()}},{key:"stopTicking",value:function(){this.ticking=!1}},{key:"flushAllFrames",value:function(){this.useAnimationFrame&&this.executeFrame(-1)}},{key:"schedule",value:function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}},{key:"requestFrame",value:function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}},{key:"requestAnimationFrame",value:function(e){var t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}},{key:"isQueueEmpty",value:function(){return!this.ticking}},{key:"debounce",value:function(e){var t=this,n=!1;return function(){t.isOn()?n||(n=!0,t.addDestroyTask((function(){n=!1,e()}))):window.setTimeout(e,0)}}}]),n}(Y),Wa=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="expansionService",e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel}},{key:"postConstruct",value:function(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}},{key:"expandRows",value:function(e){if(this.isClientSideRowModel){var t=new Set(e);this.rowModel.forEachNode((function(e){e.id&&t.has(e.id)&&(e.expanded=!0)})),this.onGroupExpandedOrCollapsed()}}},{key:"getExpandedRows",value:function(){var e=[];return this.rowModel.forEachNode((function(t){var n=t.expanded,i=t.id;n&&i&&e.push(i)})),e}},{key:"expandAll",value:function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}},{key:"setRowNodeExpanded",value:function(e,t,n,i){e&&(n&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,n,i),e.setExpanded(t,void 0,i))}},{key:"onGroupExpandedOrCollapsed",value:function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}}]),n}(Y),za=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="menuService",e}return k(n,[{key:"wireBeans",value:function(e){this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}},{key:"postConstruct",value:function(){var e;this.activeMenuFactory=null!==(e=this.enterpriseMenuFactory)&&void 0!==e?e:this.filterMenuFactory}},{key:"showColumnMenu",value:function(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}},{key:"showFilterMenu",value:function(e){var t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}},{key:"showHeaderContextMenu",value:function(e,t,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,n)}},{key:"getContextMenuPosition",value:function(e,t){var n=this.getRowCtrl(e),i=this.getCellGui(n,t);if(!i)return n?{x:0,y:n.getRowYPosition()}:{x:0,y:0};var r=i.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}},{key:"showContextMenu",value:function(e){var t,n,i,r=e.rowNode,o=e.column,a=e.anchorToElement,s=e.value;r&&o&&null==s&&(s=r.getValueFromValueService(o)),null==a&&(a=this.getContextMenuAnchorElement(r,o)),null===(t=this.contextMenuFactory)||void 0===t||t.onContextMenu(null!==(n=e.mouseEvent)&&void 0!==n?n:null,null!==(i=e.touchEvent)&&void 0!==i?i:null,null!==r&&void 0!==r?r:null,null!==o&&void 0!==o?o:null,s,a)}},{key:"showColumnChooser",value:function(e){var t;null===(t=this.columnChooserFactory)||void 0===t||t.showColumnChooser(e)}},{key:"hidePopupMenu",value:function(){var e;null===(e=this.contextMenuFactory)||void 0===e||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}},{key:"hideColumnChooser",value:function(){var e;null===(e=this.columnChooserFactory)||void 0===e||e.hideActiveColumnChooser()}},{key:"isColumnMenuInHeaderEnabled",value:function(e){var t=e.getColDef(),n=t.suppressMenu,i=t.suppressHeaderMenuButton;return!(null!==i&&void 0!==i?i:n)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}},{key:"isFilterMenuInHeaderEnabled",value:function(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!(null===(t=this.filterManager)||void 0===t||!t.isFilterAllowed(e))}},{key:"isHeaderContextMenuEnabled",value:function(e){return!(null!==e&&void 0!==e&&e.getColDef().suppressHeaderContextMenu)&&"new"===this.getColumnMenuType()}},{key:"isHeaderMenuButtonAlwaysShowEnabled",value:function(){return this.isSuppressMenuHide()}},{key:"isHeaderMenuButtonEnabled",value:function(){var e=!this.isSuppressMenuHide();return!(tn()&&e)}},{key:"isHeaderFilterButtonEnabled",value:function(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}},{key:"isFilterMenuItemEnabled",value:function(e){var t;return!(null===(t=this.filterManager)||void 0===t||!t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}},{key:"isColumnMenuAnchoringEnabled",value:function(){return!this.isLegacyMenuEnabled()}},{key:"areAdditionalColumnMenuItemsEnabled",value:function(){return"new"===this.getColumnMenuType()}},{key:"isLegacyMenuEnabled",value:function(){return"legacy"===this.getColumnMenuType()}},{key:"isFloatingFilterButtonEnabled",value:function(e){var t,n=e.getColDef(),i=null===(t=n.floatingFilterComponentParams)||void 0===t?void 0:t.suppressFilterButton;return null!=i&&De("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==n.suppressFloatingFilterButton?!i:!n.suppressFloatingFilterButton}},{key:"getColumnMenuType",value:function(){return this.gos.get("columnMenu")}},{key:"isFloatingFilterButtonDisplayed",value:function(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}},{key:"isSuppressMenuHide",value:function(){var e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}},{key:"showColumnMenuCommon",value:function(e,t,n,i){var r=this,o=t.positionBy,a=t.column;if("button"===o){var s=t.buttonElement;e.showMenuAfterButtonClick(a,s,n,i)}else if("mouse"===o){var l=t.mouseEvent;e.showMenuAfterMouseEvent(a,l,n,i)}else a&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(a,"auto"),this.animationFrameService.requestAnimationFrame((function(){var t=r.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()).getHeaderCtrlForColumn(a);e.showMenuAfterButtonClick(a,t.getAnchorElementForMenu(i),n,!0)})))}},{key:"getRowCtrl",value:function(e){var t=e||{},n=t.rowIndex,i=t.rowPinned;if(null!=n)return this.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:i})||void 0}},{key:"getCellGui",value:function(e,t){if(e&&t){var n=e.getCellCtrl(t);return(null===n||void 0===n?void 0:n.getGui())||void 0}}},{key:"getContextMenuAnchorElement",value:function(e,t){var n=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),i=this.getRowCtrl(e);if(!i)return n;var r=this.getCellGui(i,t);return r||(i.isFullWidth()?i.getFullWidthElement():n)}}]),n}(Y),_a=function(e){c(n,e);var t=p(n);function n(e){return C(this,n),t.call(this,e,"ag-text-area",null,"textarea")}return k(n,[{key:"setValue",value:function(e,t){var i=l(a(n.prototype),"setValue",this).call(this,e,t);return this.eInput.value=e,i}},{key:"setCols",value:function(e){return this.eInput.cols=e,this}},{key:"setRows",value:function(e){return this.eInput.rows=e,this}}]),n}(ri),Ua={selector:"AG-INPUT-TEXT-AREA",component:_a},ja=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[Ua])).eTextArea=Vn,e}return k(n,[{key:"init",value:function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),$(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}},{key:"onKeyDown",value:function(e){var t=e.key;(t===ni.LEFT||t===ni.UP||t===ni.RIGHT||t===ni.DOWN||e.shiftKey&&t===ni.ENTER)&&e.stopPropagation()}},{key:"afterGuiAttached",value:function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}},{key:"getValue",value:function(){var e=this.eTextArea.getValue();return $(e)||$(this.params.value)?this.params.parseValue(e):this.params.value}}]),n}(fi),Za=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')).params=e,i}return k(n,[{key:"postConstruct",value:function(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}},{key:"addKeyDownListener",value:function(){var e=this,t=this.getGui(),n=this.params;this.addManagedElementListeners(t,{keydown:function(t){yr(e.gos,t,n.node,n.column,!0)||n.onKeyDown(t)}})}}]),n}(fi),Ka=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[fr])).eSelect=Vn,e.startedByEnter=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.valueService=e.valueService}},{key:"init",value:function(e){this.focusAfterAttached=e.cellStartedEdit;var t=this.eSelect,n=this.valueService,i=this.gos,r=e.values,o=e.value,a=e.eventKey;if(ee(r))De("no values found for select cellEditor");else{this.startedByEnter=null!=a&&a===ni.ENTER;var s=!1;r.forEach((function(i){var r={value:i},a=n.formatValue(e.column,null,i),l=null!==a&&void 0!==a;r.text=l?a:i,t.addOption(r),s=s||o===i})),s?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);var l=e.valueListGap,u=e.valueListMaxWidth,c=e.valueListMaxHeight;null!=l&&t.setPickerGap(l),null!=c&&t.setPickerMaxHeight(c),null!=u&&t.setPickerMaxWidth(u),"fullRow"!==i.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:function(){return e.stopEditing()}})}}},{key:"afterGuiAttached",value:function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((function(){e.isAlive()&&e.eSelect.showPicker()}))}},{key:"focusIn",value:function(){this.eSelect.getFocusableElement().focus()}},{key:"getValue",value:function(){return this.eSelect.getValue()}},{key:"isPopup",value:function(){return!1}}]),n}(fi),qa=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '.concat(e.getTemplate(),"\n            </div>"),e.getAgComponents())).cellEditorInput=e,i.eInput=Vn,i}return k(n,[{key:"init",value:function(e){this.params=e;var t,n=this.eInput;if(this.cellEditorInput.init(n,e),e.cellStartedEdit){this.focusAfterAttached=!0;var i=e.eventKey;i===ni.BACKSPACE||e.eventKey===ni.DELETE?t="":i&&1===i.length?t=i:(t=this.cellEditorInput.getStartValue(),i!==ni.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,t=this.cellEditorInput.getStartValue();null!=t&&n.setStartValue(t),this.addManagedElementListeners(n.getGui(),{keydown:function(e){var t=e.key;t!==ni.PAGE_UP&&t!==ni.PAGE_DOWN||e.preventDefault()}})}},{key:"afterGuiAttached",value:function(){var e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){Yt()||t.getFocusableElement().focus();var n,i,r=t.getInputElement();if(this.highlightAllOnFocus)r.select();else null===(n=(i=this.cellEditorInput).setCaret)||void 0===n||n.call(i)}}},{key:"focusIn",value:function(){var e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}},{key:"getValue",value:function(){return this.cellEditorInput.getValue()}},{key:"isPopup",value:function(){return!1}}]),n}(fi),Qa=function(){function e(){C(this,e)}return k(e,[{key:"getTemplate",value:function(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}},{key:"getAgComponents",value:function(){return[wr]}},{key:"init",value:function(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}},{key:"getValue",value:function(){var e=this.eInput.getValue();return $(e)||$(this.params.value)?this.params.parseValue(e):this.params.value}},{key:"getStartValue",value:function(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}},{key:"setCaret",value:function(){var e=this.eInput.getValue(),t=$(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}}]),e}(),Ya=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.call(this,new Qa)}return k(n)}(qa),Xa=function(){function e(){C(this,e)}return k(e,[{key:"getTemplate",value:function(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}},{key:"getAgComponents",value:function(){return[kr]}},{key:"init",value:function(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);var n=e.getInputElement();t.preventStepping?e.addManagedElementListeners(n,{keydown:this.preventStepping}):t.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}},{key:"preventStepping",value:function(e){e.key!==ni.UP&&e.key!==ni.DOWN||e.preventDefault()}},{key:"getValue",value:function(){var e=this.eInput.getValue();if(!$(e)&&!$(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(null==t)return t;if("string"===typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}},{key:"getStartValue",value:function(){return this.params.value}}]),e}(),Ja=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.call(this,new Xa)}return k(n)}(qa),$a={selector:"AG-INPUT-DATE-FIELD",component:function(e){c(n,e);var t=p(n);function n(e){return C(this,n),t.call(this,e,"ag-date-field","date")}return k(n,[{key:"postConstruct",value:function(){var e=this;l(a(n.prototype),"postConstruct",this).call(this);var t=Yt();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:function(){e.isDisabled()||t||e.eInput.focus()}}),this.eInput.step="any"}},{key:"onWheel",value:function(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}},{key:"setMin",value:function(e){var t,n=e instanceof Date?null!==(t=Nr(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0:e;return this.min===n||(this.min=n,Ln(this.eInput,"min",n)),this}},{key:"setMax",value:function(e){var t,n=e instanceof Date?null!==(t=Nr(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0:e;return this.max===n||(this.max=n,Ln(this.eInput,"max",n)),this}},{key:"setStep",value:function(e){return this.step===e||(this.step=e,Ln(this.eInput,"step",e)),this}},{key:"getDate",value:function(){var e;if(this.eInput.validity.valid)return null!==(e=Hr(this.getValue()))&&void 0!==e?e:void 0}},{key:"setDate",value:function(e,t){this.setValue(Nr(null!==e&&void 0!==e?e:null,!1),t)}}]),n}(Cr)},es=function(){function e(){C(this,e)}return k(e,[{key:"getTemplate",value:function(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}},{key:"getAgComponents",value:function(){return[$a]}},{key:"init",value:function(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}},{key:"getValue",value:function(){var e=this.eInput.getDate();return $(e)||$(this.params.value)?null!==e&&void 0!==e?e:null:this.params.value}},{key:"getStartValue",value:function(){var e=this.params.value;if(e instanceof Date)return Nr(e,!1)}}]),e}(),ts=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.call(this,new es)}return k(n)}(qa),ns=function(){function e(t){C(this,e),this.getDataTypeService=t}return k(e,[{key:"getTemplate",value:function(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}},{key:"getAgComponents",value:function(){return[$a]}},{key:"init",value:function(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}},{key:"getValue",value:function(){var e=this.formatDate(this.eInput.getDate());return $(e)||$(this.params.value)?this.params.parseValue(null!==e&&void 0!==e?e:""):this.params.value}},{key:"getStartValue",value:function(){var e,t;return Nr(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)}},{key:"parseDate",value:function(e){var t,n=this.getDataTypeService();return n?n.getDateParserFunction(this.params.column)(e):null!==(t=Hr(e))&&void 0!==t?t:void 0}},{key:"formatDate",value:function(e){var t,n=this.getDataTypeService();return n?n.getDateFormatterFunction(this.params.column)(e):null!==(t=Nr(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0}}]),e}(),is=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),e=t.call(this,new ns((function(){return e.dataTypeService})))}return k(n,[{key:"wireBeans",value:function(e){this.dataTypeService=e.dataTypeService}}]),n}(qa),rs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[ai])).eCheckbox=Vn,e}return k(n,[{key:"init",value:function(e){var t,n=this;this.params=e;var i=null!==(t=e.value)&&void 0!==t?t:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:function(e){return n.setAriaLabel(e.selected)}})}},{key:"getValue",value:function(){return this.eCheckbox.getValue()}},{key:"focusIn",value:function(){this.eCheckbox.getFocusableElement().focus()}},{key:"afterGuiAttached",value:function(){this.params.cellStartedEdit&&this.focusIn()}},{key:"isPopup",value:function(){return!1}},{key:"setAriaLabel",value:function(e){var t=this.localeService.getLocaleTextFunc(),n=Qt(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(i," (").concat(n,")"))}}]),n}(fi),os=k((function e(t){C(this,e),this.cellValueChanges=t})),as=function(e){c(n,e);var t=p(n);function n(e,i,r,o){var a;return C(this,n),(a=t.call(this,e)).initialRange=i,a.finalRange=r,a.ranges=o,a}return k(n)}(os),ss=function(){function e(t){C(this,e),this.actionStack=[],this.maxStackSize=t||10,this.actionStack=new Array(this.maxStackSize)}return k(e,[{key:"pop",value:function(){return this.actionStack.pop()}},{key:"push",value:function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}},{key:"clear",value:function(){this.actionStack=[]}},{key:"getCurrentStackSize",value:function(){return this.actionStack.length}}]),e}(),ls=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="undoRedoService",e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(t){var n={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),r=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(i||r||e.isPasting||e.isRangeInAction){var o=t.rowPinned,a=t.rowIndex,s=t.column,l=t.oldValue,u=t.value,c={rowPinned:o,rowIndex:a,columnId:s.getColId(),newValue:u,oldValue:l};e.cellValueChanges.push(c)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return k(n,[{key:"wireBeans",value:function(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}},{key:"postConstruct",value:function(){var e=this;if(this.gos.get("undoRedoCellEditing")){var t=this.gos.get("undoRedoCellEditingLimit");if(!(t<=0)){this.undoStack=new ss(t),this.redoStack=new ss(t),this.addListeners();var n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:function(t){t.keepUndoRedoStack||e.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),this.ctrlsService.whenReady((function(t){e.gridBodyCtrl=t.gridBodyCtrl}))}}}},{key:"getCurrentUndoStackSize",value:function(){return this.undoStack?this.undoStack.getCurrentStackSize():0}},{key:"getCurrentRedoStackSize",value:function(){return this.redoStack?this.redoStack.getCurrentStackSize():0}},{key:"undo",value:function(e){var t={type:"undoStarted",source:e};this.eventService.dispatchEvent(t);var n={type:"undoEnded",source:e,operationPerformed:this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo")};this.eventService.dispatchEvent(n)}},{key:"redo",value:function(e){var t={type:"redoStarted",source:e};this.eventService.dispatchEvent(t);var n={type:"redoEnded",source:e,operationPerformed:this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo")};this.eventService.dispatchEvent(n)}},{key:"undoRedo",value:function(e,t,n,i,r){if(!e)return!1;var o=e.pop();return!(!o||!o.cellValueChanges)&&(this.processAction(o,(function(e){return e[i]}),r),o instanceof as?this.processRange(this.rangeService,o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}},{key:"processAction",value:function(e,t,n){var i=this;e.cellValueChanges.forEach((function(e){var r=e.rowIndex,o=e.rowPinned,a=e.columnId,s={rowIndex:r,rowPinned:o},l=i.rowPositionUtils.getRowNode(s);l.displayed&&l.setDataValue(a,t(e),n)}))}},{key:"processRange",value:function(e,t){var n,i=this;e.removeAllCellRanges(!0),t.forEach((function(r,o){if(r){var a=r.startRow,s=r.endRow;o===t.length-1&&(n={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:r.startColumn.getColId()},i.setLastFocusedCell(n));var l={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:r.startColumn,columns:r.columns};e.addCellRange(l)}}))}},{key:"processCell",value:function(e){var t=e[0],n={rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=this.rowPositionUtils.getRowNode(n),r={rowPinned:t.rowPinned,rowIndex:i.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r,this.rangeService)}},{key:"setLastFocusedCell",value:function(e,t){var n=e.rowIndex,i=e.columnId,r=e.rowPinned,o=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getCol(i);if(a){o.ensureIndexVisible(n),o.ensureColumnVisible(a);var s={rowIndex:n,column:a,rowPinned:r};this.focusService.setFocusedCell(y(y({},s),{},{forceBrowserFocus:!0})),null===t||void 0===t||t.setRangeToCell(s)}}},{key:"addListeners",value:function(){var e=this;this.addManagedEventListeners({rowEditingStarted:function(t){e.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}},rowEditingStopped:function(){var t=new os(e.cellValueChanges);e.pushActionsToUndoStack(t),e.activeRowEdit=null},cellEditingStarted:function(t){e.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}},cellEditingStopped:function(t){if(e.activeCellEdit=null,t.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var n=new os(e.cellValueChanges);e.pushActionsToUndoStack(n)}},pasteStart:function(){e.isPasting=!0},pasteEnd:function(){var t=new os(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1},fillStart:function(){e.isRangeInAction=!0},fillEnd:function(t){var n=new as(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(n),e.isRangeInAction=!1},keyShortcutChangedCellStart:function(){e.isRangeInAction=!0},keyShortcutChangedCellEnd:function(){var t;t=e.rangeService&&e.gos.get("enableRangeSelection")?new as(e.cellValueChanges,void 0,void 0,(0,o.Z)(e.rangeService.getCellRanges())):new os(e.cellValueChanges),e.pushActionsToUndoStack(t),e.isRangeInAction=!1}})}},{key:"pushActionsToUndoStack",value:function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}]),n}(Y);function us(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";e.frameworkOverrides.wrapIncoming((function(){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,n)}),"ensureVisible")}function cs(e,t,n){e.frameworkOverrides.wrapIncoming((function(){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,n)}),"ensureVisible")}var ds=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="editService",e}return k(n,[{key:"wireBeans",value:function(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}},{key:"startEditing",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.createCellEditorParams(e,t,n),o=e.getColumn().getColDef(),a=this.userComponentFactory.getCellEditorDetails(o,r),s=null!=(null===a||void 0===a?void 0:a.popupFromSelector)?a.popupFromSelector:!!o.cellEditorPopup,l=null!=(null===a||void 0===a?void 0:a.popupPositionFromSelector)?a.popupPositionFromSelector:o.cellEditorPopupPosition;e.setEditing(!0,a),e.getComp().setEditDetails(a,s,l,this.gos.get("reactiveCustomComponents"));var u=e.createEvent(i,"cellEditingStarted");this.eventService.dispatchEvent(u)}},{key:"stopEditing",value:function(e,t){var n=e.getComp(),i=this.takeValueFromCellEditor(t,n),r=i.newValue,o=i.newValueExists,a=e.getRowNode(),s=e.getColumn(),l=a.getValueFromValueService(s),u=!1;o&&(u=this.saveNewValue(e,l,r,a,s)),e.setEditing(!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0});var c=y(y({},e.createEvent(null,"cellEditingStopped")),{},{oldValue:l,newValue:r,valueChanged:u});return this.eventService.dispatchEvent(c),u}},{key:"handleColDefChanged",value:function(e){var t=e.getCellEditor();if(null!==t&&void 0!==t&&t.refresh){var n=e.getEditCompDetails().params,i=n.eventKey,r=n.cellStartedEdit,o=this.createCellEditorParams(e,i,r),a=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(a,o);t.refresh(s.params)}}},{key:"setFocusOutOnEditor",value:function(e){var t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}},{key:"setFocusInOnEditor",value:function(e){var t=e.getComp().getCellEditor();t&&t.focusIn?t.focusIn():e.focusCell(!0)}},{key:"stopEditingAndFocus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(n,e.getCellPosition())}},{key:"createPopupEditorWrapper",value:function(e){return new Za(e)}},{key:"takeValueFromCellEditor",value:function(e,t){var n={newValueExists:!1};if(e)return n;var i=t.getCellEditor();return i?i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}:n}},{key:"saveNewValue",value:function(e,t,n,i,r){if(n===t)return!1;e.setSuppressRefreshCell(!0);var o=i.setDataValue(r,n,"edit");return e.setSuppressRefreshCell(!1),o}},{key:"createCellEditorParams",value:function(e,t,n){var i=this,r=e.getColumn(),o=e.getRowNode();return this.gos.addGridCommonParams({value:o.getValueFromValueService(r),eventKey:t,column:r,colDef:r.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:o,data:o.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:function(t){return i.valueService.parseValue(r,o,t,e.getValue())},formatValue:e.formatValue.bind(e)})}},{key:"navigateAfterEdit",value:function(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){var n=e?ni.UP:ni.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}}]),n}(Y),hs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowEditService",e}return k(n,[{key:"startEditing",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.getAllCellCtrls().reduce((function(e,r){var o=r===n;return o?r.startEditing(t,o,i):r.startEditing(null,o,i),!!e||r.isEditing()}),!1);r&&this.setEditing(e,!0)}},{key:"stopEditing",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAllCellCtrls(),i=e.isEditing();e.setStoppingRowEdit(!0);var r,o=!1,a=x(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.stopEditing(t);i&&!t&&!o&&l&&(o=!0)}}catch(Am){a.e(Am)}finally{a.f()}if(o){var u=e.createRowEvent("rowValueChanged");this.eventService.dispatchEvent(u)}i&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}},{key:"setEditing",value:function(e,t){e.setEditingRow(t),e.forEachGui(void 0,(function(e){return e.rowComp.addOrRemoveCssClass("ag-row-editing",t)}));var n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(n)}}]),n}(Y),fs={version:eo,moduleName:"@ag-grid-community/edit-core",beans:[ds]},vs={version:eo,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function(e){var t;null===(t=e.undoRedoService)||void 0===t||t.undo("api")},redoCellEditing:function(e){var t;null===(t=e.undoRedoService)||void 0===t||t.redo("api")},getCellEditorInstances:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.rowRenderer.getCellEditorInstances(t),i=n.map(Vi);return i},getEditingCells:function(e){return e.rowRenderer.getEditingCells()},stopEditing:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.rowRenderer.stopEditing(t)},startEditingCell:function(e,t){var n=e.columnModel.getCol(t.colKey);if(n){var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};null==t.rowPinned&&cs(e,t.rowIndex),us(e,t.colKey);var r=e.navigationService.getCellByPosition(i);r&&(e.focusService.isCellFocused(i)||e.focusService.setFocusedCell(i),r.startRowOrCellEdit(t.key))}else De("no column found for ".concat(t.colKey))},getCurrentUndoSize:function(e){var t,n;return null!==(t=null===(n=e.undoRedoService)||void 0===n?void 0:n.getCurrentUndoStackSize())&&void 0!==t?t:0},getCurrentRedoSize:function(e){var t,n;return null!==(t=null===(n=e.undoRedoService)||void 0===n?void 0:n.getCurrentRedoStackSize())&&void 0!==t?t:0}},dependantModules:[fs]},ps={version:eo,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:Ya}],dependantModules:[fs]},gs={version:eo,moduleName:"@ag-grid-community/editing",dependantModules:[fs,{version:eo,moduleName:"@ag-grid-community/undo-redo-edit",beans:[ls],dependantModules:[fs]},{version:eo,moduleName:"@ag-grid-community/full-row-edit",beans:[hs],dependantModules:[fs]},{version:eo,moduleName:"@ag-grid-community/all-editors",dependantModules:[ps,{version:eo,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:Ya},{name:"agNumberCellEditor",classImp:Ja},{name:"agDateCellEditor",classImp:ts},{name:"agDateStringCellEditor",classImp:is},{name:"agCheckboxCellEditor",classImp:rs}],dependantModules:[ps]},{version:eo,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:Ka}],dependantModules:[fs]},{version:eo,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:ja}],dependantModules:[fs]}]},vs]},ms=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="autoWidthCalculator",e}return k(n,[{key:"wireBeans",value:function(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowContainerCtrl=t.center}))}},{key:"getPreferredWidthForColumn",value:function(e,t){var n=this.getHeaderCellForColumn(e);if(!n)return-1;var i=this.rowRenderer.getAllCellsForColumn(e);return t||i.push(n),this.addElementsToContainerAndGetWidth(i)}},{key:"getPreferredWidthForColumnGroup",value:function(e){var t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}},{key:"addElementsToContainerAndGetWidth",value:function(e){var t=this,n=document.createElement("form");n.style.position="fixed";var i=this.centerRowContainerCtrl.getContainerElement();e.forEach((function(e){return t.cloneItemIntoDummy(e,n)})),i.appendChild(n);var r=n.offsetWidth;return i.removeChild(n),r+this.getAutoSizePadding()}},{key:"getAutoSizePadding",value:function(){return this.gos.get("autoSizePadding")}},{key:"getHeaderCellForColumn",value:function(e){var t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(n){var i=n.getHtmlElementForColumnHeader(e);null!=i&&(t=i)})),t}},{key:"cloneItemIntoDummy",value:function(e,t){var n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some((function(e){return n.classList.contains(e)}))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");for(var o=e.parentElement;o;){if(["ag-header-row","ag-row"].some((function(e){return o.classList.contains(e)}))){for(var a=0;a<o.classList.length;a++){var s=o.classList[a];"ag-row-position-absolute"!=s&&r.add(s)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}}]),n}(Y),ys=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).createRowCon=e,r.destroyRowCtrls=i,r.stickyTopRowCtrls=[],r.stickyBottomRowCtrls=[],r.topContainerHeight=0,r.bottomContainerHeight=0,r.extraTopHeight=0,r.extraBottomHeight=0,r}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}},{key:"postConstruct",value:function(){var e=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((function(t){e.gridBodyCtrl=t.gridBodyCtrl}))}},{key:"getStickyTopRowCtrls",value:function(){return this.stickyTopRowCtrls}},{key:"getStickyBottomRowCtrls",value:function(){return this.stickyBottomRowCtrls}},{key:"setOffsetTop",value:function(e){if(this.extraTopHeight!==e){this.extraTopHeight=e;var t={type:"stickyTopOffsetChanged",offset:e};this.eventService.dispatchEvent(t)}}},{key:"setOffsetBottom",value:function(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}},{key:"resetOffsets",value:function(){this.setOffsetBottom(0),this.setOffsetTop(0)}},{key:"getExtraTopHeight",value:function(){return this.extraTopHeight}},{key:"getExtraBottomHeight",value:function(){return this.extraBottomHeight}},{key:"getLastPixelOfGroup",value:function(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}},{key:"getFirstPixelOfGroup",value:function(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}},{key:"getServerSideLastPixelOfGroup",value:function(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){var t,n,i,r,o,a,s=null===(t=e.childStore)||void 0===t?void 0:t.getStoreBounds();if(e.footer)s=null===(a=e.sibling.childStore)||void 0===a?void 0:a.getStoreBounds();return(null!==(n=null===(i=s)||void 0===i?void 0:i.heightPx)&&void 0!==n?n:0)+(null!==(r=null===(o=s)||void 0===o?void 0:o.topPx)&&void 0!==r?r:0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}},{key:"getClientSideLastPixelOfGroup",value:function(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){for(var t=e.footer?e.sibling:e;t.isExpandable()&&t.expanded;)if(t.master)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=I(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}},{key:"updateStickyRows",value:function(e){var t=this,n="top"===e,i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);for(var r=n?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,o=new Set,a=function(e){if(o.add(e),n){var a=t.getLastPixelOfGroup(e),s=r+i+e.rowHeight;e.stickyRowTop=a<s?i+(a-s):i}else{var l=t.getFirstPixelOfGroup(e),u=r-(i+e.rowHeight);e.stickyRowTop=l>u?i-(l-u):i}i=0,o.forEach((function(e){var t=e.stickyRowTop+e.rowHeight;i<t&&(i=t)}))},s=this.areFooterRowsStickySuppressed(),l=this.gos.get("suppressGroupRowsSticky"),u=function(e){return!!e.displayed&&(e.footer?!0!==s&&(("grand"!==s||-1!==e.level)&&(!("group"===s&&e.level>-1)&&!o.has(e))):!!e.isExpandable()&&(!0!==l&&(!o.has(e)&&e.expanded)))},c=function(e){var o=r+i;n||(o=r-i);var s=t.rowModel.getRowIndexAtPixel(o),l=t.rowModel.getRow(s);if(null==l)return"break";var c=t.getStickyAncestors(l).find((function(e){return(n?e.rowIndex<s:e.rowIndex>s)&&u(e)}));return c?(a(c),"continue"):(n?l.rowTop<o:l.rowTop+l.rowHeight>o)&&u(l)?(a(l),"continue"):"break"},d=0;d<100;d++){var h=c();if("break"===h)break}return n||o.forEach((function(e){e.stickyRowTop=i-(e.stickyRowTop+e.rowHeight)})),this.refreshNodesAndContainerHeight(e,o,i)}},{key:"areFooterRowsStickySuppressed",value:function(){var e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;var t=!!this.gos.get("groupIncludeFooter")||"group"===e,n=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!n)||(n?"grand":!!t&&"group")}},{key:"canRowsBeSticky",value:function(){var e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!n)}},{key:"getStickyAncestors",value:function(e){for(var t=[],n=e.footer?e.sibling:e.parent;n;)n.sibling&&t.push(n.sibling),t.push(n),n=n.parent;return t.reverse()}},{key:"checkStickyRows",value:function(){var e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}},{key:"destroyStickyCtrls",value:function(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}},{key:"refreshStickyNode",value:function(e){var t=new Set;if(this.stickyTopRowCtrls.some((function(t){return t.getRowNode()===e}))){for(var n=0;n<this.stickyTopRowCtrls.length;n++){var i=this.stickyTopRowCtrls[n].getRowNode();i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(var r=0;r<this.stickyBottomRowCtrls.length;r++){var o=this.stickyBottomRowCtrls[r].getRowNode();o!==e&&t.add(o)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}},{key:"refreshNodesAndContainerHeight",value:function(e,t,n){for(var i=this,r="top"===e,o=r?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,a={},s=[],l=0;l<o.length;l++){var u=o[l].getRowNode();!t.has(u)?(a[u.id]=o[l],u.sticky=!1):s.push(o[l])}for(var c=new Set,d=0;d<s.length;d++)c.add(s[d].getRowNode());var h=[];t.forEach((function(e){c.has(e)||(e.sticky=!0,h.push(i.createRowCon(e,!1,!1)))}));var f=!!h.length||s.length!==o.length;r?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),f=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),f=!0),this.destroyRowCtrls(a,!1);var v=[].concat(s,h);v.sort((function(e,t){return t.getRowNode().rowIndex-e.getRowNode().rowIndex})),r||v.reverse(),v.forEach((function(e){return e.setRowTop(e.getRowNode().stickyRowTop)}));var p=0;return r?(t.forEach((function(e){e.rowIndex<i.pageBoundsService.getFirstRow()&&(p+=e.rowHeight)})),p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)):(t.forEach((function(e){e.rowIndex>i.pageBoundsService.getLastRow()&&(p+=e.rowHeight)})),p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)),!!f&&(r?this.stickyTopRowCtrls=v:this.stickyBottomRowCtrls=v,!0)}},{key:"ensureRowHeightsValid",value:function(){var e=this,t=!1,n=function(n){var i=n.getRowNode();if(i.rowHeightEstimated){var r=e.gos.getRowHeightForNode(i);i.setRowHeight(r.height),t=!0}};return this.stickyTopRowCtrls.forEach(n),this.stickyBottomRowCtrls.forEach(n),t}}]),n}(Y),Cs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowRenderer",e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var t=function(){e.getAllCellCtrls().forEach((function(e){return e.onRangeSelectionChanged()}))},n=function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))},i=function(){e.eventService.addEventListener("rangeSelectionChanged",t),e.eventService.addEventListener("columnMoved",n),e.eventService.addEventListener("columnPinned",n),e.eventService.addEventListener("columnVisible",n)},r=function(){e.eventService.removeEventListener("rangeSelectionChanged",t),e.eventService.removeEventListener("columnMoved",n),e.eventService.removeEventListener("columnPinned",n),e.eventService.removeEventListener("columnVisible",n)};e.addDestroyFunc((function(){return r()})),e.addManagedPropertyListener("enableRangeSelection",(function(e){e.currentValue?i():r()})),e.gos.get("enableRangeSelection")&&i()},e}return k(n,[{key:"wireBeans",value:function(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCtrl=t.gridBodyCtrl,e.initialise()}))}},{key:"initialise",value:function(){var e=this;if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(function(){return e.onDomLayoutChanged()})),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(function(){return e.redraw()})),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(function(){return e.redrawRows()})),this.gos.isGroupRowsSticky()){var t=this.rowModel.getType();"clientSide"!==t&&"serverSide"!==t||(this.stickyRowFeature=this.createManagedBean(new ys(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}},{key:"initialiseCache",value:function(){if(this.gos.get("keepDetailRows")){var e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new ws(t)}}},{key:"getKeepDetailRowsCount",value:function(){return this.gos.get("keepDetailRowsCount")}},{key:"getStickyTopRowCtrls",value:function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}},{key:"getStickyBottomRowCtrls",value:function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}},{key:"updateAllRowCtrls",value:function(){var e=fe(this.rowCtrlsByRowIndex),t=fe(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||n.length>0?this.allRowCtrls=[].concat((0,o.Z)(e),(0,o.Z)(t),(0,o.Z)(n)):this.allRowCtrls=e}},{key:"onCellFocusChanged",value:function(e){this.getAllCellCtrls().forEach((function(t){return t.onCellFocused(e)})),this.getFullWidthRowCtrls().forEach((function(t){return t.onFullWidthRowFocused(e)}))}},{key:"registerCellEventListeners",value:function(){var e=this;this.addManagedEventListeners({cellFocused:function(t){e.onCellFocusChanged(t)},cellFocusCleared:function(){return e.onCellFocusChanged()},flashCells:function(t){e.getAllCellCtrls().forEach((function(e){return e.onFlashCells(t)}))},columnHoverChanged:function(){e.getAllCellCtrls().forEach((function(e){return e.onColumnHover()}))},displayedColumnsChanged:function(){e.getAllCellCtrls().forEach((function(e){return e.onDisplayedColumnsChanged()}))},displayedColumnsWidthChanged:function(){e.printLayout&&e.getAllCellCtrls().forEach((function(e){return e.onLeftChanged()}))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}},{key:"removeGridColumnListeners",value:function(){this.destroyFuncsForColumnListeners.forEach((function(e){return e()})),this.destroyFuncsForColumnListeners.length=0}},{key:"refreshListenersToColumnsForCellComps",value:function(){var e=this;this.removeGridColumnListeners(),this.columnModel.getCols().forEach((function(t){var n=function(n){e.getAllCellCtrls().forEach((function(e){e.getColumn()===t&&n(e)}))},i=function(){n((function(e){return e.onLeftChanged()}))},r=function(){n((function(e){return e.onWidthChanged()}))},o=function(){n((function(e){return e.onFirstRightPinnedChanged()}))},a=function(){n((function(e){return e.onLastLeftPinnedChanged()}))},s=function(){n((function(e){return e.onColDefChanged()}))};t.addEventListener("leftChanged",i),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",o),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",s),e.destroyFuncsForColumnListeners.push((function(){t.removeEventListener("leftChanged",i),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",o),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",s)}))}))}},{key:"onDomLayoutChanged",value:function(){var e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}},{key:"datasourceChanged",value:function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}},{key:"onPageLoaded",value:function(e){var t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}},{key:"getAllCellsForColumn",value:function(e){var t=[];return this.getAllRowCtrls().forEach((function(n){var i=n.getCellElement(e);i&&t.push(i)})),t}},{key:"refreshFloatingRowComps",value:function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowNodes()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowNodes())}},{key:"getTopRowCtrls",value:function(){return this.topRowCtrls}},{key:"getCentreRowCtrls",value:function(){return this.allRowCtrls}},{key:"getBottomRowCtrls",value:function(){return this.bottomRowCtrls}},{key:"refreshFloatingRows",value:function(e,t){for(var n=Object.fromEntries(t.map((function(e){return[e.id,e]}))),i=Object.fromEntries(e.map((function(e){return[e.getRowNode().id,e]}))),r=0;r<t.length;r++){var o=t[r],a=e[r];a&&void 0===n[a.getRowNode().id]&&(a.destroyFirstPass(),a.destroySecondPass()),o.id in i?(e[r]=i[o.id],delete i[o.id]):e[r]=new da(o,this.beans,!1,!1,this.printLayout)}e.length=t.length}},{key:"onPinnedRowDataChanged",value:function(){this.redrawAfterModelUpdate({recycleRows:!0})}},{key:"redrawRow",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(null!==(t=this.cachedRowCtrls)&&void 0!==t&&t.has(e))return void this.cachedRowCtrls.removeRow(e);var r=function(t){var i=t[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),t[e.rowIndex]=n.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)}},{key:"redrawRows",value:function(e){var t=this;if(null!=e)return null===e||void 0===e||e.forEach((function(e){return t.redrawRow(e,!0)})),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}},{key:"getCellToRestoreFocusToAfterRefresh",value:function(e){var t=null!==e&&void 0!==e&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;var n=this.gos.getActiveDomElement(),i=this.gos.getDomData(n,la.DOM_DATA_KEY_CELL_CTRL),r=this.gos.getDomData(n,da.DOM_DATA_KEY_ROW_CTRL);return i||r?t:null}},{key:"redrawAfterModelUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&this.gos.isAnimateRows(),r=n?this.getRowsToRecycle():null;if(n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();var o=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();o&&this.updateContainerHeights(o)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}},{key:"scrollToTopIfNewData",value:function(e){var t,n=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");n&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),null===(t=this.stickyRowFeature)||void 0===t||t.resetOffsets())}},{key:"updateContainerHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}}},{key:"getLockOnRefresh",value:function(){var e,t;if(this.refreshInProgress){var n,i,r,o=null!==(n=null===(i=(r=this.frameworkOverrides).getLockOnRefreshError)||void 0===i?void 0:i.call(r))&&void 0!==n?n:"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+o)}this.refreshInProgress=!0,null===(e=(t=this.frameworkOverrides).getLockOnRefresh)||void 0===e||e.call(t)}},{key:"releaseLockOnRefresh",value:function(){var e,t;this.refreshInProgress=!1,null===(e=(t=this.frameworkOverrides).releaseLockOnRefresh)||void 0===e||e.call(t)}},{key:"isRefreshInProgress",value:function(){return this.refreshInProgress}},{key:"restoreFocusedCell",value:function(e){var t=this;e&&setTimeout((function(){t.focusService.setRestoreFocusedCell(e),t.onCellFocusChanged(t.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}))}},{key:"stopEditing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getAllRowCtrls().forEach((function(t){t.stopEditing(e)}))}},{key:"getAllCellCtrls",value:function(){for(var e=[],t=this.getAllRowCtrls(),n=t.length,i=0;i<n;i++)for(var r=t[i].getAllCellCtrls(),o=r.length,a=0;a<o;a++)e.push(r[a]);return e}},{key:"getAllRowCtrls",value:function(){var e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],n=[].concat((0,o.Z)(this.topRowCtrls),(0,o.Z)(this.bottomRowCtrls),(0,o.Z)(e),(0,o.Z)(t));for(var i in this.rowCtrlsByRowIndex)n.push(this.rowCtrlsByRowIndex[i]);return n}},{key:"addRenderedRowListener",value:function(e,t,n){var i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}},{key:"flashCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getCellCtrls(e.rowNodes,e.columns).forEach((function(t){return t.flashCell(e)}))}},{key:"refreshCells",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash},i=x(this.getCellCtrls(t.rowNodes,t.columns));try{for(i.s();!(e=i.n()).done;){var r=e.value;r.refreshOrDestroyCell(n)}}catch(Am){i.e(Am)}finally{i.f()}this.refreshFullWidth(t.rowNodes)}},{key:"refreshFullWidth",value:function(e){if(e){var t=null;this.stickyRowFeature&&nn()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);var n,i=x(this.getRowCtrls(e));try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.isFullWidth())r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}}catch(Am){i.e(Am)}finally{i.f()}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}}},{key:"getCellRendererInstances",value:function(e){var t,n=this,i=this.getCellCtrls(e.rowNodes,e.columns).map((function(e){return e.getCellRenderer()})).filter((function(e){return null!=e}));if(null!==(t=e.columns)&&void 0!==t&&t.length)return i;var r=[],a=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((function(e){if((!a||n.isRowInMap(e.getRowNode(),a))&&e.isFullWidth())for(var t=e.getFullWidthCellRenderers(),i=0;i<t.length;i++){var o=t[i];null!=o&&r.push(o)}})),[].concat(r,(0,o.Z)(i))}},{key:"getCellEditorInstances",value:function(e){var t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){var n=e.getCellEditor();n&&t.push(n)})),t}},{key:"getEditingCells",value:function(){var e=[];return this.getAllCellCtrls().forEach((function(t){if(t.isEditing()){var n=t.getCellPosition();e.push(n)}})),e}},{key:"mapRowNodes",value:function(e){if(e){var t={top:{},bottom:{},normal:{}};return e.forEach((function(e){var n=e.id;switch(e.rowPinned){case"top":t.top[n]=e;break;case"bottom":t.bottom[n]=e;break;default:t.normal[n]=e}})),t}}},{key:"isRowInMap",value:function(e,t){var n=e.id;switch(e.rowPinned){case"top":return null!=t.top[n];case"bottom":return null!=t.bottom[n];default:return null!=t.normal[n]}}},{key:"getRowCtrls",value:function(e){var t=this,n=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&n?i.filter((function(e){var i=e.getRowNode();return t.isRowInMap(i,n)})):i}},{key:"getCellCtrls",value:function(e,t){var n,i=this;$(t)&&(n={},t.forEach((function(e){var t=i.columnModel.getCol(e);$(t)&&(n[t.getId()]=!0)})));var r=[];return this.getRowCtrls(e).forEach((function(e){e.getAllCellCtrls().forEach((function(e){var t=e.getColumn().getId();n&&!n[t]||r.push(e)}))})),r}},{key:"destroy",value:function(){this.removeAllRowComps(),l(a(n.prototype),"destroy",this).call(this)}},{key:"removeAllRowComps",value:function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}},{key:"getRowsToRecycle",value:function(){var e=[];ce(this.rowCtrlsByRowIndex,(function(t,n){null==n.getRowNode().id&&e.push(t)})),this.removeRowCtrls(e);var t={};return ce(this.rowCtrlsByRowIndex,(function(e,n){var i=n.getRowNode();t[i.id]=n})),this.rowCtrlsByRowIndex={},t}},{key:"removeRowCtrls",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((function(e){var i=t.rowCtrlsByRowIndex[e];i&&(i.destroyFirstPass(n),i.destroySecondPass()),delete t.rowCtrlsByRowIndex[e]}))}},{key:"onBodyScroll",value:function(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}},{key:"redraw",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.afterScroll;this.stickyRowFeature&&nn()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0);var i=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var o=!1;if(this.stickyRowFeature){o=this.stickyRowFeature.checkStickyRows();var a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}var s=this.firstRenderedRow!==i||this.lastRenderedRow!==r;if((!n||o||s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!o),null!=e)){var l=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==l&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}}},{key:"removeRowCompsNotToDraw",value:function(e,t){var n={};e.forEach((function(e){return n[e]=!0}));var i=Object.keys(this.rowCtrlsByRowIndex).filter((function(e){return!n[e]}));this.removeRowCtrls(i,t)}},{key:"calculateIndexesToDraw",value:function(e){var t=this,n=function(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}(this.firstRenderedRow,this.lastRenderedRow),i=function(e,i){var r=i.getRowNode().rowIndex;null!=r&&(r<t.firstRenderedRow||r>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(i)&&n.push(r)};ce(this.rowCtrlsByRowIndex,i),ce(e,i),n.sort((function(e,t){return e-t}));for(var r=[],o=0;o<n.length;o++){var a=n[o],s=this.rowModel.getRow(a);s&&!s.sticky&&r.push(a)}return r}},{key:"recycleRows",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(n=!1),this.removeRowCompsNotToDraw(r,!n);var o=[];if(r.forEach((function(r){var a=t.createOrUpdateRowCtrl(r,e,n,i);$(a)&&o.push(a)})),e){var a=i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask((function(){t.destroyRowCtrls(e,n),t.updateAllRowCtrls(),t.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,n)}this.updateAllRowCtrls()}},{key:"dispatchDisplayedRowsChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"displayedRowsChanged",afterScroll:e};this.eventService.dispatchEvent(t)}},{key:"onDisplayedColumnsChanged",value:function(){var e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}},{key:"redrawFullWidthEmbeddedRows",value:function(){var e=[];this.getFullWidthRowCtrls().forEach((function(t){var n=t.getRowNode().rowIndex;e.push(n.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}},{key:"getFullWidthRowCtrls",value:function(e){var t=this,n=this.mapRowNodes(e);return this.getAllRowCtrls().filter((function(e){if(!e.isFullWidth())return!1;var i=e.getRowNode();return!(null!=n&&!t.isRowInMap(i,n))}))}},{key:"createOrUpdateRowCtrl",value:function(e,t,n,i){var r,o=this.rowCtrlsByRowIndex[e];if(o||$(r=this.rowModel.getRow(e))&&$(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null),!o){if(r||(r=this.rowModel.getRow(e)),!$(r))return;o=this.createRowCon(r,n,i)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}},{key:"destroyRowCtrls",value:function(e,t){var n=this,i=[];ce(e,(function(e,r){r&&(n.cachedRowCtrls&&r.isCacheable()?n.cachedRowCtrls.addRow(r):(r.destroyFirstPass(!t),t?(n.zombieRowCtrls[r.getInstanceId()]=r,i.push((function(){r.destroySecondPass(),delete n.zombieRowCtrls[r.getInstanceId()]}))):r.destroySecondPass()))})),t&&(i.push((function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()})),Ae(i))}},{key:"getRowBuffer",value:function(){return this.gos.get("rowBuffer")}},{key:"getRowBufferInPixels",value:function(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}},{key:"workOutFirstAndLastRowsToRender",value:function(){var e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{var n,i,r=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gos.get("suppressRowVirtualisation"),s=!1;do{var l=this.pageBoundsService.getPixelOffset(),u=this.pageBoundsService.getCurrentPagePixelRange(),c=u.pageFirstPixel,d=u.pageLastPixel,h=this.rowContainerHeightService.getDivStretchOffset(),f=o.getScrollFeature().getVScrollPosition(),v=f.top,p=f.bottom;a?(n=c+h,i=d+h):(n=Math.max(v+l-r,c)+h,i=Math.min(p+l+r,d)+h),this.firstVisibleVPixel=Math.max(v+l,c)+h,this.lastVisibleVPixel=Math.min(p+l,d)+h,s=this.ensureAllRowsInRangeHaveHeightsCalculated(n,i)}while(s);var g=this.rowModel.getRowIndexAtPixel(n),m=this.rowModel.getRowIndexAtPixel(i),y=this.pageBoundsService.getFirstRow(),C=this.pageBoundsService.getLastRow();g<y&&(g=y),m>C&&(m=C),e=g,t=m}else e=0,t=-1;var w=this.gos.isDomLayout("normal"),S=this.gos.get("suppressMaxRenderedRowRestriction"),k=Math.max(this.getRowBuffer(),500);w&&!S&&t-e>k&&(t=e+k);var b=e!==this.firstRenderedRow,R=t!==this.lastRenderedRow;if(b||R){this.firstRenderedRow=e,this.lastRenderedRow=t;var E={type:"viewportChanged",firstRow:e,lastRow:t};this.eventService.dispatchEvent(E)}}},{key:"dispatchFirstDataRenderedEvent",value:function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var t={type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((function(){e.beans.eventService.dispatchEvent(t)}))}}},{key:"ensureAllRowsInRangeHaveHeightsCalculated",value:function(e,t){var n,i,r=null===(n=this.pinnedRowModel)||void 0===n?void 0:n.ensureRowHeightsValid(),o=null===(i=this.stickyRowFeature)||void 0===i?void 0:i.ensureRowHeightsValid(),a=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(a||o)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(o||a||r)&&(this.updateContainerHeights(),!0)}},{key:"getFirstVisibleVerticalPixel",value:function(){return this.firstVisibleVPixel}},{key:"getLastVisibleVerticalPixel",value:function(){return this.lastVisibleVPixel}},{key:"getFirstVirtualRenderedRow",value:function(){return this.firstRenderedRow}},{key:"getLastVirtualRenderedRow",value:function(){return this.lastRenderedRow}},{key:"doNotUnVirtualiseRow",value:function(e){var t=e.getRowNode(),n=this.focusService.isRowNodeFocused(t),i=e.isEditing(),r=t.detail;return!!(n||i||r)&&!!this.isRowPresent(t)}},{key:"isRowPresent",value:function(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}},{key:"createRowCon",value:function(e,t,n){var i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;var r=this.gos.get("suppressAnimationFrame"),o=n&&!r&&!this.printLayout;return new da(e,this.beans,t,o,this.printLayout)}},{key:"getRenderedNodes",value:function(){var e=this.rowCtrlsByRowIndex;return Object.values(e).map((function(e){return e.getRowNode()}))}},{key:"getRowByPosition",value:function(e){var t,n=e.rowIndex;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:(t=this.rowCtrlsByRowIndex[n])||(t=this.getStickyTopRowCtrls().find((function(e){return e.getRowNode().rowIndex===n}))||null)||(t=this.getStickyBottomRowCtrls().find((function(e){return e.getRowNode().rowIndex===n}))||null)}return t}},{key:"isRangeInRenderedViewport",value:function(e,t){if(null==e||null==t)return!1;var n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}}]),n}(Y),ws=function(){function e(t){C(this,e),this.entriesMap={},this.entriesList=[],this.maxCount=t}return k(e,[{key:"addRow",value:function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}},{key:"getRow",value:function(e){if(null==e||null==e.id)return null;var t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}},{key:"has",value:function(e){return null!=this.entriesMap[e.id]}},{key:"removeRow",value:function(e){var t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],G(this.entriesList,n)}},{key:"removeFromCache",value:function(e){var t=e.getRowNode().id;delete this.entriesMap[t],G(this.entriesList,e)}},{key:"getEntries",value:function(){return this.entriesList}}]),e}(),Ss=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="pinnedRowModel",e.nextId=0,e}return k(n,[{key:"wireBeans",value:function(e){this.beans=e}},{key:"postConstruct",value:function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",(function(){return e.setPinnedTopRowData()})),this.addManagedPropertyListener("pinnedBottomRowData",(function(){return e.setPinnedBottomRowData()})),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}},{key:"isEmpty",value:function(e){return te("top"===e?this.pinnedTopRows:this.pinnedBottomRows)}},{key:"isRowsToRender",value:function(e){return!this.isEmpty(e)}},{key:"getRowAtPixel",value:function(e,t){var n="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(te(n))return 0;for(var i=0;i<n.length;i++){var r=n[i];if(r.rowTop+r.rowHeight-1>=e)return i}return n.length-1}},{key:"onGridStylesChanges",value:function(e){if(e.rowHeightChanged){var t=function(e){e.setRowHeight(e.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}},{key:"ensureRowHeightsValid",value:function(){var e,t,n=this,i=!1,r=0,o=function(e){if(e.rowHeightEstimated){var t=n.gos.getRowHeightForNode(e);e.setRowTop(r),e.setRowHeight(t.height),r+=t.height,i=!0}};null===(e=this.pinnedBottomRows)||void 0===e||e.forEach(o),r=0,null===(t=this.pinnedTopRows)||void 0===t||t.forEach(o);return this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),i}},{key:"setPinnedTopRowData",value:function(){var e=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}},{key:"setPinnedBottomRowData",value:function(){var e=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}},{key:"createNodesFromData",value:function(e,t){var n=this,i=[];if(e){var r=this.gos.getRowIdCallback(),o=t?Ji.ID_PREFIX_TOP_PINNED:Ji.ID_PREFIX_BOTTOM_PINNED,a=0,s=t?"top":"bottom";e.forEach((function(e,t){var l,u=new Ji(n.beans);u.data=e,u.id=null!==(l=null===r||void 0===r?void 0:r({data:e,level:0,rowPinned:s}))&&void 0!==l?l:o+n.nextId++,u.rowPinned=s,u.setRowTop(a),u.setRowHeight(n.gos.getRowHeightForNode(u).height),u.setRowIndex(t),a+=u.rowHeight,i.push(u)}))}return i}},{key:"getPinnedTopRowNodes",value:function(){return this.pinnedTopRows}},{key:"getPinnedBottomRowNodes",value:function(){return this.pinnedBottomRows}},{key:"getPinnedTopTotalHeight",value:function(){return this.getTotalHeight(this.pinnedTopRows)}},{key:"getPinnedTopRowCount",value:function(){return this.pinnedTopRows?this.pinnedTopRows.length:0}},{key:"getPinnedBottomRowCount",value:function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}},{key:"getPinnedTopRow",value:function(e){return this.pinnedTopRows[e]}},{key:"getPinnedBottomRow",value:function(e){return this.pinnedBottomRows[e]}},{key:"forEachPinnedTopRow",value:function(e){te(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}},{key:"forEachPinnedBottomRow",value:function(e){te(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}},{key:"getPinnedBottomTotalHeight",value:function(){return this.getTotalHeight(this.pinnedBottomRows)}},{key:"getTotalHeight",value:function(e){if(!e||0===e.length)return 0;var t=I(e);return t.rowTop+t.rowHeight}}]),n}(Y),ks=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).state="needsLoading",i.version=0,i.id=e,i}return k(n,[{key:"getId",value:function(){return this.id}},{key:"load",value:function(){this.state="loading",this.loadFromDatasource()}},{key:"getVersion",value:function(){return this.version}},{key:"setStateWaitingToLoad",value:function(){this.version++,this.state="needsLoading"}},{key:"getState",value:function(){return this.state}},{key:"pageLoadFailed",value:function(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}},{key:"success",value:function(e,t){this.successCommon(e,t)}},{key:"pageLoaded",value:function(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}},{key:"isRequestMostRecentAndLive",value:function(e){var t=e===this.version,n=this.isAlive();return t&&n}},{key:"successCommon",value:function(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}},{key:"dispatchLoadCompleted",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}}]),n}(Y),bs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowNodeBlockLoader",e.activeBlockLoadsCount=0,e.blocks=[],e.active=!0,e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel}},{key:"postConstruct",value:function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Oe(this.performCheckBlocksToLoad.bind(this),e))}},{key:"getMaxConcurrentDatasourceRequests",value:function(){var e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}},{key:"addBlock",value:function(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}},{key:"removeBlock",value:function(e){G(this.blocks,e)}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.active=!1}},{key:"loadComplete",value:function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}},{key:"checkBlockToLoad",value:function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}},{key:"performCheckBlocksToLoad",value:function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.gos.get("debug")&&Pe("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");else{var e=this.getAvailableLoadingCount(),t=this.blocks.filter((function(e){return"needsLoading"===e.getState()})).slice(0,e);this.registerLoads(t.length),t.forEach((function(e){return e.load()})),this.printCacheStatus()}}},{key:"getBlockState",value:function(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var e={};return this.blocks.forEach((function(t){var n=t.getBlockStateJson(),i=n.id,r=n.state;e[i]=r})),e}},{key:"printCacheStatus",value:function(){this.gos.get("debug")&&Pe("RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,", blocks = ").concat(JSON.stringify(this.getBlockState())))}},{key:"isLoading",value:function(){return this.activeBlockLoadsCount>0}},{key:"registerLoads",value:function(e){this.activeBlockLoadsCount+=e}},{key:"getAvailableLoadingCount",value:function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]),n}(Y),Rs={version:eo,moduleName:"@ag-grid-community/row-node-block",beans:[bs]},Es=function(){function e(){C(this,e),this.root=null,this.end=null,this.cachedRange=[]}return k(e,[{key:"init",value:function(e){this.rowModel=e}},{key:"reset",value:function(){this.root=null,this.end=null,this.cachedRange.length=0}},{key:"setRoot",value:function(e){this.root=e,this.end=null,this.cachedRange.length=0}},{key:"setEndRange",value:function(e){this.end=e,this.cachedRange.length=0}},{key:"getRange",value:function(){if(0===this.cachedRange.length){var e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}},{key:"isInRange",value:function(e){return null!==this.root&&this.getRange().some((function(t){return t.id===e.id}))}},{key:"getRoot",value:function(){var e,t;this.root&&null===(null===(e=this.root)||void 0===e?void 0:e.key)&&(this.root=null!==(t=this.rowModel.getRowNode(this.root.id))&&void 0!==t?t:null);return this.root}},{key:"getEnd",value:function(){var e,t;this.end&&null===(null===(e=this.end)||void 0===e?void 0:e.key)&&(this.end=null!==(t=this.rowModel.getRowNode(this.end.id))&&void 0!==t?t:null);return this.end}},{key:"truncate",value:function(e){var t=this.getRange();if(0===t.length)return{keep:[],discard:[]};var n=t[0].id===this.root.id,i=t.findIndex((function(t){return t.id===e.id}));if(i>-1){var r=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:o}:{keep:o,discard:r}}return{keep:t,discard:[]}}},{key:"extend",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getRoot();if(null==i){var r=this.getRange().slice();return n&&e.depthFirstSearch((function(e){return!e.group&&r.push(e)})),r.push(e),this.setRoot(e),{keep:r,discard:[]}}var o=this.rowModel.getNodesInRangeForSelection(i,e);if(o.find((function(e){var n;return e.id===(null===(n=t.end)||void 0===n?void 0:n.id)})))return this.setEndRange(e),{keep:this.getRange(),discard:[]};var a=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:a}}}]),e}(),Fs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="stylingService",e}return k(n,[{key:"wireBeans",value:function(e){this.expressionService=e.expressionService}},{key:"processAllCellClasses",value:function(e,t,n,i){this.processClassRules(void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}},{key:"processClassRules",value:function(e,t,n,i,r){var o=this;if(null!=t||null!=e){var a={},s={},l=function(e,t){e.split(" ").forEach((function(e){""!=e.trim()&&t(e)}))};if(t)for(var u=Object.keys(t),c=function(e){var i=u[e],r=t[i],c=void 0;"string"===typeof r?c=o.expressionService.evaluate(r,n):"function"===typeof r&&(c=r(n)),l(i,(function(e){c?a[e]=!0:s[e]=!0}))},d=0;d<u.length;d++)c(d);e&&r&&Object.keys(e).forEach((function(e){return l(e,(function(e){a[e]||(s[e]=!0)}))})),r&&Object.keys(s).forEach(r),Object.keys(a).forEach(i)}}},{key:"getStaticCellClasses",value:function(e,t){var n,i=e.cellClass;if(!i)return[];"function"===typeof i?n=i(t):n=i;return"string"===typeof n&&(n=[n]),n||[]}},{key:"processStaticCellClasses",value:function(e,t,n){this.getStaticCellClasses(e,t).forEach((function(e){n(e)}))}}]),n}(Y),Ps=function(e){return e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e}(Ps||{}),Ds=function(e){c(n,e);var t=p(n);function n(e){var i;C(this,n),(i=t.call(this)).skipTabGuardFocus=!1,i.forcingFocusOut=!1,i.allowFocus=!1;var r=e.comp,o=e.eTopGuard,a=e.eBottomGuard,s=e.focusTrapActive,l=e.forceFocusOutWhenTabGuardsAreEmpty,u=e.isFocusableContainer,c=e.focusInnerElement,d=e.onFocusIn,h=e.onFocusOut,f=e.shouldStopEventPropagation,v=e.onTabKeyDown,p=e.handleKeyDown,g=e.eFocusableElement;return i.comp=r,i.eTopGuard=o,i.eBottomGuard=a,i.providedFocusInnerElement=c,i.eFocusableElement=g,i.focusTrapActive=!!s,i.forceFocusOutWhenTabGuardsAreEmpty=!!l,i.isFocusableContainer=!!u,i.providedFocusIn=d,i.providedFocusOut=h,i.providedShouldStopEventPropagation=f,i.providedOnTabKeyDown=v,i.providedHandleKeyDown=p,i}return k(n,[{key:"wireBeans",value:function(e){this.focusService=e.focusService}},{key:"postConstruct",value:function(){var e=this;this.createManagedBean(new or(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)},onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(t){return e.addManagedElementListeners(t,{focus:e.onFocus.bind(e)})}))}},{key:"handleKeyDown",value:function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}},{key:"tabGuardsAreActive",value:function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}},{key:"shouldStopEventPropagation",value:function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}},{key:"activateTabGuards",value:function(){if(!this.forcingFocusOut){var e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}}},{key:"deactivateTabGuards",value:function(){this.comp.setTabIndex()}},{key:"onFocus",value:function(e){if(!this.isFocusableContainer||this.eFocusableElement.contains(e.relatedTarget)||this.allowFocus)if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{if(this.forceFocusOutWhenTabGuardsAreEmpty)if(0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(!this.isFocusableContainer||!this.eFocusableElement.contains(e.relatedTarget)){var t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}}else this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}},{key:"findNextElementOutsideAndFocus",value:function(e){var t=this.gos.getDocument(),n=this.focusService.findFocusableElements(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1!==i){var r,o;e?(r=0,o=i):(r=i+1,o=n.length);var a=n.slice(r,o),s=this.gos.get("tabIndex");a.sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")||"0"),i=parseInt(t.getAttribute("tabindex")||"0");return i===s?1:n===s?-1:0===n?1:0===i?-1:n-i})),a[e?a.length-1:0].focus()}}},{key:"onFocusIn",value:function(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}},{key:"onFocusOut",value:function(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}},{key:"onTabKeyDown",value:function(e){var t=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!this.focusTrapActive&&!e.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var i=this.getNextFocusableElement(e.shiftKey);n&&setTimeout((function(){return t.activateTabGuards()}),0),i&&(i.focus(),e.preventDefault())}}},{key:"focusInnerElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}},{key:"getNextFocusableElement",value:function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}},{key:"forceFocusOutOfContainer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.forcingFocusOut){var n=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,n.focus(),window.setTimeout((function(){e.forcingFocusOut=!1,e.activateTabGuards()}))}}},{key:"isTabGuard",value:function(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(null===t||void 0===t||t)}},{key:"setAllowFocus",value:function(e){this.allowFocus=e}}]),n}(Y),xs=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).comp=e,i}return k(n,[{key:"initialiseTabGuard",value:function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();var t=this.eTopGuard,n=this.eBottomGuard,i=this.eFocusableElement,r=[t,n],o={setTabIndex:function(e){r.forEach((function(t){return null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")}))}};this.addTabGuards(t,n);var a=e.focusTrapActive,s=void 0!==a&&a,l=e.onFocusIn,u=e.onFocusOut,c=e.focusInnerElement,d=e.handleKeyDown,h=e.onTabKeyDown,f=e.shouldStopEventPropagation,v=e.forceFocusOutWhenTabGuardsAreEmpty,p=e.isFocusableContainer;this.tabGuardCtrl=this.createManagedBean(new Ds({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:l,onFocusOut:u,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:h,shouldStopEventPropagation:f,forceFocusOutWhenTabGuardsAreEmpty:v,isFocusableContainer:p}))}},{key:"getTabGuardCtrl",value:function(){return this.tabGuardCtrl}},{key:"createTabGuard",value:function(e){var t=this.gos.getDocument().createElement("div"),n="top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",n),Nt(t,"presentation"),t}},{key:"addTabGuards",value:function(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}},{key:"removeAllChildrenExceptTabGuards",value:function(){var e=[this.eTopGuard,this.eBottomGuard];bn(this.comp.getFocusableElement()),this.addTabGuards.apply(this,e)}},{key:"forceFocusOutOfContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardCtrl.forceFocusOutOfContainer(e)}},{key:"appendChild",value:function(e,t,n){Tn(t)||(t=t.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}}]),n}(Y),Ms=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"initialiseTabGuard",value:function(e){this.tabGuardFeature=this.createManagedBean(new xs(this)),this.tabGuardFeature.initialiseTabGuard(e)}},{key:"forceFocusOutOfContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardFeature.forceFocusOutOfContainer(e)}},{key:"appendChild",value:function(e,t){this.tabGuardFeature.appendChild(l(a(n.prototype),"appendChild",this).bind(this),e,t)}}]),n}(Wn),As=0,Ts=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="popupService",e.popupList=[],e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl})),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}},{key:"getPopupParent",value:function(){var e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}},{key:"positionPopupForMenu",value:function(e){var t=e.eventSource,n=e.ePopup,i=this.getPopupIndex(n);-1!==i&&(this.popupList[i].alignedToElement=t);var r=t.getBoundingClientRect(),o=this.getParentRect(),a=this.keepXYWithinBounds(n,r.top-o.top,0),s=n.clientWidth>0?n.clientWidth:200;n.style.minWidth="".concat(s,"px");var l,u=o.right-o.left-s;function c(){return r.right-o.left-2}function d(){return r.left-o.left-s}this.gos.get("enableRtl")?((l=d())<0&&(l=c(),this.setAlignedStyles(n,"left")),l>u&&(l=0,this.setAlignedStyles(n,"right"))):((l=c())>u&&(l=d(),this.setAlignedStyles(n,"right")),l<0&&(l=0,this.setAlignedStyles(n,"left"))),n.style.left="".concat(l,"px"),n.style.top="".concat(a,"px")}},{key:"positionPopupUnderMouseEvent",value:function(e){var t=this,n=e.ePopup,i=e.nudgeX,r=e.nudgeY,o=e.skipObserver;this.positionPopup({ePopup:n,nudgeX:i,nudgeY:r,keepWithinBounds:!0,skipObserver:o,updatePosition:function(){return t.calculatePointerAlign(e.mouseEvent)},postProcessCallback:function(){return t.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)}})}},{key:"calculatePointerAlign",value:function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"positionPopupByComponent",value:function(e){var t=this,n=e.ePopup,i=e.nudgeX,r=e.nudgeY,o=e.keepWithinBounds,a=e.eventSource,s=e.alignSide,l=void 0===s?"left":s,u=e.position,c=void 0===u?"over":u,d=e.column,h=e.rowNode,f=e.type,v=a.getBoundingClientRect(),p=this.getParentRect(),g=this.getPopupIndex(n);-1!==g&&(this.popupList[g].alignedToElement=a);this.positionPopup({ePopup:n,nudgeX:i,nudgeY:r,keepWithinBounds:o,updatePosition:function(){var i,o=v.left-p.left;("right"===l&&(o-=n.offsetWidth-v.width),"over"===c)?(i=v.top-p.top,t.setAlignedStyles(n,"over")):(t.setAlignedStyles(n,"under"),i="under"===t.shouldRenderUnderOrAbove(n,v,p,e.nudgeY||0)?v.top-p.top+v.height:v.top-n.offsetHeight-2*(r||0)-p.top);return{x:o,y:i}},postProcessCallback:function(){return t.callPostProcessPopup(f,n,a,null,d,h)}})}},{key:"shouldRenderUnderOrAbove",value:function(e,t,n,i){var r=n.bottom-t.bottom,o=t.top-n.top,a=e.offsetHeight+i;return r>a?"under":o>a||o>r?"above":"under"}},{key:"setAlignedStyles",value:function(e,t){var n=this.getPopupIndex(e);if(-1!==n){var i=this.popupList[n].alignedToElement;if(i){["right","left","over","above","under"].forEach((function(t){i.classList.remove("ag-has-popup-positioned-".concat(t)),e.classList.remove("ag-popup-positioned-".concat(t))})),t&&(i.classList.add("ag-has-popup-positioned-".concat(t)),e.classList.add("ag-popup-positioned-".concat(t)))}}}},{key:"callPostProcessPopup",value:function(e,t,n,i,r,o){var a=this.gos.getCallback("postProcessPopup");a&&a({column:r,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:i})}},{key:"positionPopup",value:function(e){var t=this,n=e.ePopup,i=e.keepWithinBounds,r=e.nudgeX,o=e.nudgeY,a=e.skipObserver,s=e.updatePosition,l={width:0,height:0},u=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=s(),c=u.x,d=u.y;a&&n.clientWidth===l.width&&n.clientHeight===l.height||(l.width=n.clientWidth,l.height=n.clientHeight,r&&(c+=r),o&&(d+=o),i&&(c=t.keepXYWithinBounds(n,c,1),d=t.keepXYWithinBounds(n,d,0)),n.style.left="".concat(c,"px"),n.style.top="".concat(d,"px"),e.postProcessCallback&&e.postProcessCallback())};if(u(),!a){var c=this.resizeObserverService.observeResize(n,(function(){return u(!0)}));setTimeout((function(){return c()}),200)}}},{key:"getActivePopups",value:function(){return this.popupList.map((function(e){return e.element}))}},{key:"getPopupList",value:function(){return this.popupList}},{key:"getParentRect",value:function(){var e=this.gos.getDocument(),t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),Cn(t)}},{key:"keepXYWithinBounds",value:function(e,t,n){var i=0===n,r=i?"clientHeight":"clientWidth",o=i?"top":"left",a=i?"height":"width",s=i?"scrollTop":"scrollLeft",l=this.gos.getDocument(),u=l.documentElement,c=this.getPopupParent(),d=e.getBoundingClientRect(),h=c.getBoundingClientRect(),f=l.documentElement.getBoundingClientRect(),v=c===l.body,p=Math.ceil(d[a]),g=v?(i?mn:yn)(u)+u[s]:c[r];v&&(g-=Math.abs(f[o]-h[o]));var m=g-p;return Math.min(Math.max(t,0),Math.abs(m))}},{key:"addPopup",value:function(e){var t=this.gos.getDocument(),n=e.eChild,i=e.ariaLabel,r=e.alwaysOnTop,o=e.positionCallback,a=e.anchorToElement;if(!t)return De("could not find the document, document is empty"),{hideFunc:function(){}};var s=this.getPopupIndex(n);if(-1!==s)return{hideFunc:this.popupList[s].hideFunc};this.initialisePopupPosition(n);var l=this.createPopupWrapper(n,i,!!r),u=this.addEventListenersToPopup(y(y({},e),{},{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(n,l,u,a),{hideFunc:u}}},{key:"initialisePopupPosition",value:function(e){var t=this.getPopupParent().getBoundingClientRect();$(e.style.top)||(e.style.top="".concat(-1*t.top,"px")),$(e.style.left)||(e.style.left="".concat(-1*t.left,"px"))}},{key:"createPopupWrapper",value:function(e,t,n){var i=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Nt(e,"dialog"),Gt(e,t),r.appendChild(e),i.appendChild(r),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}},{key:"handleThemeChange",value:function(e){if(e.themeChanged){var t,n=x(this.popupList);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.environment.applyThemeClasses(i.wrapper)}}catch(Am){n.e(Am)}finally{n.f()}}}},{key:"addEventListenersToPopup",value:function(e){var t=this,n=this.gos.getDocument(),i=this.getPopupParent(),r=e.wrapperEl,o=e.eChild,a=e.closedCallback,s=e.afterGuiAttached,l=e.closeOnEsc,u=e.modal,c=!1,d=function(e){r.contains(t.gos.getActiveDomElement())&&(e.key!==ni.ESCAPE||Z(e)||v({keyboardEvent:e}))},h=function(e){return v({mouseEvent:e})},f=function(e){return v({touchEvent:e})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e.mouseEvent,l=e.touchEvent,u=e.keyboardEvent,v=e.forceHide;(v||!t.isEventFromCurrentPopup({mouseEvent:s,touchEvent:l},o)&&!c)&&(c=!0,i.removeChild(r),n.removeEventListener("keydown",d),n.removeEventListener("mousedown",h),n.removeEventListener("touchstart",f),n.removeEventListener("contextmenu",h),t.eventService.removeEventListener("dragStarted",h),a&&a(s||l||u),t.removePopupFromPopupList(o))};return s&&s({hidePopup:v}),window.setTimeout((function(){l&&n.addEventListener("keydown",d),u&&(n.addEventListener("mousedown",h),t.eventService.addEventListener("dragStarted",h),n.addEventListener("touchstart",f),n.addEventListener("contextmenu",h))}),0),v}},{key:"addPopupToPopupList",value:function(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:As++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}},{key:"getPopupIndex",value:function(e){return this.popupList.findIndex((function(t){return t.element===e}))}},{key:"setPopupPositionRelatedToElement",value:function(e,t){var n=this.getPopupIndex(e);if(-1!==n){var i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then((function(e){return e&&e()})),i.stopAnchoringPromise=void 0,i.isAnchored=!1,t){var r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}}}},{key:"removePopupFromPopupList",value:function(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter((function(t){return t.element!==e}))}},{key:"keepPopupPositionedRelativeTo",value:function(e){var t=this,n=this.getPopupParent(),i=n.getBoundingClientRect(),r=e.element,o=e.ePopup,a=r.getBoundingClientRect(),s=i.top-a.top,l=i.left-a.left,u=s,c=l,d=o.style.top,h=parseInt(d.substring(0,d.length-1),10),f=o.style.left,v=parseInt(f.substring(0,f.length-1),10),p=this.getFrameworkOverrides();return new yi((function(i){p.wrapIncoming((function(){p.setInterval((function(){var i=n.getBoundingClientRect(),a=r.getBoundingClientRect();if(0==a.top&&0==a.left&&0==a.height&&0==a.width)e.hidePopup();else{var d=i.top-a.top;if(d!=u){var f=t.keepXYWithinBounds(o,h+s-d,0);o.style.top="".concat(f,"px")}u=d;var p=i.left-a.left;if(p!=c){var g=t.keepXYWithinBounds(o,v+l-p,1);o.style.left="".concat(g,"px")}c=p}}),200).then((function(e){i((function(){null!=e&&window.clearInterval(e)}))}))}),"popupPositioning")}))}},{key:"hasAnchoredPopup",value:function(){return this.popupList.some((function(e){return e.isAnchored}))}},{key:"isEventFromCurrentPopup",value:function(e,t){var n=e.mouseEvent,i=e.touchEvent,r=n||i;if(!r)return!1;var o=this.getPopupIndex(t);if(-1===o)return!1;for(var a=o;a<this.popupList.length;a++){if(Q(this.popupList[a].element,r))return!0}return this.isElementWithinCustomPopup(r.target)}},{key:"isElementWithinCustomPopup",value:function(e){for(var t=this.gos.getDocument();e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}},{key:"getWrapper",value:function(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}},{key:"setAlwaysOnTop",value:function(e,t){var n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}},{key:"bringPopupToFront",value:function(e){var t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),o=r.length,a=this.getWrapper(e);if(!a||i<=1||!t.contains(e))return!1;var s=n.indexOf(a),l=a.querySelectorAll("div"),u=[];l.forEach((function(e){0!==e.scrollTop&&u.push([e,e.scrollTop])}));var c=!1;o?a.classList.contains("ag-always-on-top")?s!==i-1&&(I(r).insertAdjacentElement("afterend",a),c=!0):s!==i-o-1&&(r[0].insertAdjacentElement("beforebegin",a),c=!0):s!==i-1&&(I(n).insertAdjacentElement("afterend",a),c=!0);for(;u.length;){var d=u.pop();d[0].scrollTop=d[1]}return c}}]),n}(Y),Ls=["touchstart","touchend","touchmove","touchcancel"],Is=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";C(this,e),this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=function(e){return e()},this.wrapOutgoing=function(e){return e()}}return k(e,[{key:"setInterval",value:function(e,t){return new yi((function(n){n(window.setInterval(e,t))}))}},{key:"addEventListener",value:function(e,t,n,i){var r=V(Ls,t);e.addEventListener(t,n,{capture:!!i,passive:r})}},{key:"shouldWrapOutgoing",get:function(){return!1}},{key:"frameworkComponent",value:function(e){return null}},{key:"isFrameworkComponent",value:function(e){return!1}},{key:"getDocLink",value:function(e){var t="solid"===this.frameworkName?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(t,"-data-grid").concat(e?"/".concat(e):"")}}]),e}(),Os=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="cellNavigationService",e}return k(n,[{key:"wireBeans",value:function(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}},{key:"getNextCellToFocus",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}},{key:"getNextCellToFocusWithCtrlPressed",value:function(e,t){var n,i,r=e===ni.UP,o=e===ni.DOWN,a=e===ni.LEFT;if(r||o)i=r?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),n=t.column;else{var s=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");i=t.rowIndex,n=a!==l?s[0]:I(s)}return{rowIndex:i,rowPinned:null,column:n}}},{key:"getNextCellToFocusWithoutCtrlPressed",value:function(e,t){for(var n=t,i=!1;!i;){switch(e){case ni.UP:n=this.getCellAbove(n);break;case ni.DOWN:n=this.getCellBelow(n);break;case ni.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case ni.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,De("unknown key for navigation ",e)}i=!n||this.isCellGoodToFocusOn(n)}return n}},{key:"isCellGoodToFocusOn",value:function(e){var t,n=e.column;switch(e.rowPinned){case"top":t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!!t&&!n.isSuppressNavigable(t)}},{key:"getCellToLeft",value:function(e){if(!e)return null;var t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}},{key:"getCellToRight",value:function(e){if(!e)return null;var t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}},{key:"getRowBelow",value:function(e){var t=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var i=this.rowModel.getRow(e.rowIndex),r=this.getNextStickyPosition(i);return r||{rowIndex:t+1,rowPinned:n}}},{key:"getNextStickyPosition",value:function(e,t){if(this.gos.isGroupRowsSticky()&&e&&e.sticky){var n=[],i=t?-1:1,r=(n=this.rowRenderer.getStickyTopRowCtrls().some((function(t){return t.getRowNode().rowIndex===e.rowIndex}))?(0,o.Z)(this.rowRenderer.getStickyTopRowCtrls()).sort((function(e,t){return e.getRowNode().rowIndex-t.getRowNode().rowIndex})):(0,o.Z)(this.rowRenderer.getStickyBottomRowCtrls()).sort((function(e,t){return t.getRowNode().rowIndex-e.getRowNode().rowIndex}))).findIndex((function(t){return t.getRowNode().rowIndex===e.rowIndex})),a=n[r+i];return a?{rowIndex:a.getRowNode().rowIndex,rowPinned:null}:void 0}}},{key:"getCellBelow",value:function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}},{key:"isLastRowInContainer",value:function(e){var t=e.rowPinned,n=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowNodes().length-1<=n:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowNodes().length-1<=n:this.pageBoundsService.getLastRow()<=n}},{key:"getRowAbove",value:function(e){var t=e.rowIndex,n=e.rowPinned;if(n?0===t:t===this.pageBoundsService.getFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var i=this.rowModel.getRow(e.rowIndex),r=this.getNextStickyPosition(i,!0);return r||{rowIndex:t-1,rowPinned:n}}},{key:"getCellAbove",value:function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}},{key:"getLastBodyCell",value:function(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}},{key:"getLastFloatingTopRow",value:function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowNodes().length-1,rowPinned:"top"}}},{key:"getNextTabbedCell",value:function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}},{key:"getNextTabbedCellForwards",value:function(e){var t=this.visibleColsService.getAllCols(),n=e.rowIndex,i=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){var o,a;r=t[0];var s=this.getRowBelow(e);if(ee(s))return null;if(!s.rowPinned&&null!==(o=null===(a=this.paginationService)||void 0===a?void 0:a.isRowInPage(s))&&void 0!==o&&!o)return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}},{key:"getNextTabbedCellBackwards",value:function(e){var t=this.visibleColsService.getAllCols(),n=e.rowIndex,i=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){var o,a;r=I(t);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(ee(s))return null;if(!s.rowPinned&&null!==(o=null===(a=this.paginationService)||void 0===a?void 0:a.isRowInPage(s))&&void 0!==o&&!o)return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:i}}}]),n}(Y);function Ns(e,t){e.eventService.dispatchEvent(t)}var Gs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="apiFunctionService",e.functions={dispatchEvent:Ns},e.isDestroyed=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.beans=e}},{key:"postConstruct",value:function(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}},{key:"callFunction",value:function(e,t){var n,i=this.functions[e];return i?i.apply(i,[this.beans].concat((0,o.Z)(t))):this.isDestroyed?this.destroyedHandler(e):void(this.isFrameworkMethod(e)||null===(n=this.beans.validationService)||void 0===n||n.warnMissingApiFunction(e))}},{key:"addFunction",value:function(e,t){var n=this.beans.validationService;n&&(t=n.validateApiFunction(e,t)),this.functions[e]=t}},{key:"destroy",value:function(){this.functions={},this.isDestroyed=!0,l(a(n.prototype),"destroy",this).call(this)}},{key:"destroyedHandler",value:function(e){if("isDestroyed"===e)return!0;"destroy"!==e&&De("Grid API function ".concat(e,"() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(this.preDestroyLink))}},{key:"isFrameworkMethod",value:function(e){return["preWireBeans","wireBeans","preConstruct","postConstruct"].includes(e)}}]),n}(Y);function Bs(e){var t=e.getBean("apiFunctionService");return new Proxy(t,{get:function(e,t){if("then"!==t)return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.callFunction(t,i)}}})}function Hs(e){return{beanName:"gridApi",bean:Bs(e)}}var Vs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnDefFactory",e}return k(n,[{key:"buildColumnDefs",value:function(e,t,n){var i=this,r=[],o={};return e.forEach((function(e){for(var a=!0,s=i.createDefFromColumn(e,t,n),l=e.getOriginalParent(),u=null;l;){var c=null;if(l.isPadding())l=l.getOriginalParent();else{var d=o[l.getGroupId()];if(d){d.children.push(s),a=!1;break}if((c=i.createDefFromGroup(l))&&(c.children=[s],o[c.groupId]=c,s=c,l=l.getOriginalParent()),null!=l&&u===l){a=!1;break}u=l}}a&&r.push(s)})),r}},{key:"createDefFromGroup",value:function(e){var t=he(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}},{key:"createDefFromColumn",value:function(e,t,n){var i=he(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=!e.isVisible()||void 0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,i}}]),n}(Y),Ws=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnEventDispatcher",e}return k(n,[{key:"visibleCols",value:function(){this.eventService.dispatchEvent({type:"displayedColumnsChanged"})}},{key:"gridColumns",value:function(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}},{key:"headerHeight",value:function(e){var t={type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(t)}},{key:"groupOpened",value:function(e){var t={type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e};this.eventService.dispatchEvent(t)}},{key:"rowGroupChanged",value:function(e,t){var n={type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t};this.eventService.dispatchEvent(n)}},{key:"genericColumnEvent",value:function(e,t,n){var i={type:e,columns:t,column:1===t.length?t[0]:null,source:n};this.eventService.dispatchEvent(i)}},{key:"pivotModeChanged",value:function(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}},{key:"virtualColumnsChanged",value:function(e){var t={type:"virtualColumnsChanged",afterScroll:e};this.eventService.dispatchEvent(t)}},{key:"newColumnsLoaded",value:function(e){var t={type:"newColumnsLoaded",source:e};this.eventService.dispatchEvent(t)}},{key:"everythingChanged",value:function(e){var t={type:"columnEverythingChanged",source:e};this.eventService.dispatchEvent(t)}},{key:"columnMoved",value:function(e){var t=e.movedColumns,n=e.source,i=e.toIndex,r=e.finished,o={type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:i,finished:r,source:n};this.eventService.dispatchEvent(o)}},{key:"columnPinned",value:function(e,t){if(e.length){var n=1===e.length?e[0]:null,i=this.getCommonValue(e,(function(e){return e.getPinned()})),r={type:"columnPinned",pinned:null!=i?i:null,columns:e,column:n,source:t};this.eventService.dispatchEvent(r)}}},{key:"columnVisible",value:function(e,t){if(e.length){var n=1===e.length?e[0]:null,i={type:"columnVisible",visible:this.getCommonValue(e,(function(e){return e.isVisible()})),columns:e,column:n,source:t};this.eventService.dispatchEvent(i)}}},{key:"getCommonValue",value:function(e,t){if(e&&0!=e.length){for(var n=t(e[0]),i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}}},{key:"columnChanged",value:function(e,t,n){var i={type:e,columns:t,column:t&&1==t.length?t[0]:null,source:n};this.eventService.dispatchEvent(i)}},{key:"columnResized",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&e.length){var r={type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:i,finished:t,source:n};this.eventService.dispatchEvent(r)}}}]),n}(Y),zs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnGetStateService",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}},{key:"getColumnState",value:function(){if(ee(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];var e=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}},{key:"createStateItemFromColumn",value:function(e){var t=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns(),i=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?n.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=null!=e.getSort()?e.getSort():null,s=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:r,flex:l}}},{key:"orderColumnStateList",value:function(e){var t=this.columnModel.getCols(),n=new Map(t.map((function(e,t){return[e.getColId(),t]})));e.sort((function(e,t){return(n.has(e.colId)?n.get(e.colId):-1)-(n.has(t.colId)?n.get(t.colId):-1)}))}}]),n}(Y),_s=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnGroupStateService",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}},{key:"getColumnGroupState",value:function(){var e=[];return Ze(null,this.columnModel.getColTree(),(function(t){ke(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e}},{key:"resetColumnGroupState",value:function(e){var t=this.columnModel.getColDefColTree();if(t){var n=[];Ze(null,t,(function(e){if(ke(e)){var t=e.getColGroupDef(),i={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};n.push(i)}})),this.setColumnGroupState(n,e)}}},{key:"setColumnGroupState",value:function(e,t){var n=this;if(this.columnModel.getColTree()){this.columnAnimationService.start();var i=[];e.forEach((function(e){var t=e.groupId,r=e.open,o=n.columnModel.getProvidedColGroup(t);o&&o.isExpanded()!==r&&(o.setExpanded(r),i.push(o))})),this.visibleColsService.refresh(t,!0),i.length&&this.eventDispatcher.groupOpened(i),this.columnAnimationService.finish()}}}]),n}(Y),Us=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnViewportService",e.colsWithinViewport=[],e.headerColsWithinViewport=[],e.colsWithinViewportHash="",e.rowsOfHeadersToRenderLeft={},e.rowsOfHeadersToRenderRight={},e.rowsOfHeadersToRenderCenter={},e}return k(n,[{key:"wireBeans",value:function(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}},{key:"postConstruct",value:function(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}},{key:"setScrollPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.visibleColsService.isBodyWidthDirty(),r=e===this.scrollWidth&&t===this.scrollPosition&&!i;if(!r){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){var o=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=o-this.scrollPosition-this.scrollWidth,this.viewportRight=o-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(n)}}},{key:"getHeadersToRender",value:function(e,t){var n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t]}return n||[]}},{key:"extractViewportColumns",value:function(){var e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}},{key:"isColumnVirtualisationSuppressed",value:function(){return this.suppressColumnVirtualisation||0===this.viewportRight}},{key:"clear",value:function(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}},{key:"isColumnInHeaderViewport",value:function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)}},{key:"isColumnInRowViewport",value:function(e){if(e.isAutoHeight())return!0;var t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200;return!(t<i&&n<i)&&!(t>r&&n>r)}},{key:"getViewportColumns",value:function(){var e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}},{key:"getColsWithinViewport",value:function(e){var t=this;if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;var n=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),i=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,i,n,(function(e){var n=e.getLeft();return $(n)&&n>t.viewportLeft}))}},{key:"checkViewportColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.extractViewport();t&&this.eventDispatcher.virtualColumnsChanged(e)}},{key:"calculateHeaderRows",value:function(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};var e={},t=this.visibleColsService.getLeftCols(),n=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(n).forEach((function(t){return e[t.getId()]=!0}));var i=function t(n,i,r){for(var o=!1,a=0;a<n.length;a++){var s=n[a],l=!1;if(we(s))l=!0===e[s.getId()];else{var u=s.getDisplayedChildren();u&&(l=t(u,i,r+1))}l&&(o=!0,i[r]||(i[r]=[]),i[r].push(s))}return o};i(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),i(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),i(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}},{key:"extractViewport",value:function(){this.extractViewportColumns();var e=this.getViewportColumns().map((function(e){return"".concat(e.getId(),"-").concat(e.getPinned()||"normal")})).join("#"),t=this.colsWithinViewportHash!==e;return t&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),t}}]),n}(Y),js=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="agComponentUtils",e}return k(n,[{key:"wireBeans",value:function(e){this.componentMetadataProvider=e.componentMetadataProvider}},{key:"adaptFunction",value:function(e,t){var n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(t):null}},{key:"adaptCellRendererFunction",value:function(e){return function(){function t(){C(this,t)}return k(t,[{key:"refresh",value:function(){return!1}},{key:"getGui",value:function(){return this.eGui}},{key:"init",value:function(t){var n=e(t),i=typeof n;this.eGui="string"!==i&&"number"!==i&&"boolean"!==i?null!=n?n:Pn("<span></span>"):Pn("<span>"+n+"</span>")}}]),t}()}},{key:"doesImplementIComponent",value:function(e){return!!e&&(e.prototype&&"getGui"in e.prototype)}}]),n}(Y),Zs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="componentMetadataProvider",e}return k(n,[{key:"wireBeans",value:function(e){this.agComponentUtils=e.agComponentUtils}},{key:"postConstruct",value:function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}},{key:"retrieve",value:function(e){return this.componentMetaData[e]}}]),n}(Y),Ks=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map((function(e,t){return[e,t]})));function qs(e,t){var n,i;return(null!==(n=e.beanName?Ks[e.beanName]:void 0)&&void 0!==n?n:Number.MAX_SAFE_INTEGER)-(null!==(i=t.beanName?Ks[t.beanName]:void 0)&&void 0!==i?i:Number.MAX_SAFE_INTEGER)}function Qs(e,t){return"gridDestroyService"===(null===e||void 0===e?void 0:e.beanName)?-1:0}var Ys=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="ctrlsFactory",e.registry={},e}return k(n,[{key:"register",value:function(e){this.registry[e.name]=e.classImp}},{key:"getInstance",value:function(e){var t=this.registry[e];if(null!=t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return E(t,i)}}}]),n}(Y),Xs=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="ctrlsService",e.params={},e.ready=!1,e.readyCallbacks=[],e}return k(n,[{key:"checkReady",value:function(){var e=this.params;this.ready=null!=e.gridCtrl&&null!=e.gridBodyCtrl&&null!=e.center&&null!=e.left&&null!=e.right&&null!=e.bottomCenter&&null!=e.bottomLeft&&null!=e.bottomRight&&null!=e.topCenter&&null!=e.topLeft&&null!=e.topRight&&null!=e.stickyTopCenter&&null!=e.stickyTopLeft&&null!=e.stickyTopRight&&null!=e.stickyBottomCenter&&null!=e.stickyBottomLeft&&null!=e.stickyBottomRight&&null!=e.centerHeader&&null!=e.leftHeader&&null!=e.rightHeader&&null!=e.fakeHScrollComp&&null!=e.fakeVScrollComp&&null!=e.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach((function(t){return t(e)})),this.readyCallbacks.length=0)}},{key:"whenReady",value:function(e){this.ready?e(this.params):this.readyCallbacks.push(e)}},{key:"register",value:function(e,t){this.params[e]=t,this.checkReady()}},{key:"registerHeaderContainer",value:function(e,t){var n=this.params;switch(t){case"left":n.leftHeader=e;break;case"right":n.rightHeader=e;break;default:n.centerHeader=e}this.checkReady()}},{key:"get",value:function(e){return this.params[e]}},{key:"getParams",value:function(){return this.params}},{key:"getGridBodyCtrl",value:function(){return this.params.gridBodyCtrl}},{key:"getHeaderRowContainerCtrls",value:function(){var e=this.params,t=e.leftHeader,n=e.centerHeader;return[t,e.rightHeader,n]}},{key:"getHeaderRowContainerCtrl",value:function(e){var t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}}]),n}(Y),Js=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="cellPositionUtils",e}return k(n,[{key:"createId",value:function(e){var t=e.rowIndex,n=e.rowPinned,i=e.column;return this.createIdFromValues({rowIndex:t,column:i,rowPinned:n})}},{key:"createIdFromValues",value:function(e){var t=e.rowIndex,n=e.rowPinned,i=e.column;return"".concat(t,".").concat(null==n?"null":n,".").concat(i.getId())}},{key:"equals",value:function(e,t){var n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}}]),n}(Y),$s=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowNodeEventThrottle",e.events=[],e}return k(n,[{key:"wireBeans",value:function(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}},{key:"postConstruct",value:function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}},{key:"dispatchExpanded",value:function(e,t){var n=this;if(null!=this.clientSideRowModel){this.events.push(e);var i=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach((function(e){return n.eventService.dispatchEvent(e)})),n.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}else this.eventService.dispatchEvent(e)}}]),n}(Y),el=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowPositionUtils",e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}},{key:"getFirstRow",value:function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}},{key:"getLastRow",value:function(){var e,t=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(t="bottom",e=n-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):i&&(t="top",e=i-1),void 0===e?null:{rowIndex:e,rowPinned:t}}},{key:"getRowNode",value:function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowNodes()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowNodes()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}},{key:"sameRow",value:function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)}},{key:"before",value:function(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if($(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}}]),n}(Y),tl={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},nl={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},il={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},rl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="environment",e.sizeEls=new Map,e.lastKnownValues=new Map,e.themeClasses=[],e.eThemeAncestor=null,e.eMeasurementContainer=null,e.sizesMeasured=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}},{key:"postConstruct",value:function(){var e=this;this.addManagedPropertyListener("rowHeight",(function(){return e.refreshRowHeightVariable()})),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(tl),this.getSizeEl(nl),this.getSizeEl(il)}},{key:"getDefaultRowHeight",value:function(){return this.getCSSVariablePixelValue(tl)}},{key:"getDefaultHeaderHeight",value:function(){return this.getCSSVariablePixelValue(nl)}},{key:"getDefaultListItemHeight",value:function(){return this.getCSSVariablePixelValue(il)}},{key:"hasMeasuredSizes",value:function(){return this.sizesMeasured}},{key:"getThemeClasses",value:function(){return this.themeClasses}},{key:"applyThemeClasses",value:function(e){for(var t=0,n=Array.from(e.classList);t<n.length;t++){var i=n[t];i.startsWith("ag-theme-")&&!this.themeClasses.includes(i)&&e.classList.remove(i)}var r,o=x(this.themeClasses);try{for(o.s();!(r=o.n()).done;){var a=r.value;e.classList.contains(a)||e.classList.add(a)}}catch(Am){o.e(Am)}finally{o.f()}}},{key:"getThemeAncestorElement",value:function(){return this.eThemeAncestor}},{key:"refreshRowHeightVariable",value:function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var n="".concat(t,"px");return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),t):""!=e?parseFloat(e):-1}},{key:"getCSSVariablePixelValue",value:function(e){var t=this.lastKnownValues.get(e);if(null!=t)return t;var n=this.measureSizeEl(e);return"detached"===n||"no-styles"===n?e.defaultValue:(this.lastKnownValues.set(e,n),n)}},{key:"measureSizeEl",value:function(e){var t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";var n=t.offsetWidth;return n===al?"no-styles":(this.sizesMeasured=!0,n)}},{key:"getSizeEl",value:function(e){var t=this,n=this.sizeEls.get(e);if(n)return n;var i=this.eMeasurementContainer;i||((i=this.eMeasurementContainer=document.createElement("div")).className="ag-measurement-container",this.eGridDiv.appendChild(i)),(n=document.createElement("div")).style.width="var(".concat(e.cssName,", ").concat(al,"px)"),i.appendChild(n),this.sizeEls.set(e,n);var r=this.measureSizeEl(e);"no-styles"===r&&De("no value for ".concat(e.cssName,". This usually means that the grid has been initialised before styles have been loaded. The default value of ").concat(e.defaultValue," will be used and updated when styles load."));var o=this.resizeObserverService.observeResize(n,(function(){var n=t.measureSizeEl(e);"detached"!==n&&"no-styles"!==n&&(t.lastKnownValues.set(e,n),n!==r&&(r=n,t.fireGridStylesChangedEvent(e.changeKey)))}));return this.addDestroyFunc((function(){return o()})),n}},{key:"fireGridStylesChangedEvent",value:function(e){var t=(0,g.Z)({type:"gridStylesChanged"},e,!0);this.eventService.dispatchEvent(t)}},{key:"setUpThemeClassObservers",value:function(){for(var e=this,t=new MutationObserver((function(){var t=e.getAncestorThemeClasses();ol(t,e.themeClasses)||(e.themeClasses=t,e.fireGridStylesChangedEvent("themeChanged"))})),n=this.eGridDiv;n;)t.observe(n||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}},{key:"getAncestorThemeClasses",value:function(){var e=this.eGridDiv,t=[];for(this.eThemeAncestor=null;e;){var n,i=x(Array.from(e.classList).filter((function(e){return e.startsWith("ag-theme-")})));try{for(i.s();!(n=i.n()).done;){var r=n.value;this.eThemeAncestor=e,t.includes(r)||t.unshift(r)}}catch(Am){i.e(Am)}finally{i.f()}e=e.parentElement}return Object.freeze(t)}}]),n}(Y),ol=function(e,t){return e.length===t.length&&-1===e.findIndex((function(n,i){return e[i]!==t[i]}))},al=15538,sl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="eventService",e.globalEventService=new L,e}return k(n,[{key:"wireBeans",value:function(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}},{key:"postConstruct",value:function(){if(this.globalEventListener){var e=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}},{key:"addEventListener",value:function(e,t,n){this.globalEventService.addEventListener(e,t,n)}},{key:"removeEventListener",value:function(e,t,n){this.globalEventService.removeEventListener(e,t,n)}},{key:"addGlobalListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.addGlobalListener(e,t)}},{key:"removeGlobalListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.removeGlobalListener(e,t)}},{key:"dispatchLocalEvent",value:function(){}},{key:"dispatchEvent",value:function(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}},{key:"dispatchEventOnce",value:function(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}}]),n}(Y),ll=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="focusService",e}return k(n,[{key:"wireBeans",value:function(e){this.eGridDiv=e.eGridDiv,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.headerNavigationService=e.headerNavigationService,this.headerPositionUtils=e.headerPositionUtils,this.rowRenderer=e.rowRenderer,this.rowPositionUtils=e.rowPositionUtils,this.cellPositionUtils=e.cellPositionUtils,this.navigationService=e.navigationService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.rangeService=e.rangeService,this.advancedFilterService=e.advancedFilterService}},{key:"postConstruct",value:function(){var e=this,t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl}))}},{key:"registerKeyboardFocusEvents",value:function(){var e=this.gos.getDocument();n.addKeyboardModeEvents(e),n.instanceCount++,this.addDestroyFunc((function(){n.instanceCount--,n.unregisterGridCompController(e)}))}},{key:"onColumnEverythingChanged",value:function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}}},{key:"isKeyboardMode",value:function(){return n.keyboardModeActive}},{key:"getFocusCellToUseAfterRefresh",value:function(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),da.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}},{key:"getFocusHeaderToUseAfterRefresh",value:function(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Xr.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}},{key:"isDomDataMissingInHierarchy",value:function(e,t){for(var n=e;n;){if(this.gos.getDomData(n,t))return!1;n=n.parentNode}return!0}},{key:"getFocusedCell",value:function(){return this.focusedCellPosition}},{key:"shouldRestoreFocus",value:function(e){var t=this;return!!this.isCellRestoreFocused(e)&&(setTimeout((function(){t.restoredFocusedCellPosition=null}),0),!0)}},{key:"isCellRestoreFocused",value:function(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}},{key:"setRestoreFocusedCell",value:function(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}},{key:"getFocusEventParams",value:function(){var e=this.focusedCellPosition,t=e.rowIndex,n=e.rowPinned,i={rowIndex:t,rowPinned:n,column:e.column,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return r&&(i.isFullWidthCell=r.isFullWidth()),i}},{key:"clearFocusedCell",value:function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var e=y({type:"cellFocusCleared"},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}}},{key:"setFocusedCell",value:function(e){var t=e.column,n=e.rowIndex,i=e.rowPinned,r=e.forceBrowserFocus,o=void 0!==r&&r,a=e.preventScrollOnBrowserFocus,s=void 0!==a&&a,l=this.columnModel.getCol(t);if(l){this.focusedCellPosition=l?{rowIndex:n,rowPinned:J(i),column:l}:null;var u=y(y({type:"cellFocused"},this.getFocusEventParams()),{},{forceBrowserFocus:o,preventScrollOnBrowserFocus:s});this.eventService.dispatchEvent(u)}else this.focusedCellPosition=null}},{key:"isCellFocused",value:function(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}},{key:"isRowNodeFocused",value:function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}},{key:"isHeaderWrapperFocused",value:function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumnGroupChild(),n=e.getRowIndex(),i=e.getPinned(),r=this.focusedHeaderPosition,o=r.column,a=r.headerRowIndex;return t===o&&n===a&&i==o.getPinned()}},{key:"clearFocusedHeader",value:function(){this.focusedHeaderPosition=null}},{key:"getFocusedHeader",value:function(){return this.focusedHeaderPosition}},{key:"setFocusedHeader",value:function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}},{key:"focusHeaderPosition",value:function(e){var t;if(this.gos.get("suppressHeaderFocus"))return!1;var n=e.direction,i=e.fromTab,r=e.allowUserOverride,o=e.event,a=e.fromCell,s=e.rowWithoutSpanValue,l=e.headerPosition;if(a&&null!==(t=this.filterManager)&&void 0!==t&&t.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(l);if(r){var u=this.getFocusedHeader(),c=this.headerNavigationService.getHeaderRowCount();if(i){var d=this.gos.getCallback("tabToNextHeader");d&&(l=this.getHeaderPositionFromUserFunc({userFunc:d,direction:n,currentPosition:u,headerPosition:l,headerRowCount:c}))}else{var h=this.gos.getCallback("navigateToNextHeader");if(h&&o)l=h({key:o.key,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:c,event:o})}}return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:n,event:o,fromCell:a,rowWithoutSpanValue:s})}},{key:"focusHeaderPositionFromUserFunc",value:function(e){if(this.gos.get("suppressHeaderFocus"))return!1;var t=e.userFunc,n=e.headerPosition,i=e.direction,r=e.event,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),s=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:n,headerRowCount:a});return!!s&&this.focusProvidedHeaderPosition({headerPosition:s,direction:i,event:r})}},{key:"getHeaderPositionFromUserFunc",value:function(e){var t=e.userFunc,n=e.direction,i=e.currentPosition,r=t({backwards:"Before"===n,previousHeaderPosition:i,nextHeaderPosition:e.headerPosition,headerRowCount:e.headerRowCount});return!0===r||null===r?(null===r&&De("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),i):!1===r?null:r}},{key:"focusProvidedHeaderPosition",value:function(e){var t,n=e.headerPosition,i=e.direction,r=e.fromCell,o=e.rowWithoutSpanValue,a=e.event,s=n.column;if(-1===n.headerRowIndex)return null!==(t=this.filterManager)&&void 0!==t&&t.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(n):this.focusGridView(s);this.headerNavigationService.scrollToColumn(s,i);var l=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).focusHeader(n.headerRowIndex,s,a);return l&&(null!=o||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(null!==o&&void 0!==o?o:-1),l}},{key:"focusFirstHeader",value:function(){var e=this.visibleColsService.getAllCols()[0];if(!e)return!1;e.getParent()&&(e=this.visibleColsService.getColGroupAtLevel(e,0));var t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}},{key:"focusLastHeader",value:function(e){var t=this.headerNavigationService.getHeaderRowCount()-1,n=I(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}},{key:"focusPreviousFromFirstCell",value:function(e){var t;return null!==(t=this.filterManager)&&void 0!==t&&t.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}},{key:"isAnyCellFocused",value:function(){return!!this.focusedCellPosition}},{key:"isRowFocused",value:function(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===J(t))}},{key:"findFocusableElements",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=sn,r=ln;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');var o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter((function(e){return Fn(e)})),a=Array.prototype.slice.apply(e.querySelectorAll(r));if(!a.length)return o;var s=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))};return s(o,a)}},{key:"focusInto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.findFocusableElements(e,null,n),r=t?I(i):i[0];return!!r&&(r.focus({preventScroll:!0}),!0)}},{key:"findFocusableElementBeforeTabGuard",value:function(e,t){if(!t)return null;var n=this.findFocusableElements(e),i=n.indexOf(t);if(-1===i)return null;for(var r=-1,o=i-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){r=o;break}return r<=0?null:n[r-1]}},{key:"findNextFocusableElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eGridDiv,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),r=this.gos.getActiveDomElement(),o=(t?i.findIndex((function(e){return e.contains(r)})):i.indexOf(r))+(n?-1:1);return o<0||o>=i.length?null:i[o]}},{key:"isTargetUnderManagedComponent",value:function(e,t){if(!t)return!1;var n=e.querySelectorAll(".".concat(or.FOCUS_MANAGED_CLASS));if(!n.length)return!1;for(var i=0;i<n.length;i++)if(n[i].contains(t))return!0;return!1}},{key:"findTabbableParent",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=0;e&&null===rn(e)&&++n<=t;)e=e.parentElement;return null===rn(e)?null:e}},{key:"focusGridView",value:function(e,t){var n;if(this.gos.get("suppressCellFocus"))return t?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var i=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;var r=i.rowIndex,o=i.rowPinned,a=this.getFocusedHeader();return!e&&a&&(e=a.column),!(null==r||!e)&&(this.navigationService.ensureCellVisible({rowIndex:r,column:e,rowPinned:o}),this.setFocusedCell({rowIndex:r,column:e,rowPinned:J(o),forceBrowserFocus:!0}),null===(n=this.rangeService)||void 0===n||n.setRangeToCell({rowIndex:r,rowPinned:o,column:e}),!0)}},{key:"focusNextGridCoreContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}},{key:"focusAdvancedFilter",value:function(e){var t,n;return this.advancedFilterFocusColumn=null===e||void 0===e?void 0:e.column,null!==(t=null===(n=this.advancedFilterService)||void 0===n?void 0:n.getCtrl().focusHeaderComp())&&void 0!==t&&t}},{key:"focusNextFromAdvancedFilter",value:function(e,t){var n,i,r=null!==(n=t?void 0:this.advancedFilterFocusColumn)&&void 0!==n?n:null===(i=this.visibleColsService.getAllCols())||void 0===i?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)}},{key:"clearAdvancedFilterColumn",value:function(){this.advancedFilterFocusColumn=void 0}},{key:"addFocusableContainer",value:function(e){this.gridCtrl.addFocusableContainer(e)}},{key:"removeFocusableContainer",value:function(e){this.gridCtrl.removeFocusableContainer(e)}},{key:"focusGridInnerElement",value:function(e){return this.gridCtrl.focusInnerElement(e)}}],[{key:"addKeyboardModeEvents",value:function(e){this.instanceCount>0||(e.addEventListener("keydown",n.toggleKeyboardMode),e.addEventListener("mousedown",n.toggleKeyboardMode))}},{key:"removeKeyboardModeEvents",value:function(e){this.instanceCount>0||(e.addEventListener("keydown",n.toggleKeyboardMode),e.addEventListener("mousedown",n.toggleKeyboardMode))}},{key:"toggleKeyboardMode",value:function(e){var t=n.keyboardModeActive,i="keydown"===e.type;i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(n.keyboardModeActive=i)}},{key:"unregisterGridCompController",value:function(e){n.removeKeyboardModeEvents(e)}}]),n}(Y);ll.keyboardModeActive=!1,ll.instanceCount=0;var ul=ll,cl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="pinnedWidthService",e}return k(n,[{key:"wireBeans",value:function(e){this.visibleColsService=e.visibleColsService}},{key:"postConstruct",value:function(){var e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}},{key:"checkContainerWidths",value:function(){var e=this.gos.isDomLayout("print"),t=e?0:this.visibleColsService.getColsLeftWidth(),n=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}},{key:"getPinnedRightWidth",value:function(){return this.rightWidth}},{key:"getPinnedLeftWidth",value:function(){return this.leftWidth}}]),n}(Y),dl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).additionalFocusableContainers=new Set,e}return k(n,[{key:"wireBeans",value:function(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}},{key:"setComp",value:function(e,t,n){var i=this;this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.gridId);var r=this.beans,o=r.dragAndDropService,a=r.mouseEventService,s=r.ctrlsService,l=r.resizeObserverService;o.addDropTarget({getContainer:function(){return i.eGui},isInterestedIn:function(e){return 1===e||0===e},getIconName:function(){return"notAllowed"}}),a.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Vo(this.view)),this.addRtlSupport();var u=l.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return u()})),s.register("gridCtrl",this)}},{key:"isDetailGrid",value:function(){var e,t=this.focusService.findTabbableParent(this.getGui());return(null===t||void 0===t||null===(e=t.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1}},{key:"getOptionalSelectors",value:function(){var e,t,n,i,r,o=this.beans;return{paginationSelector:null===(e=o.paginationService)||void 0===e?void 0:e.getPaginationSelector(),gridHeaderDropZonesSelector:null===(t=o.columnDropZonesService)||void 0===t?void 0:t.getDropZoneSelector(),sideBarSelector:null===(n=o.sideBarService)||void 0===n?void 0:n.getSideBarSelector(),statusBarSelector:null===(i=o.statusBarService)||void 0===i?void 0:i.getStatusPanelSelector(),watermarkSelector:null===(r=o.licenseManager)||void 0===r?void 0:r.getWatermarkSelector()}}},{key:"onGridSizeChanged",value:function(){var e={type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}},{key:"addRtlSupport",value:function(){var e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}},{key:"destroyGridUi",value:function(){this.view.destroyGridUi()}},{key:"getGui",value:function(){return this.eGui}},{key:"setResizeCursor",value:function(e){this.view.setCursor(e?"ew-resize":null)}},{key:"disableUserSelect",value:function(e){this.view.setUserSelect(e?"none":null)}},{key:"focusNextInnerContainer",value:function(e){var t=this.getFocusableContainers(),n=this.gos.getActiveDomElement(),i=t.findIndex((function(e){return e.getGui().contains(n)})),r=i+(e?-1:1);if(r<0||r>=t.length)return!1;if(0===r){if(i>0){var o=I(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(o,!0))return!0}return!1}return this.focusContainer(t[r],e)}},{key:"focusInnerElement",value:function(e){var t=this.getFocusableContainers(),n=this.visibleColsService.getAllCols(),i=this.gos.getCallback("focusGridInnerElement");if(i&&i({fromBottom:!!e}))return!0;if(e){if(t.length>1)return this.focusContainer(I(t),!0);var r=I(n);if(this.focusService.focusGridView(r,!0))return!0}if(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(n[0]))return!0;for(var o=1;o<t.length;o++)if(this.focusService.focusInto(t[o].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}},{key:"forceFocusOutOfContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.view.forceFocusOutOfContainer(e)}},{key:"addFocusableContainer",value:function(e){this.additionalFocusableContainers.add(e)}},{key:"removeFocusableContainer",value:function(e){this.additionalFocusableContainers.delete(e)}},{key:"focusContainer",value:function(e,t){var n,i;null===e||void 0===e||null===(n=e.setAllowFocus)||void 0===n||n.call(e,!0);var r=this.focusService.focusInto(e.getGui(),t);return null===e||void 0===e||null===(i=e.setAllowFocus)||void 0===i||i.call(e,!1),r}},{key:"getFocusableContainers",value:function(){return[].concat((0,o.Z)(this.view.getFocusableContainers()),(0,o.Z)(this.additionalFocusableContainers.values()))}},{key:"destroy",value:function(){this.additionalFocusableContainers.clear(),l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),hl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="alignedGridsService",e.consuming=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}},{key:"getAlignedGridApis",value:function(){var e,t=this,n=null!==(e=this.gos.get("alignedGrids"))&&void 0!==e?e:[],i="function"===typeof n;"function"===typeof n&&(n=n());var r=function(){return"See ".concat(t.getFrameworkOverrides().getDocLink("aligned-grids"))};return n.map((function(e){if(!e)return xe("alignedGrids contains an undefined option."),i||xe('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void xe(r());if(t.isGridApi(e))return e;var n,o=e;return"current"in o?null===(n=o.current)||void 0===n?void 0:n.api:(o.api||xe("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(r())),o.api)})).filter((function(e){return!!e&&!e.isDestroyed()}))}},{key:"isGridApi",value:function(e){return!!e&&!!e.dispatchEvent}},{key:"postConstruct",value:function(){var e=this,t=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:t,columnVisible:t,columnPinned:t,columnGroupOpened:t,columnResized:t,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:function(t){var n=t.event;return e.onColumnEvent(n)},alignedGridScroll:function(t){var n=t.event;return e.onScrollEvent(n)}})}},{key:"fireEvent",value:function(e){this.consuming||this.getAlignedGridApis().forEach((function(t){t.isDestroyed()||t.dispatchEvent(e)}))}},{key:"onEvent",value:function(e){this.consuming=!0,e(),this.consuming=!1}},{key:"fireColumnEvent",value:function(e){var t={type:"alignedGridColumn",event:e};this.fireEvent(t)}},{key:"fireScrollEvent",value:function(e){if("horizontal"===e.direction){var t={type:"alignedGridScroll",event:e};this.fireEvent(t)}}},{key:"onScrollEvent",value:function(e){var t=this;this.onEvent((function(){t.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)}))}},{key:"getMasterColumns",value:function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e)})):e.column&&t.push(e.column),t}},{key:"getColumnIds",value:function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t}},{key:"onColumnEvent",value:function(e){var t=this;this.onEvent((function(){switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":var n=e;t.processColumnEvent(n);break;case"columnGroupOpened":var i=e;t.processGroupOpenedEvent(i);break;case"columnPivotChanged":De("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}},{key:"processGroupOpenedEvent",value:function(e){var t=this;e.columnGroups.forEach((function(e){var n=null;if(e){var i=e.getGroupId();n=t.columnModel.getProvidedColGroup(i)}e&&!n||t.columnModel.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged")}))}},{key:"processColumnEvent",value:function(e){var t=e.column,n=null;if(t&&(n=this.columnModel.getColDefCol(t.getColId())),!t||n){var i=this.getMasterColumns(e);switch(e.type){case"columnMoved":var r=e.api.getColumnState().map((function(e){return{colId:e.colId}}));this.columnApplyStateService.applyColumnState({state:r,applyOrder:!0},"alignedGridChanged");break;case"columnVisible":var o=e.api.getColumnState().map((function(e){return{colId:e.colId,hide:e.hide}}));this.columnApplyStateService.applyColumnState({state:o},"alignedGridChanged");break;case"columnPinned":var a=e.api.getColumnState().map((function(e){return{colId:e.colId,pinned:e.pinned}}));this.columnApplyStateService.applyColumnState({state:a},"alignedGridChanged");break;case"columnResized":var s,l=e,u={};i.forEach((function(e){u[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),null===(s=l.flexColumns)||void 0===s||s.forEach((function(e){u[e.getId()]&&delete u[e.getId()]})),this.columnSizeService.setColumnWidths(Object.values(u),!1,l.finished,"alignedGridChanged")}var c=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((function(e){e.setGridOption("alwaysShowVerticalScroll",c)}))}}}]),n}(Y),fl={version:eo,moduleName:"@ag-grid-community/aligned-grid",beans:[hl]};var vl={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},pl=["january","february","march","april","may","june","july","august","september","october","november","december"],gl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="dataTypeService",e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService}},{key:"postConstruct",value:function(){var e=this;this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(function(){e.groupHideOpenParents=e.gos.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(function(t){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs(qe(t.source))}))}},{key:"processDataTypeDefinitions",value:function(){var e,t=this,n=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};var i=function(e){return function(n){var i=n.column,r=n.node,o=n.value,a=i.getColDef().valueFormatter;return a===e.groupSafeValueFormatter&&(a=e.valueFormatter),t.valueService.formatValue(i,r,o,a)}};Object.entries(n).forEach((function(e){var n=(0,r.Z)(e,2),o=n[0],a=n[1],s=y(y({},a),{},{groupSafeValueFormatter:t.createGroupSafeValueFormatter(a)});t.dataTypeDefinitions[o]=s,t.formatValueFuncs[o]=i(s)}));var o=null!==(e=this.gos.get("dataTypeDefinitions"))&&void 0!==e?e:{};this.dataTypeMatchers={},Object.entries(o).forEach((function(e){var a=(0,r.Z)(e,2),s=a[0],l=a[1],u=t.processDataTypeDefinition(l,o,[s],n);u&&(t.dataTypeDefinitions[s]=u,l.dataTypeMatcher&&(t.dataTypeMatchers[s]=l.dataTypeMatcher),t.formatValueFuncs[s]=i(u))})),this.checkObjectValueHandlers(n),["dateString","text","number","boolean","date"].forEach((function(e){var i=t.dataTypeMatchers[e];i&&delete t.dataTypeMatchers[e],t.dataTypeMatchers[e]=null!==i&&void 0!==i?i:n[e].dataTypeMatcher}))}},{key:"mergeDataTypeDefinitions",value:function(e,t){var n=y(y({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[].concat((0,o.Z)(Ue(e.columnTypes)),(0,o.Z)(Ue(t.columnTypes)))),n}},{key:"processDataTypeDefinition",value:function(e,t,n,i){var r,a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var s=i[a],l=t[a];if(s&&l&&(s=l),!this.validateDataTypeDefinition(e,s,a))return;r=this.mergeDataTypeDefinitions(s,e)}else{if(n.includes(a))return void De('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');var u=t[a];if(!this.validateDataTypeDefinition(e,u,a))return;var c=this.processDataTypeDefinition(u,t,[].concat((0,o.Z)(n),[a]),i);if(!c)return;r=this.mergeDataTypeDefinitions(c,e)}return y(y({},r),{},{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}},{key:"validateDataTypeDefinition",value:function(e,t,n){return t?t.baseDataType===e.baseDataType||(De('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(De("The data type definition ".concat(n," does not exist.")),!1)}},{key:"createGroupSafeValueFormatter",value:function(e){var t=this;if(e.valueFormatter)return function(n){var i;if(null!==(i=n.node)&&void 0!==i&&i.group){var r=n.column.getAggFunc();if(r){if("first"===r||"last"===r)return e.valueFormatter(n);if("number"===e.baseDataType&&"count"!==r){if("number"===typeof n.value)return e.valueFormatter(n);if("object"===typeof n.value){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(y(y({},n),{},{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(y(y({},n),{},{value:n.value.value}))}}}if(!t.gos.get("suppressGroupMaintainValueType"))return}else if(t.groupHideOpenParents&&n.column.isRowGroupActive()){var o;if("string"!==typeof n.value||null!==(o=e.dataTypeMatcher)&&void 0!==o&&o.call(e,n.value))return e.valueFormatter(n);if(!t.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(n)}}},{key:"updateColDefAndGetColumnType",value:function(e,t,n){var i=t.cellDataType,r=t.field;if(void 0===i&&(i=e.cellDataType),null!=i&&!0!==i||(i=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(r,n)),i){var o=this.dataTypeDefinitions[i];if(o)return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,n),o.columnTypes;De('Missing data type definition - "'.concat(i,'"'))}else e.cellDataType=!1}},{key:"addColumnListeners",value:function(e){if(this.isWaitingForRowData){var t=this.columnStateUpdatesPendingInference[e.getColId()];if(t){var n=function(e){t.add(e.key)};e.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push((function(){return e.removeEventListener("columnStateUpdated",n)}))}}}},{key:"canInferCellDataType",value:function(e,t){var n=this;if("clientSide"!==this.rowModel.getType())return!1;var i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;var r=null===t.type?e.type:t.type;if(r){var o,a=null!==(o=this.gos.get("columnTypes"))&&void 0!==o?o:{};if(Ue(r).some((function(e){var t=a[e.trim()];return t&&n.doColDefPropsPreventInference(t,i)})))return!1}return!this.doColDefPropsPreventInference(e,i)}},{key:"doColDefPropsPreventInference",value:function(e,t){var n=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((function(i){var o=(0,r.Z)(i,2),a=o[0],s=o[1];return n.doesColDefPropPreventInference(e,t,a,s)}))}},{key:"doesColDefPropPreventInference",value:function(e,t,n,i){if(!t[n])return!1;var r=e[n];return null===r?(t[n]=!1,!1):void 0===i?!!r:r===i}},{key:"inferCellDataType",value:function(e,t){var n;if(e){var i,o=this.getInitialData();if(o){var a=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=pe(o,e,a)}else this.initWaitForRowData(t);if(null!=i){var s=null!==(n=Object.entries(this.dataTypeMatchers).find((function(e){var t=(0,r.Z)(e,2);t[0];return(0,t[1])(i)})))&&void 0!==n?n:["object"];return(0,r.Z)(s,1)[0]}}}},{key:"getInitialData",value:function(){var e=this.gos.get("rowData");if(null!==e&&void 0!==e&&e.length)return e[0];if(this.initialData)return this.initialData;var t=this.rowModel.getRootNode().allLeafChildren;return null!==t&&void 0!==t&&t.length?t[0].data:null}},{key:"initWaitForRowData",value:function(e){var t=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var n=this.isColumnTypeOverrideInDataTypeDefinitions;n&&this.columnModel.queueResizeOperations();var i=this.addManagedEventListeners({rowDataUpdateStarted:function(e){var i=e.firstRowData;if(i){null===o||void 0===o||o(),t.isWaitingForRowData=!1,t.processColumnsPendingInference(i,n),t.columnStateUpdatesPendingInference={},n&&t.columnModel.processResizeOperations();t.eventService.dispatchEvent({type:"dataTypesInferred"})}}}),o=(0,r.Z)(i,1)[0]}}},{key:"isPendingInference",value:function(){return this.isWaitingForRowData}},{key:"processColumnsPendingInference",value:function(e,t){var n=this;this.initialData=e;var i=[];this.destroyColumnStateUpdateListeners();var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach((function(e){var o=(0,r.Z)(e,2),l=o[0],u=o[1],c=n.columnModel.getCol(l);if(c){var d=c.getColDef();if(n.columnModel.resetColDefIntoCol(c,"cellDataTypeInferred")){var h=c.getColDef();if(t&&h.type&&h.type!==d.type){var f=n.getUpdatedColumnState(c,u);f.rowGroup&&null==f.rowGroupIndex&&(a[l]=f),f.pivot&&null==f.pivotIndex&&(s[l]=f),i.push(f)}}}})),t&&i.push.apply(i,(0,o.Z)(this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(a,s))),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}},{key:"getUpdatedColumnState",value:function(e,t){var n=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach((function(e){delete n[e],"rowGroup"===e?delete n.rowGroupIndex:"pivot"===e&&delete n.pivotIndex})),n}},{key:"checkObjectValueHandlers",value:function(e){var t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}},{key:"getDateStringTypeDefinition",value:function(e){var t;return e&&null!==(t=this.getDataTypeDefinition(e))&&void 0!==t?t:this.dataTypeDefinitions.dateString}},{key:"getDateParserFunction",value:function(e){return this.getDateStringTypeDefinition(e).dateParser}},{key:"getDateFormatterFunction",value:function(e){return this.getDateStringTypeDefinition(e).dateFormatter}},{key:"getDataTypeDefinition",value:function(e){var t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}},{key:"getBaseDataType",value:function(e){var t;return null===(t=this.getDataTypeDefinition(e))||void 0===t?void 0:t.baseDataType}},{key:"checkType",value:function(e,t){var n;if(null==t)return!0;var i=null===(n=this.getDataTypeDefinition(e))||void 0===n?void 0:n.dataTypeMatcher;return!i||i(t)}},{key:"validateColDef",value:function(e){"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||De('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&De('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}},{key:"getFormatValue",value:function(e){return this.formatValueFuncs[e]}},{key:"setColDefPropertiesForBaseDataType",value:function(e,t,n,i){var r=this,o=this.formatValueFuncs[t],a=$n.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),s=this.localeService.getLocaleTextFunc(),l=function(t){var n=e.filterParams;e.filterParams="object"===typeof n?y(y({},n),t):t};switch(n.baseDataType){case"number":e.cellEditor="agNumberCellEditor",a&&l({comparator:function(e,t){var n=null==e?0:parseInt(e),i=null==t?0:parseInt(t);return n===i?0:n>i?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(e){return!!e.colDef.editable&&e.event.key===ni.SPACE},l(a?{valueFormatter:function(e){return $(e.value)?s(String(e.value),e.value?"True":"False"):s("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(e,t){return t},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(e,t){return!1===t},numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=o,a&&l({valueFormatter:function(e){var t=o(e);return $(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(e,t){if(1===t&&null!=e){var n=pl[Number(e)-1];return s(n,vl[n])}return null!==e&&void 0!==e?e:s("blanks","(Blanks)")}});break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=o;var u=n.dateParser;l(a?{valueFormatter:function(e){var t=o(e);return $(t)?t:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(e){var t=u(null!==e&&void 0!==e?e:void 0);return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},treeListFormatter:function(e,t){if(1===t&&null!=e){var n=pl[Number(e)-1];return s(n,vl[n])}return null!==e&&void 0!==e?e:s("blanks","(Blanks)")}}:{comparator:function(e,t){var n=u(t);return null==t||n<e?-1:n>e?1:0}});break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=function(e,t){var n=r.columnModel.getColDefCol(i),a=null===n||void 0===n?void 0:n.getColDef();if(!n||!a)return 0;var s=null==e?"":o({column:n,node:null,value:e}),l=null==t?"":o({column:n,node:null,value:t});return s===l?0:s>l?1:-1},e.keyCreator=o,a?l({valueFormatter:function(e){var t=o(e);return $(t)?t:s("blanks","(Blanks)")}}):e.filterValueGetter=function(e){return o({column:e.column,node:e.node,value:r.valueService.getValue(e.column,e.node)})}}}},{key:"getDefaultDataTypes",value:function(){var e=function(e){return!!e.match("^\\d{4}-\\d{2}-\\d{2}$")},t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(e){var t,n;return""===(null===(t=e.newValue)||void 0===t||null===(n=t.trim)||void 0===n?void 0:n.call(t))?null:Number(e.newValue)},valueFormatter:function(e){return null==e.value?"":"number"!==typeof e.value||isNaN(e.value)?t("invalidNumber","Invalid Number"):String(e.value)},dataTypeMatcher:function(e){return"number"===typeof e}},text:{baseDataType:"text",valueParser:function(e){return""===e.newValue?null:ne(e.newValue)},dataTypeMatcher:function(e){return"string"===typeof e}},boolean:{baseDataType:"boolean",valueParser:function(e){var t,n;return null==e.newValue?e.newValue:""===(null===(t=e.newValue)||void 0===t||null===(n=t.trim)||void 0===n?void 0:n.call(t))?null:"true"===String(e.newValue).toLowerCase()},valueFormatter:function(e){return null==e.value?"":String(e.value)},dataTypeMatcher:function(e){return"boolean"===typeof e}},date:{baseDataType:"date",valueParser:function(e){return Hr(null==e.newValue?null:String(e.newValue))},valueFormatter:function(e){var n;return null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?null!==(n=Nr(e.value,!1))&&void 0!==n?n:"":t("invalidDate","Invalid Date")},dataTypeMatcher:function(e){return e instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(e){var t;return null!==(t=Hr(e))&&void 0!==t?t:void 0},dateFormatter:function(e){var t;return null!==(t=Nr(null!==e&&void 0!==e?e:null,!1))&&void 0!==t?t:void 0},valueParser:function(t){return e(String(t.newValue))?t.newValue:null},valueFormatter:function(t){return e(String(t.value))?t.value:""},dataTypeMatcher:function(t){return"string"===typeof t&&e(t)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(e){var t;return null!==(t=ne(e.value))&&void 0!==t?t:""}}}}},{key:"destroyColumnStateUpdateListeners",value:function(){this.columnStateUpdateListenerDestroyFuncs.forEach((function(e){return e()})),this.columnStateUpdateListenerDestroyFuncs=[]}},{key:"destroy",value:function(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),l(a(n.prototype),"destroy",this).call(this)}}]),n}(Y),ml={version:eo,moduleName:"@ag-grid-community/data-type",beans:[gl]},yl={version:eo,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function(e,t){var n=e.columnModel.getColDefCol(t);return n?n.getColDef():null},getColumnDefs:function(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function(e,t){"number"===typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function(e,t,n){e.columnModel.setColumnGroupOpened(t,n,"api")},getColumnGroup:function(e,t,n){return e.visibleColsService.getColumnGroup(t,n)},getProvidedColumnGroup:function(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function(e,t,n){return e.columnNameService.getDisplayNameForColumn(t,n)||""},getDisplayNameForColumnGroup:function(e,t,n){return e.columnNameService.getDisplayNameForColumnGroup(t,n)||""},getColumn:function(e,t){return e.columnModel.getColDefCol(t)},getColumns:function(e){return e.columnModel.getColDefCols()},applyColumnState:function(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function(e){return e.columnGetStateService.getColumnState()},resetColumnState:function(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function(e,t,n){e.columnModel.setColsVisible([t],n,"api")},setColumnsVisible:function(e,t,n){e.columnModel.setColsVisible(t,n,"api")},setColumnPinned:function(e,t,n){e.columnModel.setColsPinned([t],n,"api")},setColumnsPinned:function(e,t,n){e.columnModel.setColsPinned(t,n,"api")},getAllGridColumns:function(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function(e){return e.columnViewportService.getViewportColumns()},moveColumn:function(e,t,n){e.columnMoveService.moveColumns([t],n,"api")},moveColumnByIndex:function(e,t,n){e.columnMoveService.moveColumnByIndex(t,n,"api")},moveColumns:function(e,t,n){e.columnMoveService.moveColumns(t,n,"api")},setColumnWidth:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"api";e.columnSizeService.setColumnWidths([{key:t,newWidth:n}],!1,i,r)},setColumnWidths:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";e.columnSizeService.setColumnWidths(t,!1,n,i)},getLeftDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function(e,t,n){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:n,source:"api"})},autoSizeColumns:function(e,t,n){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})},autoSizeAllColumns:function(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}};var Cl={version:eo,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function(e,t,n){if(t){var i=e.ctrlsService.getGridBodyCtrl().getGui(),r="aria-".concat(t);null===n?i.removeAttribute(r):i.setAttribute(r,n)}},refreshCells:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.frameworkOverrides.wrapIncoming((function(){return e.rowRenderer.refreshCells(t)}))},flashCells:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return De("Since v31.1 api.flashCells parameter '".concat(e,"Delay' is deprecated. Please use '").concat(e,"Duration' instead."))};$(t.fadeDelay)&&n("fade"),$(t.flashDelay)&&n("flash"),e.frameworkOverrides.wrapIncoming((function(){return e.rowRenderer.flashCells(t)}))},refreshHeader:function(e){e.frameworkOverrides.wrapIncoming((function(){return e.ctrlsService.getHeaderRowContainerCtrls().forEach((function(e){return e.refresh()}))}))},isAnimationFrameQueueEmpty:function(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function(e){return{rowHeight:e.gos.getRowHeightAsNumber(),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.rowRenderer.getCellRendererInstances(t),i=n.map(Vi);return i}}};function wl(e,t){var n,i=t.colKey,r=t.rowNode,o=t.useFormatter,a=null!==(n=e.columnModel.getColDefCol(i))&&void 0!==n?n:e.columnModel.getCol(i);if(ee(a))return null;var s=e.valueService.getValue(a,r);if(o){var l=e.valueService.formatValue(a,r,s);return null!==l&&void 0!==l?l:rt(s,!0)}return s}function Sl(e,t){e.gos.updateGridOptions({options:t})}function kl(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function bl(e){return e.rowRenderer.getLastVirtualRenderedRow()}var Rl={version:eo,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function(e){return e.context.getGridId()},destroy:function(e){e.gridDestroyService.destroy()},isDestroyed:function(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function(e,t){return e.gos.get(t)},setGridOption:function(e,t,n){Sl(e,(0,g.Z)({},t,n))},updateGridOptions:Sl}},El={version:eo,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function(e,t){if(t.nodes.every((function(e){return e.rowPinned?(De("cannot select pinned rows"),!1):void 0!==e.id||(De("cannot select node until id for node is known"),!1)}))){var n=t.nodes,i=t.source,r=t.newValue,o=n;e.selectionService.setNodesSelected({nodes:o,source:null!==i&&void 0!==i?i:"api",newValue:r})}},selectAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.selectAllRowNodes({source:t})},deselectAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function(e){return e.selectionService.getSelectedRows()}}},Fl={version:eo,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming((function(){return e.rowRenderer.redrawRows(n)}))},setRowNodeExpanded:function(e,t,n,i,r){e.expansionService.setRowNodeExpanded(t,n,i,r)},getRowNode:function(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)},getRenderedNodes:function(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function(e,t,n){e.rowModel.forEachNode(t,n)},getFirstDisplayedRow:function(e){return kl(e)},getFirstDisplayedRowIndex:kl,getLastDisplayedRow:function(e){return bl(e)},getLastDisplayedRowIndex:bl,getDisplayedRowAtIndex:function(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function(e){return e.rowModel.getRowCount()},getModel:function(e){return e.rowModel}}},Pl={version:eo,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:us,ensureIndexVisible:cs,ensureNodeVisible:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.frameworkOverrides.wrapIncoming((function(){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,n)}),"ensureVisible")}}},Dl={version:eo,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function(e){return e.focusService.getFocusedCell()},clearFocusedCell:function(e){return e.focusService.clearFocusedCell()},setFocusedCell:function(e,t,n,i){e.focusService.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})},setFocusedHeader:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.headerNavigationService.getHeaderPositionForColumn(t,n);i&&e.focusService.focusHeaderPosition({headerPosition:i})},tabToNextCell:function(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function(e,t){return e.navigationService.tabToNextCell(!0,t)}}},xl={version:eo,moduleName:"@ag-grid-community/api",dependantModules:[Rl,{version:eo,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}},El,yl,Fl,{version:eo,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function(e,t){var n=e.dragAndDropService.findExternalZone(t);n&&e.dragAndDropService.removeDropTarget(n)},getRowDropZoneParams:function(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},Pl,{version:eo,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function(e){e.overlayService.hideOverlay()}}},Dl,{version:eo,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function(e,t,n){e.apiEventService.addEventListener(t,n)},addGlobalListener:function(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function(e,t,n){e.apiEventService.removeEventListener(t,n)},removeGlobalListener:function(e,t){e.apiEventService.removeGlobalListener(t)}}},Cl,{version:eo,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function(e){e.valueCache.expire()},getValue:function(e,t,n){return wl(e,{colKey:t,rowNode:n})},getCellValue:wl}},{version:eo,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function(e,t,n){var i=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:i,buttonElement:n,positionBy:"button"})},showColumnMenuAfterMouseClick:function(e,t,n){var i=e.columnModel.getCol(t);i||(i=e.columnModel.getColDefCol(t)),i?e.menuService.showColumnMenu({column:i,mouseEvent:n,positionBy:"mouse"}):xe("column '".concat(t,"' not found"))},showColumnMenu:function(e,t){var n=e.columnModel.getCol(t);n?e.menuService.showColumnMenu({column:n,positionBy:"auto"}):xe("column '".concat(t,"' not found"))},hidePopupMenu:function(e){e.menuService.hidePopupMenu()}}},{version:eo,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function(e){e.sortController.onSortChanged("api")}}}]};var Ml=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="stateService",e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=Oe((function(){return e.dispatchQueuedStateUpdateEvents()}),0),e.onRowGroupOpenedDebounced=Oe((function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),0),e.onRowSelectedDebounced=Oe((function(){e.staleStateKeys.delete("rowSelection"),e.updateCachedState("rowSelection",e.getRowSelectionState())}),0),e.staleStateKeys=new Set,e}return k(n,[{key:"wireBeans",value:function(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.rowModel=e.rowModel,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}},{key:"postConstruct",value:function(){var e,t=this;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{},this.ctrlsService.whenReady((function(){return t.suppressEventsAndDispatchInitEvent((function(){return t.setupStateOnGridReady()}))}));var n=this.addManagedEventListeners({newColumnsLoaded:function(e){"gridInitializing"===e.source&&(o(),t.suppressEventsAndDispatchInitEvent((function(){return t.setupStateOnColumnsInitialised()})))},rowCountReady:function(){null===a||void 0===a||a(),t.suppressEventsAndDispatchInitEvent((function(){return t.setupStateOnRowCountReady()}))},firstDataRendered:function(){null===s||void 0===s||s(),t.suppressEventsAndDispatchInitEvent((function(){return t.setupStateOnFirstDataRendered()}))}}),i=(0,r.Z)(n,3),o=i[0],a=i[1],s=i[2]}},{key:"getState",value:function(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}},{key:"setupStateOnGridReady",value:function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState());var t=function(){return e.updateCachedState("sideBar",e.getSideBarState())};this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}},{key:"setupStateOnColumnsInitialised",value:function(){var e,t=this,n=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{};this.setColumnState(n),this.setColumnGroupState(n),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedEventListeners({columnValueChanged:function(){return t.updateColumnState(["aggregation"])},columnMoved:function(){return t.updateColumnState(["columnOrder"])},columnPinned:function(){return t.updateColumnState(["columnPinning"])},columnResized:function(){return t.updateColumnState(["columnSizing"])},columnVisible:function(){return t.updateColumnState(["columnVisibility"])},columnPivotChanged:function(){return t.updateColumnState(["pivot"])},columnPivotModeChanged:function(){return t.updateColumnState(["pivot"])},columnRowGroupChanged:function(){return t.updateColumnState(["rowGroup"])},sortChanged:function(){return t.updateColumnState(["sort"])},newColumnsLoaded:function(){return t.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"])},columnGroupOpened:function(){return t.updateCachedState("columnGroup",t.getColumnGroupState())}})}},{key:"setupStateOnRowCountReady",value:function(){var e,t=this,n=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{},i=n.filter,r=n.rowGroupExpansion,o=n.rowSelection,a=n.pagination,s=this.gos.get("advancedFilterModel");(i||s)&&this.setFilterState(i,s),r&&this.setRowGroupExpansionState(r),o&&this.setRowSelectionState(o),a&&this.setPaginationState(a),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedEventListeners({filterChanged:function(){return t.updateCachedState("filter",t.getFilterState())},rowGroupOpened:function(){return t.onRowGroupOpenedDebounced()},expandOrCollapseAll:function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())},selectionChanged:function(){t.staleStateKeys.add("rowSelection"),t.onRowSelectedDebounced()},paginationChanged:function(e){(e.newPage||e.newPageSize)&&t.updateCachedState("pagination",t.getPaginationState())}})}},{key:"setupStateOnFirstDataRendered",value:function(){var e,t=this,n=null!==(e=this.gos.get("initialState"))&&void 0!==e?e:{},i=n.scroll,r=n.rangeSelection,o=n.focusedCell,a=n.columnOrder;o&&this.setFocusedCellState(o),r&&this.setRangeSelectionState(r),i&&this.setScrollState(i),this.setColumnPivotState(!(null===a||void 0===a||!a.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:function(){return t.updateCachedState("focusedCell",t.getFocusedCellState())},rangeSelectionChanged:function(e){e.finished&&t.updateCachedState("rangeSelection",t.getRangeSelectionState())},bodyScrollEnd:function(){return t.updateCachedState("scroll",t.getScrollState())}})}},{key:"getColumnState",value:function(){for(var e=this.columnModel.isPivotMode(),t=[],n=[],i=[],r=[],o=[],a=[],s=[],l=[],u=[],c=this.columnGetStateService.getColumnState(),d=0;d<c.length;d++){var h=c[d],f=h.colId,v=h.sort,p=h.sortIndex,g=h.rowGroup,m=h.rowGroupIndex,y=h.aggFunc,C=h.pivot,w=h.pivotIndex,S=h.pinned,k=h.hide,b=h.width,R=h.flex;u.push(f),v&&(t[null!==p&&void 0!==p?p:0]={colId:f,sort:v}),g&&(n[null!==m&&void 0!==m?m:0]=f),"string"===typeof y&&i.push({colId:f,aggFunc:y}),C&&(r[null!==w&&void 0!==w?w:0]=f),S&&("right"===S?a:o).push(f),k&&s.push(f),(R||b)&&l.push({colId:f,flex:null!==R&&void 0!==R?R:void 0,width:b})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:s.length?{hiddenColIds:s}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}},{key:"setColumnState",value:function(e){var t=e.sort,n=e.rowGroup,i=e.aggregation,r=e.pivot,o=e.columnPinning,a=e.columnVisibility,s=e.columnSizing,l=e.columnOrder,u={},c=function(e){var t=u[e];return t||(t={colId:e},u[e]=t,t)};t&&t.sortModel.forEach((function(e,t){var n=e.colId,i=e.sort,r=c(n);r.sort=i,r.sortIndex=t})),n&&n.groupColIds.forEach((function(e,t){var n=c(e);n.rowGroup=!0,n.rowGroupIndex=t})),i&&i.aggregationModel.forEach((function(e){var t=e.colId,n=e.aggFunc;c(t).aggFunc=n})),r&&(r.pivotColIds.forEach((function(e,t){var n=c(e);n.pivot=!0,n.pivotIndex=t})),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"})),o&&(o.leftColIds.forEach((function(e){c(e).pinned="left"})),o.rightColIds.forEach((function(e){c(e).pinned="right"}))),a&&a.hiddenColIds.forEach((function(e){c(e).hide=!0})),s&&s.columnSizingModel.forEach((function(e){var t=e.colId,n=e.flex,i=e.width,r=c(t);r.flex=null!==n&&void 0!==n?n:null,r.width=i}));var d=null===l||void 0===l?void 0:l.orderedColIds,h=!(null===d||void 0===d||!d.length),f=h?d.map((function(e){return c(e)})):Object.values(u);if(f.length){this.columnStates=f;this.columnApplyStateService.applyColumnState({state:f,applyOrder:h,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing")}}},{key:"setColumnPivotState",value:function(e){var t=this.columnStates;this.columnStates=void 0;var n=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){var i,r=[],o=x(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.pivotResultColsService.getPivotResultCol(a.colId)&&r.push(a)}}catch(Am){o.e(Am)}finally{o.f()}this.columnApplyStateService.applyColumnState({state:r,applyOrder:e},"gridInitializing")}n&&this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}}},{key:"getColumnGroupState",value:function(){var e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach((function(e){var n=e.groupId;e.open&&t.push(n)})),t.length?{openColumnGroupIds:t}:void 0}},{key:"setColumnGroupState",value:function(e){var t;if(Object.prototype.hasOwnProperty.call(e,"columnGroup")){var n=new Set(null===(t=e.columnGroup)||void 0===t?void 0:t.openColumnGroupIds),i=this.columnGroupStateService.getColumnGroupState().map((function(e){var t=e.groupId,i=n.has(t);return i&&n.delete(t),{groupId:t,open:i}}));n.forEach((function(e){i.push({groupId:e,open:!0})})),i.length&&(this.columnGroupStates=i),this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}},{key:"getFilterState",value:function(){var e,t,n,i=null===(e=this.filterManager)||void 0===e?void 0:e.getFilterModel();i&&0===Object.keys(i).length&&(i=void 0);var r=null!==(t=null===(n=this.filterManager)||void 0===n?void 0:n.getAdvancedFilterModel())&&void 0!==t?t:void 0;return i||r?{filterModel:i,advancedFilterModel:r}:void 0}},{key:"setFilterState",value:function(e,t){var n,i,r=null!==e&&void 0!==e?e:{advancedFilterModel:t},o=r.filterModel,a=r.advancedFilterModel;o&&(null===(n=this.filterManager)||void 0===n||n.setFilterModel(o,"columnFilter"));a&&(null===(i=this.filterManager)||void 0===i||i.setAdvancedFilterModel(a))}},{key:"getRangeSelectionState",value:function(){var e,t=null===(e=this.rangeService)||void 0===e?void 0:e.getCellRanges().map((function(e){var t=e.id,n=e.type,i=e.startRow,r=e.endRow,o=e.columns,a=e.startColumn;return{id:t,type:n,startRow:i,endRow:r,colIds:o.map((function(e){return e.getColId()})),startColId:a.getColId()}}));return null!==t&&void 0!==t&&t.length?{cellRanges:t}:void 0}},{key:"setRangeSelectionState",value:function(e){var t=this;if(this.gos.get("enableRangeSelection")&&this.rangeService){var n=[];e.cellRanges.forEach((function(e){var i=[];if(e.colIds.forEach((function(e){var n=t.columnModel.getCol(e);n&&i.push(n)})),i.length){var r=t.columnModel.getCol(e.startColId);if(!r){var o=t.visibleColsService.getAllCols(),a=new Set(i);r=o.find((function(e){return a.has(e)}))}n.push(y(y({},e),{},{columns:i,startColumn:r}))}})),this.rangeService.setCellRanges(n)}}},{key:"getScrollState",value:function(){var e,t,n;if(this.isClientSideRowModel){var i=null===(e=this.ctrlsService.getGridBodyCtrl())||void 0===e?void 0:e.getScrollFeature(),r=(null!==(t=null===i||void 0===i?void 0:i.getHScrollPosition())&&void 0!==t?t:{left:0}).left,o=(null!==(n=null===i||void 0===i?void 0:i.getVScrollPosition())&&void 0!==n?n:{top:0}).top;return o||r?{top:o,left:r}:void 0}}},{key:"setScrollState",value:function(e){var t;if(this.isClientSideRowModel){var n=e.top,i=e.left;null===(t=this.ctrlsService.getGridBodyCtrl())||void 0===t||t.getScrollFeature().setScrollPosition(n,i)}}},{key:"getSideBarState",value:function(){var e,t;return null===(e=this.sideBarService)||void 0===e||null===(t=e.getSideBarComp())||void 0===t?void 0:t.getState()}},{key:"getFocusedCellState",value:function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var t=e.column,n=e.rowIndex,i=e.rowPinned;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}}},{key:"setFocusedCellState",value:function(e){if(this.isClientSideRowModel){var t=e.colId,n=e.rowIndex,i=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}},{key:"getPaginationState",value:function(){if(this.paginationService){var e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(e||t)return{page:e,pageSize:t}}}},{key:"setPaginationState",value:function(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"===typeof e.page&&this.paginationService.setPage(e.page))}},{key:"getRowSelectionState",value:function(){var e,t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(!1===t.selectAll||!1===t.selectAllChildren)&&!(null!==t&&void 0!==t&&null!==(e=t.toggledNodes)&&void 0!==e&&e.length)?void 0:t}},{key:"setRowSelectionState",value:function(e){this.selectionService.setSelectionState(e,"gridInitializing")}},{key:"getRowGroupExpansionState",value:function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}},{key:"setRowGroupExpansionState",value:function(e){this.expansionService.expandRows(e.expandedRowGroupIds)}},{key:"updateColumnState",value:function(e){var t=this,n=this.getColumnState(),i=!1;Object.entries(n).forEach((function(e){var n=(0,r.Z)(e,2),o=n[0];ae(n[1],t.cachedState[o])||(i=!0)})),this.cachedState=y(y({},this.cachedState),n),i&&this.dispatchStateUpdateEvent(e)}},{key:"updateCachedState",value:function(e,t){var n=this.cachedState[e];this.setCachedStateValue(e,t),ae(t,n)||this.dispatchStateUpdateEvent([e])}},{key:"setCachedStateValue",value:function(e,t){this.cachedState=y(y({},this.cachedState),{},(0,g.Z)({},e,t))}},{key:"refreshStaleState",value:function(){var e=this;this.staleStateKeys.forEach((function(t){if("rowSelection"===t)e.setCachedStateValue(t,e.getRowSelectionState())})),this.staleStateKeys.clear()}},{key:"dispatchStateUpdateEvent",value:function(e){var t=this;this.suppressEvents||(e.forEach((function(e){return t.queuedUpdateSources.add(e)})),this.dispatchStateUpdateEventDebounced())}},{key:"dispatchQueuedStateUpdateEvents",value:function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var t={type:"stateUpdated",sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}},{key:"suppressEventsAndDispatchInitEvent",value:function(e){var t=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout((function(){t.suppressEvents=!1,t.queuedUpdateSources.clear(),t.isAlive()&&(t.columnAnimationService.setSuppressAnimation(!1),t.dispatchStateUpdateEvent(["gridInitializing"]))}))}}]),n}(Y),Al={version:eo,moduleName:"@ag-grid-community/state-core",beans:[Ml]},Tl={version:eo,moduleName:"@ag-grid-community/state",dependantModules:[Al,{version:eo,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function(e){var t,n;return null!==(t=null===(n=e.stateService)||void 0===n?void 0:n.getState())&&void 0!==t?t:{}}},dependantModules:[Al]}]};var Ll=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="paginationAutoPageSizeService",e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowsCtrl=t.center;var n=e.checkPageSize.bind(e);e.addManagedEventListeners({bodyHeightChanged:n,scrollVisibilityChanged:n}),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()}))}},{key:"notActive",value:function(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}},{key:"onPaginationAutoSizeChanged",value:function(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}},{key:"checkPageSize",value:function(){var e=this;if(!this.notActive()){var t=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(t>0){var n=function(){var n=Math.max(e.gos.getRowHeightAsNumber(),1),i=Math.floor(t/n);e.paginationService.setPageSize(i,"autoCalculated")};this.isBodyRendered?Oe((function(){return n()}),50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}}]),n}(Y);var Il=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,'<span class="ag-paging-page-size"></span>')).hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var t=e.selectPageSizeComp.getValue();if(t){var n=Number(t);isNaN(n)||n<1||n===e.paginationService.getPageSize()||(e.paginationService.setPageSize(n,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return k(n,[{key:"wireBeans",value:function(e){this.paginationService=e.paginationService}},{key:"postConstruct",value:function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",(function(){e.onPageSizeSelectorValuesChange()})),this.addManagedEventListeners({paginationChanged:function(t){return e.handlePaginationChanged(t)}})}},{key:"handlePaginationChanged",value:function(e){if(this.selectPageSizeComp&&null!==e&&void 0!==e&&e.newPageSize){var t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}}},{key:"toggleSelectDisplay",value:function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}},{key:"reset",value:function(){bn(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}},{key:"onPageSizeSelectorValuesChange",value:function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}},{key:"shouldShowPageSizeSelector",value:function(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}},{key:"reloadPageSizesSelector",value:function(){var e=this,t=this.getPageSizeSelectorValues(),n=this.paginationService.getPageSize(),i=!n||!t.includes(n);i&&(t.unshift(""),De("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));var r=this.localeService.getLocaleTextFunc(),o=r("pageSizeSelectorLabel","Page Size:"),a=t.map((function(e){return{value:String(e),text:String(e)}})),s=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new hr).addOptions(a).setValue(String(i?"":n)).setAriaLabel(s).setLabel(o).onValueChange((function(){return e.handlePageSizeItemSelected()})),this.hasEmptyOption=i}},{key:"getPageSizeSelectorValues",value:function(){var e=this.gos.get("paginationPageSizeSelector");return Array.isArray(e)&&this.validateValues(e)?(0,o.Z)(e).sort((function(e,t){return e-t})):[20,50,100]}},{key:"validateValues",value:function(e){if(!e.length)return De("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(var t=0;t<e.length;t++){var n=e[t],i=n>0;if(!("number"===typeof n))return De("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!i)return De("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}},{key:"destroy",value:function(){this.toggleSelectDisplay(!1),l(a(n.prototype),"destroy",this).call(this)}}]),n}(Wn),Ol={selector:"AG-PAGE-SIZE-SELECTOR",component:Il},Nl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this)).btFirst=Vn,e.btPrevious=Vn,e.btNext=Vn,e.btLast=Vn,e.lbRecordCount=Vn,e.lbFirstRowOnPage=Vn,e.lbLastRowOnPage=Vn,e.lbCurrent=Vn,e.lbTotal=Vn,e.pageSizeComp=Vn,e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e.allowFocusInnerElement=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.rowNodeBlockLoader=e.rowNodeBlockLoader,this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService}},{key:"postConstruct",value:function(){var e=this,t=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Ol]);var n=this.btFirst,i=this.btPrevious,r=this.btNext,o=this.btLast;this.activateTabIndex([n,i,r,o]),n.insertAdjacentElement("afterbegin",Un(t?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",Un(t?"next":"previous",this.gos)),r.insertAdjacentElement("afterbegin",Un(t?"previous":"next",this.gos)),o.insertAdjacentElement("afterbegin",Un(t?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(function(){return e.onPageSizeRelatedOptionsChange()})),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(t){e.allowFocusInnerElement?e.tabGuardFeature.getTabGuardCtrl().focusInnerElement(t):e.focusService.focusGridInnerElement(t)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}},{key:"setAllowFocus",value:function(e){this.allowFocusInnerElement=e}},{key:"onPaginationChanged",value:function(){var e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}},{key:"onPageSizeRelatedOptionsChange",value:function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}},{key:"setupListeners",value:function(){var e,t,n,i=this;this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var t=e.el,n=e.fn;i.addManagedListeners(t,{click:n,keydown:function(e){e.key!==ni.ENTER&&e.key!==ni.SPACE||(e.preventDefault(),n())}})})),e=this,t=this.getGui(),n=this.focusService,e.addManagedElementListeners(t,{keydown:function(e){if(!e.defaultPrevented&&e.key===ni.TAB){var i=e.shiftKey;n.findNextFocusableElement(t,!1,i)||n.focusNextGridCoreContainer(i)&&e.preventDefault()}}}),this.areListenersSetup=!0)}},{key:"onBtFirst",value:function(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}},{key:"setCurrentPageLabel",value:function(){var e=this.paginationService.getTotalPages()>0,t=this.paginationService.getCurrentPage(),n=e?t+1:0;this.lbCurrent.textContent=this.formatNumber(n)}},{key:"formatNumber",value:function(e){var t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});var n=this.localeService.getLocaleTextFunc();return Or(e,n("thousandSeparator",","),n("decimalSeparator","."))}},{key:"getTemplate",value:function(){var e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),i=e("of","of"),r=e("firstPage","First Page"),o=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),s=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(l,'">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-').concat(l,'-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-to">').concat(n,'</span>\n                    <span id="ag-').concat(l,'-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-of">').concat(i,'</span>\n                    <span id="ag-').concat(l,'-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="').concat(r,'"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="').concat(o,'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-').concat(l,'-start-page">').concat(t,'</span>\n                        <span id="ag-').concat(l,'-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-').concat(l,'-of-page">').concat(i,'</span>\n                        <span id="ag-').concat(l,'-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="').concat(a,'"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="').concat(s,'"></div>\n                </span>\n            </div>')}},{key:"onBtNext",value:function(){this.nextButtonDisabled||this.paginationService.goToNextPage()}},{key:"onBtPrevious",value:function(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}},{key:"onBtLast",value:function(){this.lastButtonDisabled||this.paginationService.goToLastPage()}},{key:"enableOrDisableButtons",value:function(){var e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}},{key:"toggleButtonDisabled",value:function(e,t){!function(e,t){Tt(e,"disabled",t)}(e,t),e.classList.toggle("ag-disabled",t)}},{key:"updateRowLabels",value:function(){var e,t,n,i=this.paginationService.getCurrentPage(),r=this.paginationService.getPageSize(),o=this.rowModel.isLastRowIndexKnown(),a=this.rowModel.isLastRowIndexKnown()?this.paginationService.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?t=n=0:(n=(t=r*i+1)+r-1,o&&n>a&&(n=a)),this.lbFirstRowOnPage.textContent=this.formatNumber(t),null!==(e=this.rowNodeBlockLoader)&&void 0!==e&&e.isLoading()){var s=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=s("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(n)}},{key:"isZeroPagesToDisplay",value:function(){var e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}},{key:"setTotalLabels",value:function(){var e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),n=e?this.paginationService.getMasterRowCount():null;if(1===n){var i=this.rowModel.getRow(0);if(i&&i.group&&!(i.groupData||i.aggData))return void this.setTotalLabelsToZero()}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(n);else{var r=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}}},{key:"setTotalLabelsToZero",value:function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}}]),n}(Ms),Gl={selector:"AG-PAGINATION",component:Nl},Bl=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="paginationService",e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.masterRowCount=0,e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}},{key:"postConstruct",value:function(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}},{key:"getPaginationSelector",value:function(){return Gl}},{key:"isPaginateChildRows",value:function(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}},{key:"onPaginationGridOptionChanged",value:function(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}},{key:"onPageSizeGridOptionChanged",value:function(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}},{key:"goToPage",value:function(e){this.active&&this.currentPage!==e&&"number"===typeof this.currentPage&&(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}},{key:"isRowPresent",value:function(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}},{key:"getPageForIndex",value:function(e){return Math.floor(e/this.pageSize)}},{key:"goToPageWithIndex",value:function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}}},{key:"isRowInPage",value:function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}},{key:"getCurrentPage",value:function(){return this.currentPage}},{key:"goToNextPage",value:function(){this.goToPage(this.currentPage+1)}},{key:"goToPreviousPage",value:function(){this.goToPage(this.currentPage-1)}},{key:"goToFirstPage",value:function(){this.goToPage(0)}},{key:"goToLastPage",value:function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}},{key:"getPageSize",value:function(){return this.pageSize}},{key:"getTotalPages",value:function(){return this.totalPages}},{key:"setPage",value:function(e){this.currentPage=e}},{key:"pageSize",get:function(){return $(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:$(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:$(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:$(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}},{key:"calculatePages",value:function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}},{key:"unsetAutoCalculatedPageSize",value:function(){if(void 0!==this.pageSizeAutoCalculated){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}}},{key:"setPageSize",value:function(e,t){var n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}},{key:"setZeroRows",value:function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}},{key:"adjustCurrentPageIfInvalid",value:function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}},{key:"calculatePagesMasterRowsOnly",value:function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var t=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}}},{key:"getMasterRowCount",value:function(){return this.masterRowCount}},{key:"calculatePagesAllRows",value:function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()}},{key:"calculatedPagesNotActive",value:function(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}},{key:"dispatchPaginationChangedEvent",value:function(e){var t=e.keepRenderedRows,n=void 0!==t&&t,i=e.newPage,r=void 0!==i&&i,o=e.newPageSize,a={type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:void 0!==o&&o,keepRenderedRows:n};this.eventService.dispatchEvent(a)}}]),n}(Y),Hl={version:eo,moduleName:"@ag-grid-community/pagination-core",beans:[Bl,Ll]},Vl={version:eo,moduleName:"@ag-grid-community/pagination",dependantModules:[Hl,{version:eo,moduleName:"@ag-grid-community/pagination-api",dependantModules:[Hl],apiFunctions:{paginationIsLastPageFound:function(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function(e){var t,n;return null!==(t=null===(n=e.paginationService)||void 0===n?void 0:n.getPageSize())&&void 0!==t?t:100},paginationGetCurrentPage:function(e){var t,n;return null!==(t=null===(n=e.paginationService)||void 0===n?void 0:n.getCurrentPage())&&void 0!==t?t:0},paginationGetTotalPages:function(e){var t,n;return null!==(t=null===(n=e.paginationService)||void 0===n?void 0:n.getTotalPages())&&void 0!==t?t:1},paginationGetRowCount:function(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToNextPage()},paginationGoToPreviousPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToPreviousPage()},paginationGoToFirstPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToFirstPage()},paginationGoToLastPage:function(e){var t;null===(t=e.paginationService)||void 0===t||t.goToLastPage()},paginationGoToPage:function(e,t){var n;null===(n=e.paginationService)||void 0===n||n.goToPage(t)}}}]},Wl="@ag-grid-community/core",zl="@ag-grid-community/client-side-row-model",_l="@ag-grid-community/csv-export",Ul="@ag-grid-community/infinite-row-model",jl="@ag-grid-enterprise/advanced-filter",Zl="@ag-grid-enterprise/charts",Kl="@ag-grid-enterprise/clipboard",ql="@ag-grid-enterprise/excel-export",Ql="@ag-grid-enterprise/master-detail",Yl="@ag-grid-enterprise/menu",Xl="@ag-grid-enterprise/range-selection",Jl="@ag-grid-enterprise/row-grouping",$l="@ag-grid-enterprise/server-side-row-model",eu="@ag-grid-enterprise/side-bar",tu={dispatchEvent:Wl,getState:Wl,getGridId:Wl,destroy:Wl,isDestroyed:Wl,getGridOption:Wl,setGridOption:Wl,updateGridOptions:Wl,setNodesSelected:Wl,selectAll:Wl,deselectAll:Wl,selectAllFiltered:Wl,deselectAllFiltered:Wl,selectAllOnCurrentPage:Wl,deselectAllOnCurrentPage:Wl,getSelectedNodes:Wl,getSelectedRows:Wl,redrawRows:Wl,setRowNodeExpanded:Wl,getRowNode:Wl,addRenderedRowListener:Wl,getRenderedNodes:Wl,forEachNode:Wl,getFirstDisplayedRow:Wl,getFirstDisplayedRowIndex:Wl,getLastDisplayedRow:Wl,getLastDisplayedRowIndex:Wl,getDisplayedRowAtIndex:Wl,getDisplayedRowCount:Wl,getModel:Wl,getVerticalPixelRange:Wl,getHorizontalPixelRange:Wl,ensureColumnVisible:Wl,ensureIndexVisible:Wl,ensureNodeVisible:Wl,getFocusedCell:Wl,clearFocusedCell:Wl,setFocusedCell:Wl,tabToNextCell:Wl,tabToPreviousCell:Wl,setFocusedHeader:Wl,addEventListener:Wl,addGlobalListener:Wl,removeEventListener:Wl,removeGlobalListener:Wl,expireValueCache:Wl,getValue:Wl,getCellValue:Wl,showColumnMenuAfterButtonClick:Wl,showColumnMenuAfterMouseClick:Wl,showColumnMenu:Wl,hidePopupMenu:Wl,onSortChanged:Wl,getPinnedTopRowCount:Wl,getPinnedBottomRowCount:Wl,getPinnedTopRow:Wl,getPinnedBottomRow:Wl,showLoadingOverlay:Wl,showNoRowsOverlay:Wl,hideOverlay:Wl,setGridAriaProperty:Wl,refreshCells:Wl,flashCells:Wl,refreshHeader:Wl,isAnimationFrameQueueEmpty:Wl,flushAllAnimationFrames:Wl,getSizesForCurrentTheme:Wl,getCellRendererInstances:Wl,addRowDropZone:Wl,removeRowDropZone:Wl,getRowDropZoneParams:Wl,getColumnDef:Wl,getColumnDefs:Wl,sizeColumnsToFit:Wl,setColumnGroupOpened:Wl,getColumnGroup:Wl,getProvidedColumnGroup:Wl,getDisplayNameForColumn:Wl,getDisplayNameForColumnGroup:Wl,getColumn:Wl,getColumns:Wl,applyColumnState:Wl,getColumnState:Wl,resetColumnState:Wl,getColumnGroupState:Wl,setColumnGroupState:Wl,resetColumnGroupState:Wl,isPinning:Wl,isPinningLeft:Wl,isPinningRight:Wl,getDisplayedColAfter:Wl,getDisplayedColBefore:Wl,setColumnVisible:Wl,setColumnsVisible:Wl,setColumnPinned:Wl,setColumnsPinned:Wl,getAllGridColumns:Wl,getDisplayedLeftColumns:Wl,getDisplayedCenterColumns:Wl,getDisplayedRightColumns:Wl,getAllDisplayedColumns:Wl,getAllDisplayedVirtualColumns:Wl,moveColumn:Wl,moveColumnByIndex:Wl,moveColumns:Wl,setColumnWidth:Wl,setColumnWidths:Wl,getLeftDisplayedColumnGroups:Wl,getCenterDisplayedColumnGroups:Wl,getRightDisplayedColumnGroups:Wl,getAllDisplayedColumnGroups:Wl,autoSizeColumn:Wl,autoSizeColumns:Wl,autoSizeAllColumns:Wl,undoCellEditing:Wl,redoCellEditing:Wl,getCellEditorInstances:Wl,getEditingCells:Wl,stopEditing:Wl,startEditingCell:Wl,getCurrentUndoSize:Wl,getCurrentRedoSize:Wl,isAnyFilterPresent:Wl,onFilterChanged:Wl,isColumnFilterPresent:Wl,getFilterInstance:Wl,getColumnFilterInstance:Wl,destroyFilter:Wl,setFilterModel:Wl,getFilterModel:Wl,getColumnFilterModel:Wl,setColumnFilterModel:Wl,showColumnFilter:Wl,isQuickFilterPresent:Wl,getQuickFilter:Wl,resetQuickFilter:Wl,paginationIsLastPageFound:Wl,paginationGetPageSize:Wl,paginationGetCurrentPage:Wl,paginationGetTotalPages:Wl,paginationGetRowCount:Wl,paginationGoToNextPage:Wl,paginationGoToPreviousPage:Wl,paginationGoToFirstPage:Wl,paginationGoToLastPage:Wl,paginationGoToPage:Wl,expandAll:Wl,collapseAll:Wl,onRowHeightChanged:Wl,setRowCount:Wl,getCacheBlockState:Wl,onGroupExpandedOrCollapsed:zl,refreshClientSideRowModel:zl,forEachLeafNode:zl,forEachNodeAfterFilter:zl,forEachNodeAfterFilterAndSort:zl,resetRowHeights:zl,applyTransaction:zl,applyTransactionAsync:zl,flushAsyncTransactions:zl,getBestCostNodeSelection:zl,getDataAsCsv:_l,exportDataAsCsv:_l,refreshInfiniteCache:Ul,purgeInfiniteCache:Ul,getInfiniteRowCount:Ul,isLastRowIndexKnown:Ul,getAdvancedFilterModel:jl,setAdvancedFilterModel:jl,showAdvancedFilterBuilder:jl,hideAdvancedFilterBuilder:jl,getChartModels:Zl,getChartRef:Zl,getChartImageDataURL:Zl,downloadChart:Zl,openChartToolPanel:Zl,closeChartToolPanel:Zl,createRangeChart:Zl,createPivotChart:Zl,createCrossFilterChart:Zl,updateChart:Zl,restoreChart:Zl,copyToClipboard:Kl,cutToClipboard:Kl,copySelectedRowsToClipboard:Kl,copySelectedRangeToClipboard:Kl,copySelectedRangeDown:Kl,pasteFromClipboard:Kl,getDataAsExcel:ql,exportDataAsExcel:ql,getSheetDataForExcel:ql,getMultipleSheetsAsExcel:ql,exportMultipleSheetsAsExcel:ql,addDetailGridInfo:Ql,removeDetailGridInfo:Ql,getDetailGridInfo:Ql,forEachDetailGridInfo:Ql,showContextMenu:Yl,showColumnChooser:Yl,hideColumnChooser:Yl,getCellRanges:Xl,addCellRange:Xl,clearRangeSelection:Xl,addAggFunc:Jl,addAggFuncs:Jl,clearAggFuncs:Jl,setColumnAggFunc:Jl,isPivotMode:Jl,getPivotResultColumn:Jl,setValueColumns:Jl,getValueColumns:Jl,removeValueColumn:Jl,removeValueColumns:Jl,addValueColumn:Jl,addValueColumns:Jl,setRowGroupColumns:Jl,removeRowGroupColumn:Jl,removeRowGroupColumns:Jl,addRowGroupColumn:Jl,addRowGroupColumns:Jl,getRowGroupColumns:Jl,moveRowGroupColumn:Jl,setPivotColumns:Jl,removePivotColumn:Jl,removePivotColumns:Jl,addPivotColumn:Jl,addPivotColumns:Jl,getPivotColumns:Jl,setPivotResultColumns:Jl,getPivotResultColumns:Jl,getServerSideSelectionState:$l,setServerSideSelectionState:$l,applyServerSideTransaction:$l,applyServerSideTransactionAsync:$l,applyServerSideRowData:$l,retryServerSideLoads:$l,flushServerSideAsyncTransactions:$l,refreshServerSide:$l,getServerSideGroupLevelState:$l,isSideBarVisible:eu,setSideBarVisible:eu,setSideBarPosition:eu,openToolPanel:eu,closeToolPanel:eu,getOpenedToolPanel:eu,refreshToolPanel:eu,isToolPanelShowing:eu,getToolPanelInstance:eu,getSideBar:eu,getStatusPanel:"@ag-grid-enterprise/status-bar"},nu="clientSide",iu="serverSide",ru="infinite",ou={onGroupExpandedOrCollapsed:[nu],refreshClientSideRowModel:[nu],forEachLeafNode:[nu],forEachNodeAfterFilter:[nu],forEachNodeAfterFilterAndSort:[nu],resetRowHeights:[nu],applyTransaction:[nu],applyTransactionAsync:[nu],flushAsyncTransactions:[nu],getBestCostNodeSelection:[nu],getServerSideSelectionState:[iu],setServerSideSelectionState:[iu],applyServerSideTransaction:[iu],applyServerSideTransactionAsync:[iu],applyServerSideRowData:[iu],retryServerSideLoads:[iu],flushServerSideAsyncTransactions:[iu],refreshServerSide:[iu],getServerSideGroupLevelState:[iu],refreshInfiniteCache:[ru],purgeInfiniteCache:[ru],getInfiniteRowCount:[ru],isLastRowIndexKnown:[ru],expandAll:[nu,iu],collapseAll:[nu,iu],onRowHeightChanged:[nu,iu],setRowCount:[ru,iu],getCacheBlockState:[ru,iu]},au={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}};var su=function(e,t){var n;return"clientSide"===(null!==(n=t.rowModelType)&&void 0!==n?n:"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null},lu={enableRowGroup:su,rowGroup:su,rowGroupIndex:su,enablePivot:su,enableValue:su,pivot:su,pivotIndex:su,aggFunc:su,cellEditor:function(e){return"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null},menuTabs:function(e){var t,n=["columnsMenuTab","generalMenuTab"];return null!==(t=e.menuTabs)&&void 0!==t&&t.some((function(e){return n.includes(e)}))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(e,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(e,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(e,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return uu}},uu={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},validations:lu},cu={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},du=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="validationService",e}return k(n,[{key:"wireBeans",value:function(e){this.beans=e,this.gridOptions=e.gridOptions}},{key:"postConstruct",value:function(){this.processGridOptions(this.gridOptions)}},{key:"processGridOptions",value:function(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[].concat((0,o.Z)(Ct.ALL_PROPERTIES),(0,o.Z)(St.EVENT_CALLBACKS)),propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:function(e){var t,n=null!==(t=e.rowModelType)&&void 0!==t?t:"clientSide";switch(n){case"clientSide":var i="treeData requires 'getDataPath' in the ".concat(n," row model.");return e.getDataPath?null:i;case"serverSide":var r="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(n," row model.");return e.isServerSideGroup&&e.getServerSideGroupKey?null:r}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(e){var t;switch(null!==(t=e.rowModelType)&&void 0!==t?t:"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:function(){return uu},defaultColDef:function(){return uu},defaultColGroupDef:function(){return uu},autoGroupColumnDef:function(){return uu}}})}},{key:"processColumnDefs",value:function(e){this.processOptions(e,uu)}},{key:"warnMissingApiFunction",value:function(e){!function(e,t){var n=tu[e];n?$n.__assertRegistered(n,"api.".concat(e),t)&&De("API function '".concat(e,"' not registered to module '").concat(n,"'")):xe("Unknown API function: '".concat(e,"' on GridApi."))}(e,this.gridId)}},{key:"validateApiFunction",value:function(e,t){return function(e,t,n){var i=au[e];if(i){var r=i.version,o=i.new,a=i.old,s=i.message,l=null!==a&&void 0!==a?a:e;return function(){var e=o?"Please use ".concat(o," instead. "):"";De("Since ".concat(r," api.").concat(l," is deprecated. ").concat(e).concat(null!==s&&void 0!==s?s:""));for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.apply(t,i)}}var u=ou[e];return u?function(){var i=n.rowModel.getType();if(u.includes(i)){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t.apply(t,o)}xe("api.".concat(e," can only be called when gridOptions.rowModelType is ").concat(u.join(" or ")))}:t}(e,t,this.beans)}},{key:"processOptions",value:function(e,t){var n=this,i=t.validations,r=t.deprecations,a=t.allProperties,s=t.propertyExceptions,l=t.objectName,u=t.docsUrl;a&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[].concat((0,o.Z)(null!==s&&void 0!==s?s:[]),(0,o.Z)(Object.keys(r))),a,l,u);var c=new Set;Object.keys(e).forEach((function(t){var o=r[t];if(o)if("renamed"in o){var a=o.renamed,s=o.version;c.add("As of v".concat(s,", ").concat(String(t)," is deprecated. Please use ").concat(String(a)," instead.")),e[a]=e[t]}else{var l=o.message,u=o.version;c.add("As of v".concat(u,", ").concat(String(t)," is deprecated. ").concat(null!==l&&void 0!==l?l:""))}var d=e[t];if(null!=d&&!1!==d){var h,f=i[t];if(f){if("function"===typeof f){var v=f(e,n.gridOptions);if(!v)return;if("objectName"in v){var p=e[t];return Array.isArray(p)?void p.forEach((function(e){n.processOptions(e,v)})):void n.processOptions(e[t],v)}h=v}else h=f;var g=h,m=g.module,y=g.dependencies,C=g.supportedRowModels;if(C){var w,S=null!==(w=n.gridOptions.rowModelType)&&void 0!==w?w:"clientSide";if(!C.includes(S))return void c.add("".concat(String(t)," is not supported with the '").concat(S,"' row model."))}if(m){var k=Array.isArray(m)?m:[m],b=!0;if(k.forEach((function(e){$n.__assertRegistered(e,String(t),n.gridId)||(b=!1,c.add("".concat(String(t)," is only available when ").concat(e," is loaded.")))})),!b)return}if(y){var R=n.checkForWarning(t,y,e);if(R)return void c.add(R)}}}})),c.size>0&&c.forEach((function(e){De(e)}))}},{key:"checkForWarning",value:function(e,t,n){if("function"===typeof t)return t(n,this.gridOptions);var i=Object.entries(t).find((function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1],a=n[i];return!o.includes(a)}));if(!i)return null;var o=(0,r.Z)(i,2),a=o[0],s=o[1];return s.length>1?"'".concat(String(e),"' requires '").concat(a,"' to be one of [").concat(s.join(", "),"]."):"'".concat(String(e),"' requires '").concat(a,"' to be ").concat(s[0],".")}},{key:"checkProperties",value:function(e,t,n,i,r){var a=function(e,t,n){var i={},r=e.filter((function(e){return!t.some((function(t){return t===e}))}));return r.length>0&&r.forEach((function(e){return i[e]=pi(e,n).values})),i}(Object.getOwnPropertyNames(e),[].concat(["__ob__","__v_skip","__metadata__"],(0,o.Z)(t),(0,o.Z)(n)),n);if(ce(a,(function(e,t){var r="invalid ".concat(i," property '").concat(e,"' did you mean any of these: ").concat(t.slice(0,8).join(", "),".");n.includes("context")&&(r+="\nIf you are trying to annotate ".concat(i," with application data, use the '").concat(i,".context' property instead.")),De(r)})),Object.keys(a).length>0&&r){var s=this.getFrameworkOverrides().getDocLink(r);De("to see all the valid ".concat(i," properties please check: ").concat(s))}}}]),n}(Y),hu={version:eo,moduleName:"@ag-grid-community/core-community-features",dependantModules:[{version:eo,moduleName:"@ag-grid-community/core"},{version:eo,moduleName:"@ag-grid-community/core-validations",beans:[du]},gs,Co,Tl,ml,fl,Vl,xl]},fu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="gridDestroyService",e.destroyCalled=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.beans=e}},{key:"destroy",value:function(){var e,t,i;if(!this.destroyCalled){var r={type:"gridPreDestroyed",state:null!==(e=null===(t=this.beans.stateService)||void 0===t?void 0:t.getState())&&void 0!==e?e:{}};this.eventService.dispatchEvent(r),this.destroyCalled=!0,null===(i=this.beans.ctrlsService.get("gridCtrl"))||void 0===i||i.destroyGridUi(),this.beans.context.destroy(),l(a(n.prototype),"destroy",this).call(this)}}},{key:"isDestroyCalled",value:function(){return this.destroyCalled}}]),n}(Y),vu=new Set(["gridPreDestroyed","fillStart","pasteStart"]),pu=new Map([].concat((0,o.Z)(Ct.BOOLEAN_PROPERTIES.map((function(e){return[e,oe]}))),(0,o.Z)(Ct.NUMBER_PROPERTIES.map((function(e){return[e,Tr]}))),[["groupAggFiltering",function(e){return"function"===typeof e?e:oe(e)}],["pageSize",Lr(1)],["autoSizePadding",Lr(0)],["keepDetailRowsCount",Lr(1)],["rowBuffer",Lr(0)],["infiniteInitialRowCount",Lr(1)],["cacheOverflowSize",Lr(1)],["cacheBlockSize",Lr(1)],["serverSideInitialRowCount",Lr(1)],["viewportRowModelPageSize",Lr(1)],["viewportRowModelBufferSize",Lr(0)]]));function gu(e,t){var n=pu.get(e);return n?n(t):t}var mu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="gos",e.domDataKey="__AG_"+Math.random().toString(),e.propertyEventService=new L,e.globalEventHandlerFactory=function(t){return function(n,i){if(e.isAlive()){var r=vu.has(n);if(!(r&&!t||!r&&t)){var o=St.getCallbackForEvent(n),a=e.gridOptions[o];"function"===typeof a&&e.frameworkOverrides.wrapOutgoing((function(){a(i)}))}}}},e}return k(n,[{key:"wireBeans",value:function(e){this.gridOptions=e.gridOptions,this.eGridDiv=e.eGridDiv,this.validationService=e.validationService,this.environment=e.environment,this.api=e.gridApi}},{key:"gridOptionsContext",get:function(){return this.gridOptions.context}},{key:"postConstruct",value:function(){var e=this,t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:function(t){var n=t.options;e.updateGridOptions({options:n,force:!0,source:"gridOptionsUpdated"})}})}},{key:"get",value:function(e){var t;return null!==(t=this.gridOptions[e])&&void 0!==t?t:cu[e]}},{key:"getCallback",value:function(e){return this.mergeGridCommonParams(this.gridOptions[e])}},{key:"exists",value:function(e){return $(this.gridOptions[e])}},{key:"mergeGridCommonParams",value:function(e){var t=this;if(e){return function(n){var i=n;return i.api=t.api,i.context=t.gridOptionsContext,e(i)}}return e}},{key:"updateGridOptions",value:function(e){var t,i=this,o=e.options,a=e.force,s=e.source,l=void 0===s?"api":s,u={id:n.changeSetId++,properties:[]},c=[];Object.entries(o).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];"api"===l&&mt[n]&&De("".concat(n," is an initial property and cannot be updated."));var s=gu(n,o),d=a||"object"===typeof s&&"api"===l,h=i.gridOptions[n];if(d||h!==s){i.gridOptions[n]=s;var f={type:n,currentValue:s,previousValue:h,changeSet:u,source:l};c.push(f)}})),null===(t=this.validationService)||void 0===t||t.processGridOptions(this.gridOptions),u.properties=c.map((function(e){return e.type})),c.forEach((function(e){i.gridOptions.debug&&Pe("Updated property ".concat(e.type," from"),e.previousValue," to ",e.currentValue),i.propertyEventService.dispatchEvent(e)}))}},{key:"addPropertyEventListener",value:function(e,t){this.propertyEventService.addEventListener(e,t)}},{key:"removePropertyEventListener",value:function(e,t){this.propertyEventService.removeEventListener(e,t)}},{key:"getScrollbarWidth",value:function(){if(null==this.scrollbarWidth){var e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:(null==xt&&on(),xt);null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},{key:"isRowModelType",value:function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&ee(this.gridOptions.rowModelType)}},{key:"isDomLayout",value:function(e){var t;return(null!==(t=this.gridOptions.domLayout)&&void 0!==t?t:"normal")===e}},{key:"isRowSelection",value:function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}},{key:"useAsyncEvents",value:function(){return!this.get("suppressAsyncEvents")}},{key:"isGetRowHeightFunction",value:function(){return"function"===typeof this.gridOptions.getRowHeight}},{key:"getRowHeightForNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:n,estimated:!0};var i={node:e,data:e.data},r=this.getCallback("getRowHeight")(i);if(this.isNumeric(r))return 0===r&&De("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,r),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var o=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n;return{height:o,estimated:!1}}},{key:"getMasterDetailRowHeight",value:function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}},{key:"getRowHeightAsNumber",value:function(){if(!this.gridOptions.rowHeight||ee(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return-1!==e?e:(De("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}},{key:"isNumeric",value:function(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)}},{key:"getDomDataKey",value:function(){return this.domDataKey}},{key:"getDomData",value:function(e,t){var n=e[this.getDomDataKey()];return n?n[t]:void 0}},{key:"setDomData",value:function(e,t,n){var i=this.getDomDataKey(),r=e[i];ee(r)&&(r={},e[i]=r),r[t]=n}},{key:"getDocument",value:function(){var e=null;return this.gridOptions.getDocument&&$(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&$(e)?e:document}},{key:"getWindow",value:function(){return this.getDocument().defaultView||window}},{key:"getRootNode",value:function(){return this.eGridDiv.getRootNode()}},{key:"getActiveDomElement",value:function(){return this.getRootNode().activeElement}},{key:"getAsyncTransactionWaitMillis",value:function(){return $(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}},{key:"isAnimateRows",value:function(){return!this.get("ensureDomOrder")&&this.get("animateRows")}},{key:"isGroupRowsSticky",value:function(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}},{key:"isColumnsSortingCoupledToGroup",value:function(){var e=this.gridOptions.autoGroupColumnDef;return!(null!==e&&void 0!==e&&e.comparator)&&!this.get("treeData")}},{key:"getGroupAggFiltering",value:function(){var e=this.gridOptions.groupAggFiltering;return"function"===typeof e?this.getCallback("groupAggFiltering"):!0===e?function(){return!0}:void 0}},{key:"getGrandTotalRow",value:function(){var e=this.gridOptions.grandTotalRow;return e||(this.gridOptions.groupIncludeTotalFooter?"bottom":void 0)}},{key:"getGroupTotalRowCallback",value:function(){var e=this.get("groupTotalRow");if("function"===typeof e)return this.getCallback("groupTotalRow");if(e)return function(){return e};var t=this.get("groupIncludeFooter");if("function"===typeof t){var n=this.getCallback("groupIncludeFooter");return function(e){return n(e)?"bottom":void 0}}return function(){return t?"bottom":void 0}}},{key:"isGroupMultiAutoColumn",value:function(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}},{key:"isGroupUseEntireRow",value:function(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType}},{key:"getGridCommonParams",value:function(){return{api:this.api,context:this.gridOptionsContext}}},{key:"addGridCommonParams",value:function(e){var t=e;return t.api=this.api,t.context=this.gridOptionsContext,t}},{key:"getRowIdCallback",value:function(){var e=this.getCallback("getRowId");return void 0===e?e:function(t){var n=e(t);return"string"!==typeof n&&(De("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}}]),n}(Y);mu.changeSetId=0;var yu=mu,Cu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="headerPositionUtils",e}return k(n,[{key:"wireBeans",value:function(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}},{key:"findHeader",value:function(e,t){var n,i;if(ut(e.column)?n=this.visibleColsService.getGroupAtDirection(e.column,t):(i="getCol".concat(t),n=this.visibleColsService[i](e.column)),n){var r=e.headerRowIndex;if("filter"!==this.getHeaderRowType(r)){for(var o=[n];n.getParent();)n=n.getParent(),o.push(n);n=o[o.length-1-r]}var a=this.getHeaderIndexToFocus(n,r);return{column:a.column,headerRowIndex:a.headerRowIndex}}}},{key:"getHeaderIndexToFocus",value:function(e,t){var n;if(ut(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding())for(var i=e,r=n=i.getLeafColumns()[0];r!==i;)t++,r=r.getParent();return{column:n||e,headerRowIndex:t}}},{key:"isAnyChildSpanningHeaderHeight",value:function(e){return!!e&&e.getLeafColumns().some((function(e){return e.isSpanHeaderHeight()}))}},{key:"getColumnVisibleParent",value:function(e,t){var n=this.getHeaderRowType(t),i="column"===n,r="filter"===n?e:e.getParent(),o=t-1,a=o;if(i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=e,o=t,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}},{key:"getColumnVisibleChild",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"After",i=this.getHeaderRowType(t),r=e,o=t+1,a=o;if("group"===i){for(var s=e.getDisplayedLeafColumns(),l="After"===n?s[0]:I(s),u=[],c=l;c.getParent()!==e;)c=c.getParent(),u.push(c);if(r=l,l.isSpanHeaderHeight())for(var d=u.length-1;d>=0;d--){var h=u[d];if(!h.isPadding()){r=h;break}o++}else(r=I(u))||(r=l)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}},{key:"getHeaderRowType",value:function(e){var t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}},{key:"findColAtEdgeForHeaderRow",value:function(e,t){var n=this.visibleColsService.getAllCols(),i=n["start"===t?0:n.length-1];if(i){var r=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(e);return"group"==r?{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(i,e)}:{headerRowIndex:null==r?-1:e,column:i}}}}]),n}(Y),wu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="localeService",e}return k(n,[{key:"getLocaleTextFunc",value:function(){var e=this.gos.getCallback("getLocaleText");if(e)return function(t,n,i){return e({key:t,defaultValue:n,variableValues:i})};var t=this.gos.get("localeText");return function(e,n,i){var r,o=t&&t[e];if(o&&i&&i.length)for(var a=0;!(a>=i.length);){if(-1===o.indexOf("${variable}"))break;o=o.replace("${variable}",i[a++])}return null!==(r=o)&&void 0!==r?r:n}}}]),n}(Y),Su=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="apiEventService",e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.globalEventListenerPairs=new Map,e}return k(n,[{key:"postConstruct",value:function(){this.frameworkEventWrappingService=new X(this.getFrameworkOverrides())}},{key:"addEventListener",value:function(e,t){var n=this.frameworkEventWrappingService.wrap(t),i=this.gos.useAsyncEvents()&&!vu.has(e),r=i?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventService.addEventListener(e,n,i)}},{key:"removeEventListener",value:function(e,t){var n,i=this.frameworkEventWrappingService.unwrap(t),r=this.asyncEventListeners.get(e),o=!(null===r||void 0===r||!r.delete(i));o||(null===(n=this.syncEventListeners.get(e))||void 0===n||n.delete(i));this.eventService.removeEventListener(e,i,o)}},{key:"addGlobalListener",value:function(e){var t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){var n=function(e,n){vu.has(e)&&t(e,n)},i=function(e,n){vu.has(e)||t(e,n)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:i}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(i,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}},{key:"removeGlobalListener",value:function(e){var t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){var n=this.globalEventListenerPairs.get(t),i=n.syncListener,r=n.asyncListener;this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}},{key:"destroyEventListeners",value:function(e,t){var n=this;e.forEach((function(e,i){e.forEach((function(e){return n.eventService.removeEventListener(i,e,t)})),e.clear()})),e.clear()}},{key:"destroyGlobalListeners",value:function(e,t){var n=this;e.forEach((function(e){return n.eventService.removeGlobalListener(e,t)})),e.clear()}},{key:"destroy",value:function(){var e=this;l(a(n.prototype),"destroy",this).call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach((function(t){var n=t.syncListener,i=t.asyncListener;e.eventService.removeGlobalListener(n,!1),e.eventService.removeGlobalListener(i,!0)})),this.globalEventListenerPairs.clear()}}]),n}(Y),ku=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="pageBoundsListener",e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}},{key:"postConstruct",value:function(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}},{key:"onModelUpdated",value:function(e){this.calculatePages();var t={type:"paginationChanged",animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows};this.eventService.dispatchEvent(t)}},{key:"calculatePages",value:function(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}}]),n}(Y),bu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="pageBoundsService",e.pixelOffset=0,e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel}},{key:"getFirstRow",value:function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}},{key:"getLastRow",value:function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}},{key:"getCurrentPageHeight",value:function(){return ee(this.topRowBounds)||ee(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}},{key:"getCurrentPagePixelRange",value:function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}},{key:"calculateBounds",value:function(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}},{key:"getPixelOffset",value:function(){return this.pixelOffset}},{key:"calculatePixelOffset",value:function(){var e=$(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}}]),n}(Y),Ru=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this)).beanName="ariaAnnouncementService",e.descriptionContainer=null,e.announceValue=Oe(e.announceValue.bind(f(e)),200),e}return k(n,[{key:"wireBeans",value:function(e){this.eGridDiv=e.eGridDiv}},{key:"postConstruct",value:function(){var e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),Ht(t,"polite"),Tt(t,"relevant","additions text"),function(e,t){Tt(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}},{key:"announceValue",value:function(e){var t=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout((function(){t.isAlive()&&t.descriptionContainer&&(t.descriptionContainer.textContent=e)}),50))}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this);var e=this.descriptionContainer;e&&(bn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}}]),n}(Y),Eu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnAnimationService",e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.suppressAnimation=!1,e.animationThreadCount=0,e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService}},{key:"postConstruct",value:function(){var e=this;this.ctrlsService.whenReady((function(t){return e.gridBodyCtrl=t.gridBodyCtrl}))}},{key:"isActive",value:function(){return this.active&&!this.suppressAnimation}},{key:"setSuppressAnimation",value:function(e){this.suppressAnimation=e}},{key:"start",value:function(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}},{key:"finish",value:function(){var e=this;this.active&&this.flush((function(){e.active=!1}))}},{key:"executeNextVMTurn",value:function(e){this.active?this.executeNextFuncs.push(e):e()}},{key:"executeLaterVMTurn",value:function(e){this.active?this.executeLaterFuncs.push(e):e()}},{key:"ensureAnimationCssClassPresent",value:function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){e.animationThreadCount===t&&e.gridBodyCtrl.setColumnMovingCss(!1)}))}},{key:"flush",value:function(e){var t=this;if(0!==this.executeNextFuncs.length||0!==this.executeLaterFuncs.length){var n=function(e){for(;e.length;){var t=e.pop();t&&t()}};this.getFrameworkOverrides().wrapIncoming((function(){window.setTimeout((function(){return n(t.executeNextFuncs)}),0),window.setTimeout((function(){e(),n(t.executeLaterFuncs)}),200)}))}else e()}}]),n}(Y),Fu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="columnHoverService",e}return k(n,[{key:"setMouseOver",value:function(e){this.selectedColumns=e;this.eventService.dispatchEvent({type:"columnHoverChanged"})}},{key:"clearMouseOver",value:function(){this.selectedColumns=null;this.eventService.dispatchEvent({type:"columnHoverChanged"})}},{key:"isHovered",value:function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}}]),n}(Y),Pu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="overlayService",e.state=0,e.showInitialOverlay=!0,e}return k(n,[{key:"wireBeans",value:function(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel}},{key:"postConstruct",value:function(){var e=this,t=function(){return e.updateOverlayVisibility()};this.addManagedEventListeners({newColumnsLoaded:t,rowDataUpdated:t}),this.addManagedPropertyListener("loading",t)}},{key:"registerOverlayWrapperComp",value:function(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}},{key:"showLoadingOverlay",value:function(){this.showInitialOverlay=!1;var e=this.gos.get("loading");(e||void 0===e&&!this.gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}},{key:"showNoRowsOverlay",value:function(){this.showInitialOverlay=!1,this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}},{key:"hideOverlay",value:function(){this.showInitialOverlay=!1,this.gos.get("loading")||this.doHideOverlay()}},{key:"updateOverlayVisibility",value:function(){var e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.gos.isRowModelType("clientSide")),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.gos.isRowModelType("clientSide")?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}},{key:"doShowLoadingOverlay",value:function(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},{key:"doShowNoRowsOverlay",value:function(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},{key:"doHideOverlay",value:function(){this.state=0,this.overlayWrapperComp.hideOverlay()}},{key:"showOverlay",value:function(e,t,n){var i=e.newAgStackInstance();this.overlayWrapperComp.showOverlay(i,t,n)}}]),n}(Y),Du=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowCssClassCalculator",e}return k(n,[{key:"wireBeans",value:function(e){this.stylingService=e.stylingService}},{key:"getInitialRowClasses",value:function(e){var t=[];return $(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),W(t,this.processClassesFromGridOptions(e.rowNode)),W(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}},{key:"processClassesFromGridOptions",value:function(e){var t=[],n=function(e){"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((function(e){return t.push(e)}))},i=this.gos.get("rowClass");if(i){if("function"===typeof i)return De("rowClass should not be a function, please use getRowClass instead"),[];n(i)}var r=this.gos.getCallback("getRowClass");r&&n(r({data:e.data,node:e,rowIndex:e.rowIndex}));return t}},{key:"preProcessRowClassRules",value:function(e){var t=[];return this.processRowClassRules(e,(function(e){t.push(e)}),(function(){})),t}},{key:"processRowClassRules",value:function(e,t,n){var i=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),i,t,n)}},{key:"calculateRowLevel",value:function(e){return e.group?e.level:e.parent?e.parent.level+1:0}}]),n}(Y),xu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowContainerHeightService",e.scrollY=0,e.uiBodyHeight=0,e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService}},{key:"postConstruct",value:function(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var i=2*e;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),e}(),this.gos.get("debug")&&Pe("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}},{key:"isStretching",value:function(){return this.stretching}},{key:"getDivStretchOffset",value:function(){return this.divStretchOffset}},{key:"updateOffset",value:function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}}},{key:"calculateOffset",value:function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Pe("RowContainerHeightService - Div Stretch Offset = ".concat(t," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(t)}},{key:"setUiContainerHeight",value:function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}},{key:"clearOffset",value:function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}},{key:"setDivStretchOffset",value:function(e){var t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}},{key:"setModelHeight",value:function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}},{key:"getUiContainerHeight",value:function(){return this.uiContainerHeight}},{key:"getRealPixelPosition",value:function(e){return e-this.divStretchOffset}},{key:"getUiBodyHeight",value:function(){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}},{key:"getScrollPositionForPixel",value:function(e){if(this.pixelsToShave<=0)return e;var t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}}]),n}(Y),Mu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowNodeSorter",e}return k(n,[{key:"wireBeans",value:function(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}},{key:"postConstruct",value:function(){var e=this;this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(function(t){return e.isAccentedSort=t.currentValue})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return e.primaryColumnsSortGroups=e.gos.isColumnsSortingCoupledToGroup()}))}},{key:"doFullSort",value:function(e,t){var n=e.map((function(e,t){return{currentPos:t,rowNode:e}}));return n.sort(this.compareRowNodes.bind(this,t)),n.map((function(e){return e.rowNode}))}},{key:"compareRowNodes",value:function(e,t,n){for(var i=t.rowNode,r=n.rowNode,o=0,a=e.length;o<a;o++){var s=e[o],l="desc"===s.sort,u=this.getValue(i,s.column),c=this.getValue(r,s.column),d=void 0,h=this.getComparator(s,i);if(d=h?h(u,c,i,r,l):se(u,c,this.isAccentedSort),!isNaN(d)&&0!==d)return"asc"===s.sort?d:-1*d}return t.currentPos-n.currentPos}},{key:"getComparator",value:function(e,t){var n=e.column,i=n.getColDef().comparator;if(null!=i)return i;if(n.getColDef().showRowGroup){var r=!t.group&&n.getColDef().field;if(r){var o=this.columnModel.getColDefCol(r);if(o)return o.getColDef().comparator}}}},{key:"getValue",value:function(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){var n,i;if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){var r,o=null===(r=e.allLeafChildren)||void 0===r?void 0:r[0];return o?this.valueService.getValue(t,o,!1,!1):void 0}var a=null===(n=this.showRowGroupColsService)||void 0===n?void 0:n.getShowRowGroupCol(t.getId());if(!a)return;return null===(i=e.groupData)||void 0===i?void 0:i[a.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}}]),n}(Y),Au=function(){function e(t,n){C(this,e),this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:n,children:null},this.mapToItems[n.id]=this.pathRoot}return k(e,[{key:"setInactive",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"depthFirstSearchChangedPath",value:function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)}},{key:"depthFirstSearchEverything",value:function(e,t,n){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var r=e.childrenAfterGroup[i];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(r)}t(e)}},{key:"forEachChangedNodeDepthFirst",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}},{key:"executeFromRootNode",value:function(e){e(this.pathRoot.rowNode)}},{key:"createPathItems",value:function(e){for(var t=e,n=0;!this.mapToItems[t.id];){var i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}},{key:"populateColumnsMap",value:function(e,t){var n=this;if(this.keepingColumns&&t)for(var i=e;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach((function(e){return n.nodeIdsToColumns[i.id][e.getId()]=!0})),i=i.parent}},{key:"linkPathItems",value:function(e,t){for(var n=e,i=0;i<t;i++){var r=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(r),n=n.parent}}},{key:"addParentNode",value:function(e,t){if(e&&!e.isRowPinned()){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}}},{key:"canSkip",value:function(e){return this.active&&!this.mapToItems[e.id]}},{key:"getValueColumnsForNode",value:function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id];return t.filter((function(e){return n[e.getId()]}))}},{key:"getNotValueColumnsForNode",value:function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id];return t.filter((function(e){return!n[e.getId()]}))}}]),e}(),Tu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="selectionService",e.selectedNodes=new Map,e.selectionCtx=new Es,e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}},{key:"postConstruct",value:function(){var e=this;this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(function(){e.groupSelectsChildren=e.gos.get("groupSelectsChildren"),e.rowSelection=e.gos.get("rowSelection"),e.deselectAllRowNodes({source:"api"})})),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.resetNodes(),this.selectionCtx.reset()}},{key:"isMultiselect",value:function(){return"multiple"===this.rowSelection}},{key:"overrideSelectionValue",value:function(e,t){var n;if(!function(e){return"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e}(t))return e;var i=this.selectionCtx.getRoot();return!i||null!==(n=i.isSelected())&&void 0!==n&&n}},{key:"setNodesSelected",value:function(e){var t=e.newValue,n=e.clearSelection,i=e.suppressFinishActions,r=e.rangeSelect,o=e.nodes,a=e.event,s=e.source;if(0===o.length)return 0;if(o.length>1&&!this.isMultiselect())return De("cannot multi select while rowSelection='single'"),0;var l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,u=o.map((function(e){return e.footer?e.sibling:e}));if(r){if(u.length>1)return De("cannot range select while selecting multiple rows"),0;var c=u[0],d=this.overrideSelectionValue(t,s);if(this.isMultiselect()){if(this.selectionCtx.isInRange(c)){var h=this.selectionCtx.truncate(c);return d&&this.selectRange(h.discard,!1,s),this.selectRange(h.keep,d,s)}if(this.selectionCtx.getRoot()!==c){var f=this.selectionCtx.extend(c,this.groupSelectsChildren);return d&&this.selectRange(f.discard,!1,s),this.selectRange(f.keep,d,s)}}else;}i||this.selectionCtx.setRoot(u[0]);for(var v=0,p=0;p<u.length;p++){var g,m=u[p];if(!(l&&m.group))m.selectThisNode(t,a,s)&&v++;this.groupSelectsChildren&&null!==(g=m.childrenAfterGroup)&&void 0!==g&&g.length&&(v+=this.selectChildren(m,t,l,s))}i||(t&&(n||!this.isMultiselect())&&(v+=this.clearOtherNodes(u[0],s)),v>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)));return v}},{key:"selectRange",value:function(e,t,n){var i=this,r=0;return e.forEach((function(e){e.group&&i.groupSelectsChildren||e.selectThisNode(t,void 0,n)&&r++})),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}},{key:"selectChildren",value:function(e,t,n,i){var r=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return ee(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:r})}},{key:"getSelectedNodes",value:function(){var e=[];return this.selectedNodes.forEach((function(t){t&&e.push(t)})),e}},{key:"getSelectedRows",value:function(){var e=[];return this.selectedNodes.forEach((function(t){t&&t.data&&e.push(t.data)})),e}},{key:"getSelectionCount",value:function(){return this.selectedNodes.size}},{key:"filterFromSelection",value:function(e){var t=new Map;this.selectedNodes.forEach((function(n,i){n&&e(n)&&t.set(i,n)})),this.selectedNodes=t}},{key:"updateGroupsFromChildrenSelections",value:function(e,t){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;var n=this.rowModel.getRootNode();t||(t=new Au(!0,n)).setInactive();var i=!1;return t.forEachChangedNodeDepthFirst((function(t){if(t!==n){var r=t.calculateSelectedFromChildren();i=t.selectThisNode(null!==r&&r,void 0,e)||i}})),i}},{key:"clearOtherNodes",value:function(e,t){var n=this,i=new Map,r=0;return this.selectedNodes.forEach((function(o){if(o&&o.id!==e.id){var a=n.selectedNodes.get(o.id);r+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),n.groupSelectsChildren&&o.parent&&i.set(o.parent.id,o.parent)}})),i.forEach((function(e){var n=e.calculateSelectedFromChildren();e.selectThisNode(null!==n&&n,void 0,t)})),r}},{key:"onRowSelected",value:function(e){var t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}},{key:"syncInRowNode",value:function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}},{key:"syncInOldRowNode",value:function(e,t){if($(t)&&e.id!==t.id&&t){var n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}},{key:"syncInNewRowNode",value:function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}},{key:"reset",value:function(e){var t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}},{key:"resetNodes",value:function(){var e;null===(e=this.selectedNodes)||void 0===e||e.clear()}},{key:"getBestCostNodeSelection",value:function(){if("clientSide"===this.rowModel.getType()){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(n){for(var i=0,r=n.length;i<r;i++){var o=n[i];if(o.isSelected())t.push(o);else{var a=o;a.group&&a.children&&e(a.children)}}}(e),t}}}},{key:"isEmpty",value:function(){var e=0;return this.selectedNodes.forEach((function(t){t&&e++})),0===e}},{key:"deselectAllRowNodes",value:function(e){var t=function(e){return e.selectThisNode(!1,void 0,i)},n="clientSide"===this.rowModel.getType(),i=e.source,r=e.justFiltered,o=e.justCurrentPage;if(o||r){if(!n)return void xe("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,o).forEach(t)}else this.selectedNodes.forEach((function(e){e&&t(e)})),this.reset(i);this.selectionCtx.reset(),n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)}},{key:"getSelectedCounts",value:function(e,t){var n=this,i=0,r=0;return this.getNodesToSelect(e,t).forEach((function(e){n.groupSelectsChildren&&e.group||(e.isSelected()?i++:e.selectable&&r++)})),{selectedCount:i,notSelectedCount:r}}},{key:"getSelectAllState",value:function(e,t){var n=this.getSelectedCounts(e,t),i=n.selectedCount,r=n.notSelectedCount;return(0!==i||0!==r)&&(i>0&&r>0?null:i>0)}},{key:"hasNodesToSelect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getNodesToSelect(e,t).filter((function(e){return e.selectable})).length>0}},{key:"getNodesToSelect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var i=[];if(n)return this.forEachNodeOnPage((function(t){if(t.group)if(t.expanded)e.groupSelectsChildren||i.push(t);else{(function e(t){var n;i.push(t),null!==(n=t.childrenAfterFilter)&&void 0!==n&&n.length&&t.childrenAfterFilter.forEach(e)})(t)}else i.push(t)})),i;var r=this.rowModel;return t?(r.forEachNodeAfterFilter((function(e){i.push(e)})),i):(r.forEachNode((function(e){i.push(e)})),i)}},{key:"forEachNodeOnPage",value:function(e){for(var t=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow(),i=t;i<=n;i++){var r=this.rowModel.getRow(i);r&&e(r)}}},{key:"selectAllRowNodes",value:function(e){var t,n;if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var i=e.source,r=e.justFiltered,o=e.justCurrentPage,a=this.getNodesToSelect(r,o);a.forEach((function(e){return e.selectThisNode(!0,void 0,i)})),this.selectionCtx.setRoot(null!==(t=a[0])&&void 0!==t?t:null),this.selectionCtx.setEndRange(null!==(n=I(a))&&void 0!==n?n:null),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)}},{key:"getSelectionState",value:function(){var e=[];return this.selectedNodes.forEach((function(t){null!==t&&void 0!==t&&t.id&&e.push(t.id)})),e.length?e:null}},{key:"setSelectionState",value:function(e,t){if(Array.isArray(e)){var n=new Set(e),i=[];this.rowModel.forEachNode((function(e){n.has(e.id)&&i.push(e)})),this.setNodesSelected({newValue:!0,nodes:i,source:t})}}},{key:"dispatchSelectionChanged",value:function(e){var t={type:"selectionChanged",source:e};this.eventService.dispatchEvent(t)}}]),n}(Y),Lu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="selectableService",e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}},{key:"postConstruct",value:function(){var e=this;this.addManagedPropertyListener("isRowSelectable",(function(){return e.updateSelectable()}))}},{key:"updateSelectableAfterGrouping",value:function(){this.updateSelectable(!0)}},{key:"updateSelectable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!!this.gos.get("rowSelection"),n=this.gos.get("isRowSelectable");if(t&&n){var i=this.gos.get("groupSelectsChildren"),r="clientSide"===this.rowModel.getType()&&i,o=[],a=function(t){if(!e||t.group)if(r&&t.group){var i=t.childrenAfterGroup.some((function(e){return!0===e.selectable}));t.setRowSelectable(i,!0)}else{var a=!n||n(t);t.setRowSelectable(a,!0),!a&&t.isSelected()&&o.push(t)}};if(r){var s=this.rowModel,l=new Au(!1,s.getRootNode());l.forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof Tu&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}}}]),n}(Y),Iu=["asc","desc",null],Ou=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="sortController",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}},{key:"progressSort",value:function(e,t,n){var i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}},{key:"setSortForColumn",value:function(e,t,n,i){"asc"!==t&&"desc"!==t&&(t=null);var r=[e];if(this.gos.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){var a=this.funcColsService.getSourceColumnsForGroupColumn(e),s=null===a||void 0===a?void 0:a.filter((function(e){return e.isSortable()}));s&&(r=[e].concat((0,o.Z)(s)))}r.forEach((function(e){return e.setSort(t,i)}));var l=[];if(!((n||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"))){var u=this.clearSortBarTheseColumns(r,i);l.push.apply(l,(0,o.Z)(u))}this.updateSortIndex(e),l.push.apply(l,(0,o.Z)(r)),this.dispatchSortChangedEvents(i,l)}},{key:"updateSortIndex",value:function(e){var t,n=this.gos.isColumnsSortingCoupledToGroup(),i=null===(t=this.showRowGroupColsService)||void 0===t?void 0:t.getShowRowGroupCol(e.getId()),r=n&&i||e,a=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach((function(e){return e.setSortIndex(null)}));var s=a.filter((function(e){return(!n||!e.getColDef().showRowGroup)&&e!==r}));(r.getSort()?[].concat((0,o.Z)(s),[r]):s).forEach((function(e,t){e.setSortIndex(t)}))}},{key:"onSortChanged",value:function(e,t){this.dispatchSortChangedEvents(e,t)}},{key:"isSortActive",value:function(){var e=this.columnModel.getAllCols().filter((function(e){return!!e.getSort()}));return e&&e.length>0}},{key:"dispatchSortChangedEvents",value:function(e,t){var n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventService.dispatchEvent(n)}},{key:"clearSortBarTheseColumns",value:function(e,t){var n=[];return this.columnModel.getAllCols().forEach((function(i){e.includes(i)||(i.getSort()&&n.push(i),i.setSort(void 0,t))})),n}},{key:"getNextSortDirection",value:function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):Iu,!Array.isArray(t)||t.length<=0)return De("sortingOrder must be an array with at least one element, currently it's ".concat(t)),null;var n,i=t.indexOf(e.getSort()),r=i<0,o=i==t.length-1;return n=r||o?t[0]:t[i+1],Iu.indexOf(n)<0?(De("invalid sort type ",n),null):n}},{key:"getIndexedSortMap",value:function(){var e=this,t=this.columnModel.getAllCols().filter((function(e){return!!e.getSort()}));if(this.columnModel.isPivotMode()){var n=this.gos.isColumnsSortingCoupledToGroup();t=t.filter((function(t){var i,r=!!t.getAggFunc(),o=!t.isPrimary(),a=n?null===(i=e.showRowGroupColsService)||void 0===i?void 0:i.getShowRowGroupCol(t.getId()):t.getColDef().showRowGroup;return r||o||a}))}var i=this.funcColsService.getRowGroupColumns().filter((function(e){return!!e.getSort()})),r={};t.forEach((function(e,t){return r[e.getId()]=t})),t.sort((function(e,t){var n=e.getSortIndex(),i=t.getSortIndex();return null!=n&&null!=i?n-i:null==n&&null==i?r[e.getId()]>r[t.getId()]?1:-1:null==i?-1:1}));var a=this.gos.isColumnsSortingCoupledToGroup()&&!!i.length;a&&(t=(0,o.Z)(new Set(t.map((function(t){var n,i;return null!==(n=null===(i=e.showRowGroupColsService)||void 0===i?void 0:i.getShowRowGroupCol(t.getId()))&&void 0!==n?n:t})))));var s=new Map;return t.forEach((function(e,t){return s.set(e,t)})),a&&i.forEach((function(t){var n=e.showRowGroupColsService.getShowRowGroupCol(t.getId());s.set(t,s.get(n))})),s}},{key:"getColumnsWithSortingOrdered",value:function(){return(0,o.Z)(this.getIndexedSortMap().entries()).sort((function(e,t){var n=(0,r.Z)(e,2),i=(n[0],n[1]),o=(0,r.Z)(t,2);o[0];return i-o[1]})).map((function(e){return(0,r.Z)(e,1)[0]}))}},{key:"getSortModel",value:function(){return this.getColumnsWithSortingOrdered().filter((function(e){return e.getSort()})).map((function(e){return{sort:e.getSort(),colId:e.getId()}}))}},{key:"getSortOptions",value:function(){return this.getColumnsWithSortingOrdered().filter((function(e){return e.getSort()})).map((function(e){return{sort:e.getSort(),column:e}}))}},{key:"canColumnDisplayMixedSort",value:function(e){var t=this.gos.isColumnsSortingCoupledToGroup(),n=!!e.getColDef().showRowGroup;return t&&n}},{key:"getDisplaySortForColumn",value:function(e){var t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||null===t||void 0===t||!t.length)return e.getSort();var n=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e].concat((0,o.Z)(t)):t,i=n[0].getSort();return n.every((function(e){return e.getSort()==i}))?i:"mixed"}},{key:"getDisplaySortIndexForColumn",value:function(e){return this.getIndexedSortMap().get(e)}}]),n}(Y),Nu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="syncService",e.waitingForColumns=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}},{key:"postConstruct",value:function(){var e=this;this.addManagedPropertyListener("columnDefs",(function(t){return e.setColumnDefs(t)}))}},{key:"start",value:function(){var e=this;this.ctrlsService.whenReady((function(){var t=e.gos.get("columnDefs");t?e.setColumnsAndData(t):e.waitingForColumns=!0,e.gridReady()}))}},{key:"setColumnsAndData",value:function(e){this.columnModel.setColumnDefs(null!==e&&void 0!==e?e:[],"gridInitializing"),this.rowModel.start()}},{key:"gridReady",value:function(){this.dispatchGridReadyEvent();var e=$n.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&Pe("initialised successfully, enterprise = ".concat(e))}},{key:"dispatchGridReadyEvent",value:function(){this.eventService.dispatchEvent({type:"gridReady"})}},{key:"setColumnDefs",value:function(e){var t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.columnModel.setColumnDefs(t,qe(e.source))}}]),n}(Y),Gu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="changeDetectionService",e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}},{key:"postConstruct",value:function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}},{key:"onCellValueChanged",value:function(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}},{key:"doChangeDetection",value:function(e,t){if(!this.gos.get("suppressChangeDetection")){var n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var i=this.gos.get("aggregateOnlyChangedColumns"),r=new Au(i,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst((function(e){n.push(e)}))}this.rowRenderer.refreshCells({rowNodes:n})}}}]),n}(Y),Bu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="expressionService",e.expressionToFunctionCache={},e}return k(n,[{key:"evaluate",value:function(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);xe("value should be either a string or a function",e)}},{key:"evaluateExpression",value:function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Pe("Processing of the expression failed"),Pe("Expression = ",e),Pe("Params = ",t),Pe("Exception = ",n),null}}},{key:"createExpressionFunction",value:function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n}},{key:"createFunctionBody",value:function(e){return e.indexOf("return")>=0?e:"return "+e+";"}}]),n}(Y),Hu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="valueCache",e.cacheVersion=0,e}return k(n,[{key:"postConstruct",value:function(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}},{key:"onDataChanged",value:function(){this.neverExpires||this.expire()}},{key:"expire",value:function(){this.cacheVersion++}},{key:"setValue",value:function(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)}},{key:"getValue",value:function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}}]),n}(Y),Vu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="valueService",e.initialised=!1,e.isSsrm=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}},{key:"postConstruct",value:function(){this.initialised||this.init()}},{key:"init",value:function(){var e=this;this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;var t=function(t){return e.callColumnCellValueChangedHandler(t)},n=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",t,n),this.addDestroyFunc((function(){return e.eventService.removeEventListener("cellValueChanged",t,n)})),this.addManagedPropertyListener("treeData",(function(t){return e.isTreeData=t.currentValue}))}},{key:"getValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised||this.init(),t){var r,o=e.getColDef(),a=o.field,s=e.getColId(),l=t.data,u=t.groupData&&void 0!==t.groupData[s],c=!i&&t.aggData&&void 0!==t.aggData[s],d=this.isSsrm&&i&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(n&&o.filterValueGetter?r=this.executeFilterValueGetter(o.filterValueGetter,l,e,t):this.isTreeData&&c?r=t.aggData[s]:this.isTreeData&&o.valueGetter?r=this.executeValueGetter(o.valueGetter,l,e,t):this.isTreeData&&a&&l?r=pe(l,a,e.isFieldContainsDots()):u?r=t.groupData[s]:c?r=t.aggData[s]:o.valueGetter?r=this.executeValueGetter(o.valueGetter,l,e,t):h?r=pe(l,t.field,e.isFieldContainsDots()):a&&l&&!d&&(r=pe(l,a,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof r&&0===r.indexOf("=")){var f=r.substring(1);r=this.executeValueGetter(f,l,e,t)}if(null==r){var v=this.getOpenedGroup(t,e);if(null!=v)return v}return r}}},{key:"parseValue",value:function(e,t,n,i){var r=e.getColDef(),o=this.gos.addGridCommonParams({node:t,data:null===t||void 0===t?void 0:t.data,oldValue:i,newValue:n,colDef:r,column:e}),a=r.valueParser;return $(a)?"function"===typeof a?a(o):this.expressionService.evaluate(a,o):n}},{key:"formatValue",value:function(e,t,n,i){var r,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=null,s=e.getColDef();if(i?r=i:o&&(r=s.valueFormatter),r){var l=this.gos.addGridCommonParams({value:n,node:t,data:t?t.data:null,colDef:s,column:e});a="function"===typeof r?r(l):this.expressionService.evaluate(r,l)}else if(s.refData)return s.refData[n]||"";return null==a&&Array.isArray(n)&&(a=n.join(", ")),a}},{key:"getOpenedGroup",value:function(e,t){if(this.gos.get("showOpenedGroup")&&t.getColDef().showRowGroup)for(var n=t.getColDef().showRowGroup,i=e.parent;null!=i;){if(i.rowGroupColumn&&(!0===n||n===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}},{key:"setValue",value:function(e,t,n,i){var r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;ee(e.data)&&(e.data={});var o=r.getColDef(),a=o.field,s=o.valueSetter;if(ee(a)&&ee(s))return De("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,n))return De("Data type of the new value does not match the cell data type of the column"),!1;var l,u=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});if(u.newValue=n,void 0===(l=$(s)?"function"===typeof s?s(u):this.expressionService.evaluate(s,u):this.setValueUsingField(e.data,a,n,r.isFieldContainsDots()))&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),u.newValue=this.getValue(r,e);var c={type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,api:u.api,colDef:u.colDef,context:u.context,data:e.data,node:e,oldValue:u.oldValue,newValue:u.newValue,value:u.newValue,source:i};return this.eventService.dispatchEvent(c),!0}},{key:"callColumnCellValueChangedHandler",value:function(e){var t=e.colDef.onCellValueChanged;"function"===typeof t&&this.getFrameworkOverrides().wrapOutgoing((function(){t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})}))}},{key:"setValueUsingField",value:function(e,t,n,i){if(!t)return!1;var r=!1;if(i)for(var o=t.split("."),a=e;o.length>0&&a;){var s=o.shift();0===o.length?(r=a[s]===n)||(a[s]=n):a=a[s]}else(r=e[t]===n)||(e[t]=n);return!r}},{key:"executeFilterValueGetter",value:function(e,t,n,i){var r=this.gos.addGridCommonParams({data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});return"function"===typeof e?e(r):this.expressionService.evaluate(e,r)}},{key:"executeValueGetter",value:function(e,t,n,i){var r=n.getColId(),o=this.valueCache.getValue(i,r);if(void 0!==o)return o;var a,s=this.gos.addGridCommonParams({data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});return a="function"===typeof e?e(s):this.expressionService.evaluate(e,s),this.valueCache.setValue(i,r,a),a}},{key:"getValueCallback",value:function(e,t){var n=this.columnModel.getColDefCol(t);return n?this.getValue(n,e):null}},{key:"getKeyForNode",value:function(e,t){var n=this.getValue(e,t),i=e.getColDef().keyCreator,r=n;i&&(r=i(this.gos.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:t,data:t.data})));return"string"===typeof r||null==r||"[object Object]"===(r=String(r))&&De("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key"),r}}]),n}(Y),Wu=k((function e(){C(this,e)}));Wu.gridOptions=void 0;var zu=1,_u=function(){function e(){C(this,e)}return k(e,[{key:"create",value:function(e,t,n,i,o){var a,s={};Wu.gridOptions?(ve(s,Wu.gridOptions,!0,!0),s=y(y({},s),t)):s=t;var l=function(e){var t={};return Object.entries(e).forEach((function(e){var n=(0,r.Z)(e,2),i=n[0],o=gu(i,n[1]);t[i]=o})),t}(s),u=null!==(a=l.gridId)&&void 0!==a?a:String(zu++),c=this.getRegisteredModules(o,u),d=this.createBeansList(l.rowModelType,c,u),h=this.createProvidedBeans(e,l,o);if(d){var f=new Wi({providedBeanInstances:h,beanClasses:d,gridId:u,beanInitComparator:qs,beanDestroyComparator:Qs,derivedBeans:[Hs]});return this.registerModuleUserComponents(f,c),this.registerControllers(f,c),this.registerModuleApiFunctions(f,c),n(f),f.getBean("syncService").start(),i&&i(f),f.getBean("gridApi")}xe("Failed to create grid.")}},{key:"registerControllers",value:function(e,t){var n=e.getBean("ctrlsFactory");t.forEach((function(e){e.controllers&&e.controllers.forEach((function(e){return n.register(e)}))}))}},{key:"getRegisteredModules",value:function(e,t){var n=e?e.modules:null,i=$n.__getRegisteredModules(t),r=[],o={},a=function e(t,n,i){var a;o[(a=n).moduleName]||(o[a.moduleName]=!0,r.push(a),$n.__register(a,t,i)),n.dependantModules&&n.dependantModules.forEach((function(n){return e(t,n,i)}))};return a(!(null===n||void 0===n||!n.length)||!$n.__isPackageBased(),hu,void 0),n&&n.forEach((function(e){return a(!0,e,t)})),i&&i.forEach((function(e){return a(!$n.__isPackageBased(),e,void 0)})),r}},{key:"registerModuleUserComponents",value:function(e,t){var n=this.extractModuleEntity(t,(function(e){return e.userComponents?e.userComponents:[]})),i=e.getBean("userComponentRegistry");n.forEach((function(e){i.registerDefaultComponent(e.name,e.classImp)}))}},{key:"registerModuleApiFunctions",value:function(e,t){var n=e.getBean("apiFunctionService");t.forEach((function(e){var t,i=null!==(t=e.apiFunctions)&&void 0!==t?t:{};Object.keys(i).forEach((function(e){null===n||void 0===n||n.addFunction(e,i[e])}))}))}},{key:"createProvidedBeans",value:function(e,t,n){var i=n?n.frameworkOverrides:null;ee(i)&&(i=new Is);var r={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}},{key:"createBeansList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clientSide",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=t.filter((function(t){return!t.rowModel||t.rowModel===e})),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(r[e]){if($n.__assertRegistered(r[e],"rowModelType = '".concat(e,"'"),n)){var a=[el,Js,Cu,fu,Gs,mi,js,Zs,Ha,Hi,xu,Ga,wu,Ss,Zi,ht,sl,yu,Ts,Tu,Ke,So,bu,ku,Cs,Bu,je,Na,Hu,Vu,ms,Ba,_i,ul,Oa,rl,Os,Fs,Ta,Ou,Fu,Eu,Lu,Gu,Va,Vs,Du,Mu,Xs,cl,$s,Ys,Nu,Pu,Wa,Su,Ru,za,Je,Ws,et,Ye,zs,_s,st,Xe,ot,Us,at],s=this.extractModuleEntity(i,(function(e){return e.beans?e.beans:[]}));a.push.apply(a,(0,o.Z)(s));var l=[];return a.forEach((function(e){l.indexOf(e)<0&&l.push(e)})),l}}else xe("Could not find row model for rowModelType = ",e)}},{key:"extractModuleEntity",value:function(e,t){var n;return(n=[]).concat.apply(n,(0,o.Z)(e.map(t)))}}]),e}(),Uu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowModelHelperService",e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel}},{key:"postConstruct",value:function(){var e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}},{key:"getClientSideRowModel",value:function(){return this.clientSideRowModel}},{key:"getInfiniteRowModel",value:function(){return this.infiniteRowModel}},{key:"getServerSideRowModel",value:function(){return this.serverSideRowModel}}]),n}(Y);var ju={version:eo,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function(e){e.expansionService.expandAll(!0)},collapseAll:function(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function(e){var t,n,i=null===(t=e.rowModelHelperService)||void 0===t?void 0:t.getClientSideRowModel(),r=null===(n=e.rowModelHelperService)||void 0===n?void 0:n.getServerSideRowModel();i?i.onRowHeightChanged():r&&r.onRowHeightChanged()}}},Zu={version:eo,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function(e,t,n){var i,r,o=null===(i=e.rowModelHelperService)||void 0===i?void 0:i.getServerSideRowModel();if(o)return e.funcColsService.isRowGroupEmpty()?void o.setRowCount(t,n):void xe("setRowCount cannot be used while using row grouping.");var a=null===(r=e.rowModelHelperService)||void 0===r?void 0:r.getInfiniteRowModel();a&&a.setRowCount(t,n)},getCacheBlockState:function(e){var t,n;return null!==(t=null===(n=e.rowNodeBlockLoader)||void 0===n?void 0:n.getBlockState())&&void 0!==t?t:{}}}},Ku=function(){function e(){C(this,e)}return k(e,[{key:"wrap",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=this.createWrapper(e,r);return t.forEach((function(e){n.createMethod(o,e,!0)})),i.forEach((function(e){n.createMethod(o,e,!1)})),o}},{key:"unwrap",value:function(e){return e}},{key:"createMethod",value:function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}},{key:"createMethodProxy",value:function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&De("Framework component is missing the method "+t+"()"),null)}}}]),e}();var qu=k((function e(){C(this,e)}));qu.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},qu.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],qu.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var Qu="undefined"===typeof global?{}:global;Qu.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,Qu.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,Qu.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,Qu.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,Qu.Node="undefined"===typeof Node?{}:Node,Qu.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var Yu=function(){function e(t,n,i,r,o,a){C(this,e),this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=n,this.eventService=i,this.funcColsService=r,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return k(e,[{key:"getCopyOfNodesMap",value:function(){return de(this.allNodesMap)}},{key:"getRowNode",value:function(e){return this.allNodesMap[e]}},{key:"setRowData",value:function(e){var t=this;if("string"!==typeof e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map((function(e){return t.createNode(e,t.rootNode,0)})):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)}else De("rowData must be an array.")}},{key:"updateRowData",value:function(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.executeAdd(e,n),this.updateSelection(i,"rowDataChanged"),t&&function(e,t){if(!e)return!1;for(var n=function(e,n){var i=t[e.id],r=t[n.id],o=void 0!==i,a=void 0!==r;return o&&a?i-r:o||a?o?1:-1:e.__objectId-n.__objectId},i=!1,r=0;r<e.length-1;r++)if(n(e[r],e[r+1])>0){i=!0;break}!!i&&e.sort(n)}(this.rootNode.allLeafChildren,t),n}},{key:"isRowCountReady",value:function(){return this.rowCountReady}},{key:"dispatchRowDataUpdateStartedEvent",value:function(e){var t={type:"rowDataUpdateStarted",firstRowData:null!==e&&void 0!==e&&e.length?e[0]:null};this.eventService.dispatchEvent(t)}},{key:"updateSelection",value:function(e,t){var n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){var i={type:"selectionChanged",source:t};this.eventService.dispatchEvent(i)}}},{key:"executeAdd",value:function(e,t){var n=this,i=e.add,r=e.addIndex;if(!te(i)){var a=i.map((function(e){return n.createNode(e,n.rootNode,0)})),s=this.rootNode.allLeafChildren;if("number"===typeof r&&r>=0){var l=s.length,u=r;if(this.gos.get("treeData")&&r>0&&l>0)for(var c=0;c<l;c++){var d;if((null===(d=s[c])||void 0===d?void 0:d.rowIndex)==r-1){u=c+1;break}}var h=s.slice(0,u),f=s.slice(u,s.length);this.rootNode.allLeafChildren=[].concat((0,o.Z)(h),(0,o.Z)(a),(0,o.Z)(f))}else this.rootNode.allLeafChildren=[].concat((0,o.Z)(s),(0,o.Z)(a));this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=s),t.add=a}}},{key:"executeRemove",value:function(e,t,n){var i,r,o=this,a=e.remove;if(!te(a)){var s={};a.forEach((function(e){var i=o.lookupRowNode(e);i&&(i.isSelected()&&n.push(i),i.clearRowTopAndRowIndex(),s[i.id]=!0,delete o.allNodesMap[i.id],t.remove.push(i))})),this.rootNode.allLeafChildren=null!==(i=null===(r=this.rootNode.allLeafChildren)||void 0===r?void 0:r.filter((function(e){return!s[e.id]})))&&void 0!==i?i:null,this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}}},{key:"executeUpdate",value:function(e,t,n){var i=this,r=e.update;te(r)||r.forEach((function(e){var r=i.lookupRowNode(e);r&&(r.updateData(e),!r.selectable&&r.isSelected()&&n.push(r),i.setMasterForRow(r,e,0,!1),t.update.push(r))}))}},{key:"lookupRowNode",value:function(e){var t,n=this.gos.getRowIdCallback();if(n){var i=n({data:e,level:0});if(!(t=this.allNodesMap[i]))return xe("could not find row id=".concat(i,", data item was not found for this id")),null}else{var r;if(!(t=null===(r=this.rootNode.allLeafChildren)||void 0===r?void 0:r.find((function(t){return t.data===e}))))return xe("could not find data item as object was not found",e),xe("Consider using getRowId to help the Grid find matching row data"),null}return t||null}},{key:"createNode",value:function(e,t,n){var i=new Ji(this.beans);return i.group=!1,this.setMasterForRow(i,e,n,!0),t&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&De("duplicate node id '".concat(i.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[i.id]=i,this.nextId++,i}},{key:"setMasterForRow",value:function(e,t,n,i){if(this.gos.get("treeData"))e.setMaster(!1),i&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){var r=this.gos.get("isRowMaster");r?e.setMaster(r(t)):e.setMaster(!0)}else e.setMaster(!1);if(i){var o=this.funcColsService.getRowGroupColumns(),a=n+(o?o.length:0);e.expanded=!!e.master&&this.isExpanded(a)}}}},{key:"isExpanded",value:function(e){var t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}}]),e}(),Xu=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowModel",e.onRowHeightChanged_debounced=Oe(e.onRowHeightChanged.bind(f(e)),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e.isRefreshingModel=!1,e.rowCountReady=!1,e}return k(n,[{key:"wireBeans",value:function(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}},{key:"postConstruct",value:function(){var e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Ji(this.beans),this.nodeManager=new Yu(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}},{key:"addPropertyListeners",value:function(){var e=this,t=new Set(["treeData","masterDetail"]),n=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),r=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),a=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),l=new Set([]),u=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),c=[].concat((0,o.Z)(t),(0,o.Z)(n),(0,o.Z)(i),(0,o.Z)(r),(0,o.Z)(r),(0,o.Z)(a),(0,o.Z)(s),(0,o.Z)(l),(0,o.Z)(u));this.addManagedPropertyListeners(c,(function(o){var c,d=null===(c=o.changeSet)||void 0===c?void 0:c.properties;if(d){var h=function(e){return d.some((function(t){return e.has(t)}))};h(t)?e.setRowData(e.rootNode.allLeafChildren.map((function(e){return e.data}))):h(n)?e.refreshModel({step:"group"}):h(i)?e.refreshModel({step:"filter"}):h(r)?e.refreshModel({step:"pivot"}):h(a)?e.refreshModel({step:"aggregate"}):h(s)?e.refreshModel({step:"sort"}):h(l)?e.refreshModel({step:"filter_aggregates"}):h(u)&&e.refreshModel({step:"map"})}})),this.addManagedPropertyListener("rowHeight",(function(){return e.resetRowHeights()}))}},{key:"start",value:function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}},{key:"setInitialData",value:function(){var e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}},{key:"ensureRowHeightsValid",value:function(e,t,n,i){var r,o=!1;do{r=!1;for(var a=this.getRowIndexAtPixel(e),s=this.getRowIndexAtPixel(t),l=Math.max(a,n),u=Math.min(s,i),c=l;c<=u;c++){var d=this.getRow(c);if(d.rowHeightEstimated){var h=this.gos.getRowHeightForNode(d);d.setRowHeight(h.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}},{key:"setRowTopAndRowIndex",value:function(){for(var e=this.environment.getDefaultRowHeight(),t=0,n=new Set,i=this.gos.isDomLayout("normal"),r=0;r<this.rowsToDisplay.length;r++){var o=this.rowsToDisplay[r];if(null!=o.id&&n.add(o.id),null==o.rowHeight){var a=this.gos.getRowHeightForNode(o,i,e);o.setRowHeight(a.height,a.estimated)}o.setRowTop(t),o.setRowIndex(r),t+=o.rowHeight}return n}},{key:"clearRowTopAndRowIndex",value:function(e,t){var n=e.isActive(),i=function(e){e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()};!function e(t){if(i(t),i(t.detailNode),i(t.sibling),t.hasChildren()&&t.childrenAfterGroup){var r=-1==t.level;n&&!r&&!t.expanded||t.childrenAfterGroup.forEach(e)}}(this.rootNode)}},{key:"ensureRowsAtPixel",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getRowIndexAtPixel(t),o=this.getRow(r),a=!this.gos.get("suppressAnimationFrame");return o!==e[0]&&(e.forEach((function(e){G(n.rootNode.allLeafChildren,e)})),e.forEach((function(e,t){B(n.rootNode.allLeafChildren,e,Math.max(r+i,0)+t)})),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:a}),!0)}},{key:"highlightRowAtPixel",value:function(e,t){var n=null!=t?this.getRowIndexAtPixel(t):null,i=null!=n?this.getRow(n):null;if(i&&e&&i!==e&&null!=t){var r=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(r),this.lastHighlightedRow=i}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}},{key:"getHighlightPosition",value:function(e,t){if(!t){var n=this.getRowIndexAtPixel(e);if(!(t=this.getRow(n||0)))return 1}var i=t;return e-i.rowTop<i.rowHeight/2?0:1}},{key:"getLastHighlightedRowNode",value:function(){return this.lastHighlightedRow}},{key:"isLastRowIndexKnown",value:function(){return!0}},{key:"getRowCount",value:function(){return this.rowsToDisplay?this.rowsToDisplay.length:0}},{key:"getTopLevelRowCount",value:function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var e=this.rootNode.sibling?1:0,t=this.rootNode.childrenAfterAggFilter;return(t?t.length:0)+e}},{key:"getTopLevelRowDisplayedIndex",value:function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;t-=1}var n=this.rootNode.childrenAfterSort[t];if(this.gos.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}},{key:"getRowBounds",value:function(e){if(ee(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}},{key:"onRowGroupOpened",value:function(){var e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}},{key:"onFilterChanged",value:function(e){if(!e.afterDataChange){var t=this.gos.isAnimateRows(),n=0===e.columns.length||e.columns.some((function(e){return e.isPrimary()}))?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}}},{key:"onSortChanged",value:function(){var e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}},{key:"getType",value:function(){return"clientSide"}},{key:"onValueChanged",value:function(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}},{key:"createChangePath",value:function(e){var t=te(e),n=new Au(!1,this.rootNode);return(t||this.gos.get("treeData"))&&n.setInactive(),n}},{key:"isSuppressModelUpdateAfterUpdateTransaction",value:function(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;var t=e.rowNodeTransactions.filter((function(e){return null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0}));return null==t||0==t.length}},{key:"buildRefreshModelParams",value:function(e){var t="group",n={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if($(e)&&(t=n[e]),!ee(t))return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")};xe("invalid step ".concat(e,", available steps are ").concat(Object.keys(n).join(", ")))}},{key:"refreshModel",value:function(e){if(this.hasStarted&&!this.isRefreshingModel&&!this.columnModel.isChangeEventsDispatching()){var t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(t&&!this.isSuppressModelUpdateAfterUpdateTransaction(t)){var n=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,n,!!t.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(t.rowNodeTransactions,n);case"map":this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.isRefreshingModel=!1;var r={type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(r)}}}},{key:"isEmpty",value:function(){var e=ee(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ee(this.rootNode)||e||!this.columnModel.isReady()}},{key:"isRowsToRender",value:function(){return $(this.rowsToDisplay)&&this.rowsToDisplay.length>0}},{key:"getNodesInRangeForSelection",value:function(e,t){var n=!1,i=!1,r=[],a=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((function(s){if(!i)if(n&&(s===t||s===e)&&(i=!0,s.group&&a))r.push.apply(r,(0,o.Z)(s.allLeafChildren));else{if(!n){if(s!==t&&s!==e)return;n=!0}(!s.group||!a)&&r.push(s)}})),r}},{key:"setDatasource",value:function(e){xe("should never call setDatasource on clientSideRowController")}},{key:"getTopLevelNodes",value:function(){return this.rootNode?this.rootNode.childrenAfterGroup:null}},{key:"getRootNode",value:function(){return this.rootNode}},{key:"getRow",value:function(e){return this.rowsToDisplay[e]}},{key:"isRowPresent",value:function(e){return this.rowsToDisplay.indexOf(e)>=0}},{key:"getRowIndexAtPixel",value:function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(I(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(var i=-1,r=-1;;){var o=Math.floor((t+n)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e))return o;if(a.rowTop<e?t=o+1:a.rowTop>e&&(n=o-1),i===t&&r===n)return o;i=t,r=n}}},{key:"isRowInPixel",value:function(e,t){var n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}},{key:"forEachLeafNode",value:function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(t,n){return e(t,n)}))}},{key:"forEachNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:(0,o.Z)(this.rootNode.childrenAfterGroup||[]),callback:e,recursionType:0,index:0,includeFooterNodes:t})}},{key:"forEachNodeAfterFilter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:(0,o.Z)(this.rootNode.childrenAfterAggFilter||[]),callback:e,recursionType:1,index:0,includeFooterNodes:t})}},{key:"forEachNodeAfterFilterAndSort",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:(0,o.Z)(this.rootNode.childrenAfterSort||[]),callback:e,recursionType:2,index:0,includeFooterNodes:t})}},{key:"forEachPivotNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}},{key:"recursivelyWalkNodesAndCallback",value:function(e){var t=this,n=e.nodes,i=e.callback,r=e.recursionType,a=e.includeFooterNodes,s=e.index,l=function(e){var r,o=null===(r=n[0])||void 0===r?void 0:r.parent;if(o){var l=a&&t.gos.getGrandTotalRow(),u=t.gos.getGroupTotalRowCallback(),c=a&&u({node:o});o===t.rootNode?l===e&&(o.createFooter(),i(o.sibling,s++)):c===e&&(o.createFooter(),i(o.sibling,s++))}};l("top");for(var u=0;u<n.length;u++){var c=n[u];if(i(c,s++),c.hasChildren()&&!c.footer){var d=null;switch(r){case 0:d=c.childrenAfterGroup;break;case 1:d=c.childrenAfterAggFilter;break;case 2:d=c.childrenAfterSort;break;case 3:d=c.leafGroup?null:c.childrenAfterSort}d&&(s=this.recursivelyWalkNodesAndCallback({nodes:(0,o.Z)(d),callback:i,recursionType:r,index:s,includeFooterNodes:a}))}}return l("bottom"),s}},{key:"doAggregate",value:function(e){var t;null===(t=this.aggregationStage)||void 0===t||t.execute({rowNode:this.rootNode,changedPath:e})}},{key:"doFilterAggregates",value:function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}},{key:"expandOrCollapseAll",value:function(e){var t=this.gos.get("treeData"),n=this.columnModel.isPivotActive();this.rootNode&&function i(r){r&&r.forEach((function(r){var o=function(){r.expanded=e,i(r.childrenAfterGroup)};t?$(r.childrenAfterGroup)&&o():n?!r.leafGroup&&o():r.group&&o()}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});var i={type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"};this.eventService.dispatchEvent(i)}},{key:"doSort",value:function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}},{key:"doRowGrouping",value:function(e,t,n,i){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:n}):this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)){this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}},{key:"doFilter",value:function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}},{key:"doPivot",value:function(e){var t;null===(t=this.pivotStage)||void 0===t||t.execute({rowNode:this.rootNode,changedPath:e})}},{key:"getCopyOfNodesMap",value:function(){return this.nodeManager.getCopyOfNodesMap()}},{key:"getRowNode",value:function(e){if("string"==typeof e&&0==e.indexOf(Ji.ID_PREFIX_ROW_GROUP)){var t=void 0;return this.forEachNode((function(n){n.id===e&&(t=n)})),t}return this.nodeManager.getRowNode(e)}},{key:"setRowData",value:function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}},{key:"dispatchUpdateEventsAndRefresh",value:function(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}},{key:"batchUpdateRowData",value:function(e,t){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var i=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){n.executeBatchUpdateRowData()}),i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}},{key:"flushAsyncTransactions",value:function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}},{key:"executeBatchUpdateRowData",value:function(){var e=this;this.valueCache.onDataChanged();var t=[],n=[],i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(r){var o=e.nodeManager.updateRowData(r.rowDataTransaction,void 0);n.push(o),r.callback&&t.push(r.callback.bind(null,o)),"number"===typeof r.rowDataTransaction.addIndex&&(i=!0)})),this.commonUpdateRowData(n,void 0,i),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0),n.length>0){var r={type:"asyncTransactionsFlushed",results:n};this.eventService.dispatchEvent(r)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}},{key:"updateRowData",value:function(e,t){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(e,t),i="number"===typeof e.addIndex;return this.commonUpdateRowData([n],t,i),n}},{key:"createRowNodeOrder",value:function(){if(!this.gos.get("suppressMaintainUnsortedOrder")){var e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var t=0;t<this.rootNode.allLeafChildren.length;t++){e[this.rootNode.allLeafChildren[t].id]=t}return e}}},{key:"commonUpdateRowData",value:function(e,t,n){if(this.hasStarted){var i=!this.gos.get("suppressAnimationFrame");n&&(t=this.createRowNodeOrder());this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}}},{key:"doRowsToDisplay",value:function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}},{key:"onRowHeightChanged",value:function(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}},{key:"onRowHeightChangedDebounced",value:function(){this.onRowHeightChanged_debounced()}},{key:"resetRowHeights",value:function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}},{key:"resetRowHeightsForAllRowNodes",value:function(){var e=!1;return this.forEachNode((function(t){t.setRowHeight(t.rowHeight,!0);var n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0})),e}},{key:"onGridStylesChanges",value:function(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}},{key:"onGridReady",value:function(){this.hasStarted||this.setInitialData()}},{key:"isRowDataLoaded",value:function(){return this.rowCountReady}}]),n}(Y);var Ju=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="filterStage",e}return k(n,[{key:"wireBeans",value:function(e){this.filterManager=e.filterManager}},{key:"execute",value:function(e){var t=e.changedPath;this.filter(t)}},{key:"filter",value:function(e){var t,n=!(null===(t=this.filterManager)||void 0===t||!t.isChildFilterPresent());this.filterNodes(n,e)}},{key:"filterNodes",value:function(e,t){var n=this,i=function(t,i){t.hasChildren()?t.childrenAfterFilter=e&&!i?t.childrenAfterGroup.filter((function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&n.filterManager.doesRowPassFilter({rowNode:e});return t||i})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var r=function e(t,r){if(t.childrenAfterGroup)for(var o=0;o<t.childrenAfterGroup.length;o++){var a=t.childrenAfterGroup[o],s=r||n.filterManager.doesRowPassFilter({rowNode:a});a.childrenAfterGroup?e(t.childrenAfterGroup[o],s):i(a,s)}i(t,r)};t.executeFromRootNode((function(e){return r(e,!1)}))}else{t.forEachChangedNodeDepthFirst((function(e){return i(e,!1)}),!0)}}},{key:"doingTreeDataFiltering",value:function(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}}]),n}(Y),$u=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="flattenStage",e}return k(n,[{key:"wireBeans",value:function(e){this.beans=e,this.columnModel=e.columnModel}},{key:"execute",value:function(e){var t=e.rowNode,n=[],i=this.columnModel.isPivotMode(),r=i&&t.leafGroup,o=r?[t]:t.childrenAfterSort,a=this.getFlattenDetails();if(this.recursivelyAddToRowsToDisplay(a,o,n,i,0),!r&&n.length>0&&a.grandTotalRow){t.createFooter();var s="top"===a.grandTotalRow;this.addRowNodeToRowsToDisplay(a,t.sibling,n,0,s)}return n}},{key:"getFlattenDetails",value:function(){var e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}},{key:"recursivelyAddToRowsToDisplay",value:function(e,t,n,i,r){if(!te(t))for(var o=0;o<t.length;o++){var a=t[o],s=a.hasChildren(),l=i&&!s,u=e.groupRemoveSingleChildren&&s&&1===a.childrenAfterGroup.length,c=e.groupRemoveLowestSingleChildren&&s&&a.leafGroup&&1===a.childrenAfterGroup.length,d=i&&a.leafGroup,h=e.hideOpenParents&&a.expanded&&!a.master&&!d;if(!l&&!h&&!u&&!c&&this.addRowNodeToRowsToDisplay(e,a,n,r),!i||!a.leafGroup)if(s){var f=u||c;if(a.expanded||f){var v=e.groupTotalRow({node:a});v||a.destroyFooter();var p=f?r:r+1;"top"===v&&(a.createFooter(),this.addRowNodeToRowsToDisplay(e,a.sibling,n,p)),this.recursivelyAddToRowsToDisplay(e,a.childrenAfterSort,n,i,p),"bottom"===v&&(a.createFooter(),this.addRowNodeToRowsToDisplay(e,a.sibling,n,p))}}else if(a.master&&a.expanded){var g=this.createDetailNode(a);this.addRowNodeToRowsToDisplay(e,g,n,r)}}}},{key:"addRowNodeToRowsToDisplay",value:function(e,t,n,i,r){r?n.unshift(t):n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:i)}},{key:"createDetailNode",value:function(e){if($(e.detailNode))return e.detailNode;var t=new Ji(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,$(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}}]),n}(Y),ec=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="immutableService",e}return k(n,[{key:"wireBeans",value:function(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}},{key:"postConstruct",value:function(){var e=this;"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(function(){return e.onRowDataUpdated()})))}},{key:"isActive",value:function(){var e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}},{key:"setRowData",value:function(e){var t=this.createTransactionForRowData(e);if(t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];this.clientSideRowModel.updateRowData(i,o)}}},{key:"createTransactionForRowData",value:function(e){if(ee(this.clientSideRowModel))xe("ImmutableService only works with ClientSideRowModel");else{var t=this.gos.getRowIdCallback();if(null!=t){var n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),r=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return $(e)&&e.forEach((function(e,o){var a=t({data:e,level:0}),s=i[a];(r&&(r[a]=o),s)?(s.data!==e&&n.update.push(e),i[a]=void 0):n.add.push(e)})),ce(i,(function(e,t){t&&n.remove.push(t.data)})),[n,r]}xe("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}}},{key:"onRowDataUpdated",value:function(){var e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]),n}(Y),tc=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="sortService",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}},{key:"sort",value:function(e,t,n,i,r,o){var a=this,s=this.gos.get("groupMaintainOrder"),l=this.columnModel.getCols().some((function(e){return e.isRowGroupActive()})),u={};n&&i&&(u=this.calculateDirtyNodes(i));var c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows");r&&r.forEachChangedNodeDepthFirst((function(i){a.pullDownGroupDataForHideOpenParents(i.childrenAfterAggFilter,!0);var h=c&&i.leafGroup;if(s&&l&&!i.leafGroup&&!o){var f,v=null===(f=a.funcColsService.getRowGroupColumns())||void 0===f?void 0:f[i.level+1],p=null===(null===v||void 0===v?void 0:v.getSort()),g=i.childrenAfterAggFilter.slice(0);if(i.childrenAfterSort&&!p){var m={};i.childrenAfterSort.forEach((function(e,t){m[e.id]=t})),g.sort((function(e,t){var n,i;return(null!==(n=m[e.id])&&void 0!==n?n:0)-(null!==(i=m[t.id])&&void 0!==i?i:0)}))}i.childrenAfterSort=g}else i.childrenAfterSort=!t||h?i.childrenAfterAggFilter.slice(0):n?a.doDeltaSort(i,u,r,e):a.rowNodeSorter.doFullSort(i.childrenAfterAggFilter,e);if(i.sibling&&(i.sibling.childrenAfterSort=i.childrenAfterSort),a.updateChildIndexes(i),d){var y={nodes:i.childrenAfterSort};d(y)}})),this.updateGroupDataForHideOpenParents(r)}},{key:"calculateDirtyNodes",value:function(e){var t={},n=function(e){e&&e.forEach((function(e){return t[e.id]=!0}))};return e&&e.forEach((function(e){n(e.add),n(e.update),n(e.remove)})),t}},{key:"doDeltaSort",value:function(e,t,n,i){var r=this,o=e.childrenAfterAggFilter,a=e.childrenAfterSort;if(!a)return this.rowNodeSorter.doFullSort(o,i);var s={},l=[];o.forEach((function(e){t[e.id]||!n.canSkip(e)?l.push(e):s[e.id]=!0}));var u=a.filter((function(e){return s[e.id]})),c=function(e,t){return{currentPos:t,rowNode:e}},d=l.map(c).sort((function(e,t){return r.rowNodeSorter.compareRowNodes(i,e,t)}));return this.mergeSortedArrays(i,d,u.map(c)).map((function(e){return e.rowNode}))}},{key:"mergeSortedArrays",value:function(e,t,n){for(var i=[],r=0,o=0;r<t.length&&o<n.length;){this.rowNodeSorter.compareRowNodes(e,t[r],n[o])<0?i.push(t[r++]):i.push(n[o++])}for(;r<t.length;)i.push(t[r++]);for(;o<n.length;)i.push(n[o++]);return i}},{key:"updateChildIndexes",value:function(e){if(!ee(e.childrenAfterSort))for(var t=e.childrenAfterSort,n=0;n<t.length;n++){var i=t[n],r=0===n,o=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.setLastChild(o),i.setChildIndex(n)}}},{key:"updateGroupDataForHideOpenParents",value:function(e){var t=this;if(this.gos.get("groupHideOpenParents")){if(this.gos.get("treeData"))return De("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var n=function e(n){t.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach((function(t){t.hasChildren()&&e(t)}))};e&&e.executeFromRootNode((function(e){return n(e)}))}}},{key:"pullDownGroupDataForHideOpenParents",value:function(e,t){var n=this;this.gos.get("groupHideOpenParents")&&!ee(e)&&e.forEach((function(e){var i,r;(null!==(i=null===(r=n.showRowGroupColsService)||void 0===r?void 0:r.getShowRowGroupCols())&&void 0!==i?i:[]).forEach((function(i){var r=i.getColDef().showRowGroup;if("string"===typeof r){var o=r,a=n.columnModel.getColDefCol(o);if(!(a===e.rowGroupColumn))if(t)e.setGroupValue(i.getId(),void 0);else{var s=e.getFirstChildOfFirstChild(a);s&&e.setGroupValue(i.getId(),s.key)}}else xe("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))}}]),n}(Y),nc=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="sortStage",e}return k(n,[{key:"wireBeans",value:function(e){this.sortService=e.sortService,this.sortController=e.sortController}},{key:"execute",value:function(e){var t=this,n=this.sortController.getSortOptions(),i=$(n)&&n.length>0,r=i&&$(e.rowNodeTransactions)&&this.gos.get("deltaSort"),o=n.some((function(e){return t.gos.isColumnsSortingCoupledToGroup()?e.column.isPrimary()&&e.column.isRowGroupActive():!!e.column.getColDef().showRowGroup}));this.sortService.sort(n,i,r,e.rowNodeTransactions,e.changedPath,o)}}]),n}(Y),ic="32.0.2",rc={version:ic,moduleName:"@ag-grid-community/client-side-row-model".concat("-core"),rowModel:"clientSide",beans:[Xu,Ju,nc,$u,tc,ec]},oc={version:ic,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[rc,{version:ic,moduleName:"@ag-grid-community/client-side-row-model".concat("-api"),beans:[Uu],apiFunctions:{onGroupExpandedOrCollapsed:function(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function(e,t){var n,i;null===(n=e.rowModelHelperService)||void 0===n||null===(i=n.getClientSideRowModel())||void 0===i||i.refreshModel(t)},forEachLeafNode:function(e,t){var n,i;null===(n=e.rowModelHelperService)||void 0===n||null===(i=n.getClientSideRowModel())||void 0===i||i.forEachLeafNode(t)},forEachNodeAfterFilter:function(e,t){var n,i;null===(n=e.rowModelHelperService)||void 0===n||null===(i=n.getClientSideRowModel())||void 0===i||i.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(e,t){var n,i;null===(n=e.rowModelHelperService)||void 0===n||null===(i=n.getClientSideRowModel())||void 0===i||i.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function(e){var t,n;e.columnModel.isAutoRowHeightActive()?De("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):null===(t=e.rowModelHelperService)||void 0===t||null===(n=t.getClientSideRowModel())||void 0===n||n.resetRowHeights()},applyTransaction:function(e,t){return e.frameworkOverrides.wrapIncoming((function(){var n,i;return null===(n=e.rowModelHelperService)||void 0===n||null===(i=n.getClientSideRowModel())||void 0===i?void 0:i.updateRowData(t)}))},applyTransactionAsync:function(e,t,n){e.frameworkOverrides.wrapIncoming((function(){var i,r;return null===(i=e.rowModelHelperService)||void 0===i||null===(r=i.getClientSideRowModel())||void 0===r?void 0:r.batchUpdateRowData(t,n)}))},flushAsyncTransactions:function(e){e.frameworkOverrides.wrapIncoming((function(){var t,n;return null===(t=e.rowModelHelperService)||void 0===t||null===(n=t.getClientSideRowModel())||void 0===n?void 0:n.flushAsyncTransactions()}))},getBestCostNodeSelection:function(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[rc,ju]}]},ac=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"setBeans",value:function(e){this.beans=e}},{key:"getFileName",value:function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?"".concat(e,".").concat(t):e}},{key:"getData",value:function(e){var t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}},{key:"getDefaultFileName",value:function(){return"export.".concat(this.getDefaultFileExtension())}}]),n}(Y),sc=function(){function e(t){C(this,e),this.groupColumns=[];var n=t.columnModel,i=t.funcColsService,r=t.columnNameService,o=t.valueService,a=t.gos,s=t.processCellCallback,l=t.processHeaderCallback,u=t.processGroupHeaderCallback,c=t.processRowGroupCallback;this.columnModel=n,this.funcColsService=i,this.columnNameService=r,this.valueService=o,this.gos=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return k(e,[{key:"prepare",value:function(e){this.groupColumns=e.filter((function(e){return!!e.getColDef().showRowGroup}))}},{key:"extractHeaderValue",value:function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!==t&&void 0!==t?t:""}},{key:"extractRowCellValue",value:function(e,t,n,i,r){var o=this.gos.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,e,t)?this.valueService.getValue(e,r):this.createValueForGroupNode(e,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:i})}},{key:"shouldRenderGroupSummaryCell",value:function(e,t,n){if(!(e&&e.group))return!1;if(-1!==this.groupColumns.indexOf(t)){var i;if(null!=(null===(i=e.groupData)||void 0===i?void 0:i[t.getId()]))return!0;if(this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&-1===e.level){var r=t.getColDef();return null==r||!0===r.showRowGroup||r.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}var o=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&o}},{key:"getHeaderName",value:function(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}},{key:"createValueForGroupNode",value:function(e,t){var n=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));var i=this.gos.get("treeData"),r=this.gos.get("suppressGroupMaintainValueType"),o=function(t){var o,a;if(i||r)return t.key;var s=null===(o=t.groupData)||void 0===o?void 0:o[e.getId()];return s&&t.rowGroupColumn&&!1!==t.rowGroupColumn.getColDef().useValueFormatterForExport&&null!==(a=n.valueService.formatValue(t.rowGroupColumn,t,s))&&void 0!==a?a:s},a=t.footer,s=[o(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,s.push(o(t));var l=s.reverse().join(" -> ");return a?"Total ".concat(l):l}},{key:"processCell",value:function(e){var t,n=this,i=e.accumulatedRowIndex,r=e.rowNode,o=e.column,a=e.value,s=e.processCellCallback,l=e.type;return s?{value:null!==(t=s(this.gos.addGridCommonParams({accumulatedRowIndex:i,column:o,node:r,value:a,type:l,parseValue:function(e){return n.valueService.parseValue(o,r,e,n.valueService.getValue(o,r))},formatValue:function(e){var t;return null!==(t=n.valueService.formatValue(o,r,e))&&void 0!==t?t:e}})))&&void 0!==t?t:""}:!1!==o.getColDef().useValueFormatterForExport?{value:null!==a&&void 0!==a?a:"",valueFormatted:this.valueService.formatValue(o,r,a)}:{value:null!==a&&void 0!==a?a:""}}}]),e}(),lc=function(){function e(){C(this,e)}return k(e,null,[{key:"download",value:function(e,t){var n=document.defaultView||window;if(n){var i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout((function(){n.URL.revokeObjectURL(r)}),0)}else De("There is no `window` associated with the current `document`")}}]),e}(),uc=function(e){c(n,e);var t=p(n);function n(e){var i;C(this,n),(i=t.call(this,e)).isFirstLine=!0,i.result="";var r=e.suppressQuotes,o=e.columnSeparator;return i.suppressQuotes=r,i.columnSeparator=o,i}return k(n,[{key:"addCustomContent",value:function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,n){0!==n&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))}},{key:"onNewHeaderGroupingRow",value:function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}},{key:"onNewHeaderGroupingRowColumn",value:function(e,t,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}},{key:"appendEmptyCells",value:function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}},{key:"onNewHeaderRow",value:function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}},{key:"onNewHeaderRowColumn",value:function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}},{key:"onNewBodyRow",value:function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}},{key:"onNewBodyRowColumn",value:function(e,t,n){var i;0!=t&&(this.result+=this.columnSeparator);var r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(null!==(i=r.valueFormatted)&&void 0!==i?i:r.value)}},{key:"putInQuotes",value:function(e){return this.suppressQuotes?e:null===e||void 0===e?'""':("string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(De("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t}},{key:"parse",value:function(){return this.result}},{key:"beginNewLine",value:function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}}]),n}(sc),cc=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="csvCreator",e}return k(n,[{key:"wireBeans",value:function(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}},{key:"postConstruct",value:function(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}},{key:"getMergedParams",value:function(e){var t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}},{key:"export",value:function(e){if(this.isExportSuppressed())De("Export cancelled. Export is not allowed as per your configuration.");else{var t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\ufeff",n],{type:"text/plain"}),r="function"===typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;lc.download(this.getFileName(r),i)}}},{key:"exportDataAsCsv",value:function(e){this.export(e)}},{key:"getDataAsCsv",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}},{key:"getDefaultFileExtension",value:function(){return"csv"}},{key:"createSerializingSession",value:function(e){var t=this.columnModel,n=this.columnNameService,i=this.funcColsService,r=this.valueService,o=this.gos,a=e.processCellCallback,s=e.processHeaderCallback,l=e.processGroupHeaderCallback,u=e.processRowGroupCallback,c=e.suppressQuotes,d=e.columnSeparator;return new uc({columnModel:t,columnNameService:n,funcColsService:i,valueService:r,gos:o,processCellCallback:a||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||","})}},{key:"isExportSuppressed",value:function(){return this.gos.get("suppressCsvExport")}}]),n}(ac);var dc=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="gridSerializer",e}return k(n,[{key:"wireBeans",value:function(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}},{key:"serialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allColumns,i=t.columnKeys,r=t.skipRowGroups,o=this.getColumnsToExport(n,r,i),a=Ge(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t));return a(e).parse()}},{key:"processRow",value:function(e,t,n,i){var r,o=t.shouldRowBeSkipped||function(){return!1},a=this.gos.get("groupRemoveSingleChildren"),s=this.gos.get("groupRemoveLowestSingleChildren"),l=null!=t.rowPositions||!!t.onlySelected,u=this.gos.get("groupHideOpenParents")&&!l,c=this.columnModel.isPivotMode()?i.leafGroup:!i.group,d=!!i.footer,h=s&&i.leafGroup,f=1===i.allChildrenCount&&1===(null===(r=i.childrenAfterGroup)||void 0===r?void 0:r.length)&&(a||h);if(!(!c&&!d&&(t.skipRowGroups||f||u)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&"top"===i.rowPinned||t.skipPinnedBottom&&"bottom"===i.rowPinned)&&((!(-1===i.level)||c||d)&&!o(this.gos.addGridCommonParams({node:i})))){var v=e.onNewBodyRow(i);if(n.forEach((function(e,t){v.onColumn(e,t,i)})),t.getCustomContentBelowRow){var p=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:i}));p&&e.addCustomContent(p)}}}},{key:"appendContent",value:function(e){return function(t){var n=e.appendContent;return n&&t.addCustomContent(n),t}}},{key:"prependContent",value:function(e){return function(t){var n=e.prependContent;return n&&t.addCustomContent(n),t}}},{key:"prepareSession",value:function(e){return function(t){return t.prepare(e),t}}},{key:"exportColumnGroups",value:function(e,t){var n=this;return function(i){if(!e.skipColumnGroupHeaders){var r=new dt,o=n.visibleColsService.createGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0});n.recursivelyAddHeaderGroups(o,i,e.processGroupHeaderCallback)}return i}}},{key:"exportHeaders",value:function(e,t){return function(n){if(!e.skipColumnHeaders){var i=n.onNewHeaderRow();t.forEach((function(e,t){i.onColumn(e,t,void 0)}))}return n}}},{key:"processPinnedTopRows",value:function(e,t){var n=this;return function(i){var r=n.processRow.bind(n,i,e,t);return e.rowPositions?e.rowPositions.filter((function(e){return"top"===e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return n.pinnedRowModel.getPinnedTopRow(e.rowIndex)})).forEach(r):n.pinnedRowModel.forEachPinnedTopRow(r),i}}},{key:"processRows",value:function(e,t){var n=this;return function(i){var r=n.rowModel,o=r.getType(),a="clientSide"===o,s="serverSide"===o,l=!a&&e.onlySelected,u=n.processRow.bind(n,i,e,t),c=e.exportedRows,d=void 0===c?"filteredAndSorted":c;if(e.rowPositions)e.rowPositions.filter((function(e){return null==e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return r.getRow(e.rowIndex)})).forEach(u);else if(n.columnModel.isPivotMode())a?r.forEachPivotNode(u,!0):s?r.forEachNodeAfterFilterAndSort(u,!0):r.forEachNode(u);else if(e.onlySelectedAllPages||l){var h=n.selectionService.getSelectedNodes();n.replicateSortedOrder(h),h.forEach(u)}else"all"===d?r.forEachNode(u):a||s?r.forEachNodeAfterFilterAndSort(u,!0):r.forEachNode(u);return i}}},{key:"replicateSortedOrder",value:function(e){var t=this,n=this.sortController.getSortOptions();e.sort((function e(i,r){return null!=i.rowIndex&&null!=r.rowIndex?i.rowIndex-r.rowIndex:i.level===r.level?(null===(o=i.parent)||void 0===o?void 0:o.id)===(null===(a=r.parent)||void 0===a?void 0:a.id)?t.rowNodeSorter.compareRowNodes(n,{rowNode:i,currentPos:null!==(s=i.rowIndex)&&void 0!==s?s:-1},{rowNode:r,currentPos:null!==(l=r.rowIndex)&&void 0!==l?l:-1}):e(i.parent,r.parent):i.level>r.level?e(i.parent,r):e(i,r.parent);var o,a,s,l}))}},{key:"processPinnedBottomRows",value:function(e,t){var n=this;return function(i){var r=n.processRow.bind(n,i,e,t);return e.rowPositions?e.rowPositions.filter((function(e){return"bottom"===e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return n.pinnedRowModel.getPinnedBottomRow(e.rowIndex)})).forEach(r):n.pinnedRowModel.forEachPinnedBottomRow(r),i}}},{key:"getColumnsToExport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getColsForKeys(n);var r=this.gos.get("treeData"),o=[];return o=e&&!i?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!r&&(o=o.filter((function(e){return e.getColId()!==He}))),o}},{key:"recursivelyAddHeaderGroups",value:function(e,t,n){var i=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return i.push(e)}))})),e.length>0&&ut(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}},{key:"doAddHeaderHeader",value:function(e,t,n){var i=this,r=e.onNewHeaderGroupingRow(),o=0;t.forEach((function(e){var t,a=e;t=n?n(i.gos.addGridCommonParams({columnGroup:a})):i.columnNameService.getDisplayNameForColumnGroup(a,"header");var s=a.getLeafColumns().reduce((function(e,t,n,i){var r=I(e);return"open"===t.getColumnGroupShow()?r&&null==r[1]||(r=[n],e.push(r)):r&&null==r[1]&&(r[1]=n-1),n===i.length-1&&r&&null==r[1]&&(r[1]=n),e}),[]);r.onColumn(a,t||"",o++,a.getLeafColumns().length-1,s)}))}}]),n}(Y),hc="32.0.2",fc={version:hc,moduleName:"@ag-grid-community/csv-export".concat("-core"),beans:[cc,dc]},vc={version:hc,moduleName:"@ag-grid-community/csv-export",dependantModules:[fc,{version:hc,moduleName:"@ag-grid-community/csv-export".concat("-api"),apiFunctions:{getDataAsCsv:function(e,t){var n;return null===(n=e.csvCreator)||void 0===n?void 0:n.getDataAsCsv(t)},exportDataAsCsv:function(e,t){var n;null===(n=e.csvCreator)||void 0===n||n.exportDataAsCsv(t)}},dependantModules:[fc]}]};var pc=function(){var e=R(M.mark((function e(t){var n,i,r,o,a;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,i=[],r=new WritableStream({write:function(e){i.push(e),n+=e.length}}),o=new ReadableStream({start:function(e){var n=new FileReader;n.onload=function(t){var n;null!==(n=t.target)&&void 0!==n&&n.result&&e.enqueue(t.target.result),e.close()},n.readAsArrayBuffer(t)}}),a=new window.CompressionStream("deflate-raw"),e.next=7,o.pipeThrough(a).pipeTo(r);case 7:return e.abrupt("return",{size:n,content:new Blob(i)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gc=function(){var e=R(M.mark((function e(t){var n,i,r,o,a;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([t]),e.next=3,pc(n);case 3:return i=e.sent,r=i.size,o=i.content,e.t0=Uint8Array,e.next=9,o.arrayBuffer();case 9:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",{size:r,content:a});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function mc(e,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}var yc=function(e){if(!e.length)return 0;for(var t=-1,n=0,i=0;i<e.length;i++)n=e[i],t=t>>>8^wc[255&(t^n)];return-1^t},Cc=function(e){return e.length?yc("string"===typeof e?(new TextEncoder).encode(e):e):0},wc=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Sc=function(e,t,n,i,r,o){var a=e.content,s=e.path,l=e.created,u=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|e.getSeconds()/2}(l),c=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|e.getDate()}(l),d=Cc(r),h=void 0!==o?o:i,f=it(s),v=f!==s,p="";if(v){var g=mc(1,1)+mc(Cc(f),4)+f;p="up"+mc(g.length,2)+g}var m="\x14\0"+(v?"\0\b":"\0\0")+mc(t?8:0,2)+mc(u,2)+mc(c,2)+mc(h?d:0,4)+mc(null!==o&&void 0!==o?o:i,4)+mc(i,4)+mc(f.length,2)+mc(p.length,2),y="PK\x03\x04"+m+f+p,C="PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\x10\0\0\0")+mc(n,4)+f+p;return{localFileHeader:Uint8Array.from(y,(function(e){return e.charCodeAt(0)})),centralDirectoryHeader:Uint8Array.from(C,(function(e){return e.charCodeAt(0)}))}},kc=function(e){var t;if("string"===typeof e){var n=atob(e.split(";base64,")[1]);t=Uint8Array.from(n,(function(e){return e.charCodeAt(0)}))}else t=e;return{size:t.length,content:t}},bc=function(){var e=R(M.mark((function e(t,n){var i,r,o,a,s,l,u,c,d;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.content,r=i?kc(i):{size:0,content:Uint8Array.from([])},o=r.size,a=r.content,s=void 0,l=void 0,u=!1,!("file"===t.type&&a&&o>0)){e.next=13;break}return e.next=9,gc(a);case 9:c=e.sent,s=c.content,l=c.size,u=!0;case 13:return d=Sc(t,u,n,o,a,l),e.abrupt("return",y(y({},d),{},{content:s||a,isCompressed:u}));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rc=function(e,t){var n=e.content,i=(n?kc(n):{content:Uint8Array.from([])}).content;return y(y({},Sc(e,!1,t,i.length,i,void 0)),{},{content:i,isCompressed:!1})},Ec=function(){function e(){C(this,e)}return k(e,null,[{key:"addFolders",value:function(e){e.forEach(this.addFolder.bind(this))}},{key:"addFolder",value:function(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}},{key:"addFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.files.push({path:e,created:new Date,content:n?t:(new TextEncoder).encode(t),isBase64:n,type:"file"})}},{key:"getZipFile",value:function(){var e=R(M.mark((function e(){var t,n,i=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"application/zip",e.next=3,this.buildCompressedFileStream();case 3:return n=e.sent,this.clearStream(),e.abrupt("return",new Blob([n],{type:t}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUncompressedZipFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip",t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}},{key:"clearStream",value:function(){this.folders=[],this.files=[]}},{key:"packageFiles",value:function(e){var t,n=0,i=0,r=x(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=o.localFileHeader,s=o.centralDirectoryHeader,l=o.content;n+=a.length+l.length,i+=s.length}}catch(Am){r.e(Am)}finally{r.f()}var u,c=new Uint8Array(n),d=new Uint8Array(i),h=0,f=0,v=x(e);try{for(v.s();!(u=v.n()).done;){var p=u.value,g=p.localFileHeader,m=p.centralDirectoryHeader,y=p.content;c.set(g,h),h+=g.length,c.set(y,h),h+=y.length,d.set(m,f),f+=m.length}}catch(Am){v.e(Am)}finally{v.f()}var C=function(e,t,n){var i="PK\x05\x06\0\0\0\0"+mc(e,2)+mc(e,2)+mc(t,4)+mc(n,4)+"\0\0";return Uint8Array.from(i,(function(e){return e.charCodeAt(0)}))}(e.length,i,n),w=new Uint8Array(c.length+d.length+C.length);return w.set(c),w.set(d,c.length),w.set(C,c.length+d.length),w}},{key:"buildCompressedFileStream",value:function(){var e=R(M.mark((function e(){var t,n,i,r,a,s,l,u,c;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[].concat((0,o.Z)(this.folders),(0,o.Z)(this.files)),n=[],i=0,r=x(t),e.prev=4,r.s();case 6:if((a=r.n()).done){e.next=16;break}return s=a.value,e.next=10,bc(s,i);case 10:l=e.sent,u=l.localFileHeader,c=l.content,n.push(l),i+=u.length+c.length;case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:return e.abrupt("return",this.packageFiles(n));case 25:case"end":return e.stop()}}),e,this,[[4,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"buildFileStream",value:function(){var e,t=[],n=0,i=x([].concat((0,o.Z)(this.folders),(0,o.Z)(this.files)));try{for(i.s();!(e=i.n()).done;){var r=e.value,a=Rc(r,n),s=a.localFileHeader,l=a.content;t.push(a),n+=s.length+l.length}}catch(Am){i.e(Am)}finally{i.f()}return this.packageFiles(t)}}]),e}();Ec.folders=[],Ec.files=[];var Fc=function(e){c(n,e);var t=p(n);function n(e,i,r){var o;return C(this,n),(o=t.call(this,e)).parentCache=i,o.params=r,o.startRow=e*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return k(n,[{key:"wireBeans",value:function(e){this.beans=e}},{key:"postConstruct",value:function(){this.createRowNodes()}},{key:"getBlockStateJson",value:function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}},{key:"setDataAndId",value:function(e,t,n){$(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}},{key:"loadFromDatasource",value:function(){var e=this,t=this.createLoadParams();ee(this.params.datasource.getRows)?De("datasource is missing getRows method"):window.setTimeout((function(){e.params.datasource.getRows(t)}),0)}},{key:"processServerFail",value:function(){}},{key:"createLoadParams",value:function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}},{key:"forEachNode",value:function(e,t,n){var i=this;this.rowNodes.forEach((function(r,o){i.startRow+o<n&&e(r,t.next())}))}},{key:"getLastAccessed",value:function(){return this.lastAccessed}},{key:"getRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||(this.lastAccessed=this.params.lastAccessedSequence.next());var n=e-this.startRow;return this.rowNodes[n]}},{key:"getStartRow",value:function(){return this.startRow}},{key:"getEndRow",value:function(){return this.endRow}},{key:"createRowNodes",value:function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,n=new Ji(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(t),n.setRowTop(this.params.rowHeight*t),this.rowNodes.push(n)}}},{key:"processServerResult",value:function(e){var t=this;this.rowNodes.forEach((function(n,i){var r=e.rowData?e.rowData[i]:void 0;!n.id&&n.alreadyRendered&&r&&(t.rowNodes[i]=new Ji(t.beans),t.rowNodes[i].setRowIndex(n.rowIndex),t.rowNodes[i].setRowTop(n.rowTop),t.rowNodes[i].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),t.setDataAndId(t.rowNodes[i],r,t.startRow+i)}));var n=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}},{key:"destroy",value:function(){this.rowNodes.forEach((function(e){e.clearRowTopAndRowIndex()})),l(a(n.prototype),"destroy",this).call(this)}}]),n}(ks),Pc=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).lastRowIndexKnown=!1,i.blocks={},i.blockCount=0,i.rowCount=e.initialRowCount,i.params=e,i}return k(n,[{key:"wireBeans",value:function(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}},{key:"getRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.floor(e/this.params.blockSize),i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}},{key:"createBlock",value:function(e){var t=this.createBean(new Fc(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}},{key:"refreshCache",value:function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((function(e){return e.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())}},{key:"destroy",value:function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.destroyBlock(t)})),l(a(n.prototype),"destroy",this).call(this)}},{key:"getRowCount",value:function(){return this.rowCount}},{key:"isLastRowIndexKnown",value:function(){return this.lastRowIndexKnown}},{key:"pageLoaded",value:function(e,t){this.isAlive()&&(this.gos.get("debug")&&Pe("InfiniteCache - onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(t)),this.checkRowCount(e,t),this.onCacheUpdated())}},{key:"purgeBlocksIfNeeded",value:function(e){var t=this,n=this.getBlocksInOrder().filter((function(t){return t!=e}));n.sort((function(e,t){return t.getLastAccessed()-e.getLastAccessed()}));var i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null;n.forEach((function(e,n){if("needsLoading"===e.getState()&&n>=1||!!i&&n>=r){if(t.isBlockCurrentlyDisplayed(e))return;if(t.isBlockFocused(e))return;t.removeBlockFromCache(e)}}))}},{key:"isBlockFocused",value:function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var n=e.getStartRow(),i=e.getEndRow();return t.rowIndex>=n&&t.rowIndex<i}},{key:"isBlockCurrentlyDisplayed",value:function(e){var t=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)}},{key:"removeBlockFromCache",value:function(e){e&&this.destroyBlock(e)}},{key:"checkRowCount",value:function(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}},{key:"setRowCount",value:function(e,t){this.rowCount=e,$(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}},{key:"forEachNodeDeep",value:function(e){var t=this,n=new On;this.getBlocksInOrder().forEach((function(i){return i.forEachNode(e,n,t.rowCount)}))}},{key:"getBlocksInOrder",value:function(){return fe(this.blocks).sort((function(e,t){return e.getId()-t.getId()}))}},{key:"destroyBlock",value:function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}},{key:"onCacheUpdated",value:function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();this.eventService.dispatchEvent({type:"storeUpdated"})}}},{key:"destroyAllBlocksPastVirtualRowCount",value:function(){var e=this,t=[];this.getBlocksInOrder().forEach((function(n){n.getId()*e.params.blockSize>=e.rowCount&&t.push(n)})),t.length>0&&t.forEach((function(t){return e.destroyBlock(t)}))}},{key:"purgeCache",value:function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.removeBlockFromCache(t)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}},{key:"getRowNodesInRange",value:function(e,t){var n=this,i=[],r=-1,o=!1,a=new On,s=!1;return this.getBlocksInOrder().forEach((function(l){s||(o&&r+1!==l.getId()?s=!0:(r=l.getId(),l.forEachNode((function(n){var r=n===e||n===t;(o||r)&&i.push(n),r&&(o=!o)}),a,n.rowCount)))})),s||o?[]:i}}]),n}(Y),Dc=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).beanName="rowModel",e}return k(n,[{key:"wireBeans",value:function(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}},{key:"getRowBounds",value:function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}},{key:"ensureRowHeightsValid",value:function(){return!1}},{key:"postConstruct",value:function(){var e=this;this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return e.destroyCache()})),this.verifyProps())}},{key:"verifyProps",value:function(){this.gos.exists("initialGroupOrderComparator")&&De("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}},{key:"start",value:function(){this.setDatasource(this.gos.get("datasource"))}},{key:"destroy",value:function(){this.destroyDatasource(),l(a(n.prototype),"destroy",this).call(this)}},{key:"destroyDatasource",value:function(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}},{key:"addEventListeners",value:function(){var e=this;this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",(function(){return e.setDatasource(e.gos.get("datasource"))})),this.addManagedPropertyListener("cacheBlockSize",(function(){return e.resetCache()})),this.addManagedPropertyListener("rowHeight",(function(){e.rowHeight=e.gos.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()}))}},{key:"onFilterChanged",value:function(){this.reset()}},{key:"onSortChanged",value:function(){this.reset()}},{key:"onColumnEverything",value:function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()}},{key:"isSortModelDifferent",value:function(){return!ae(this.cacheParams.sortModel,this.sortController.getSortModel())}},{key:"getType",value:function(){return"infinite"}},{key:"setDatasource",value:function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}},{key:"isEmpty",value:function(){return!this.infiniteCache}},{key:"isRowsToRender",value:function(){return!!this.infiniteCache}},{key:"getNodesInRangeForSelection",value:function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}},{key:"reset",value:function(){this.datasource&&(null!=this.gos.getRowIdCallback()||this.selectionService.reset("rowDataChanged"),this.resetCache())}},{key:"createModelUpdatedEvent",value:function(){return{type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}},{key:"resetCache",value:function(){var e,t;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:null!==(e=null===(t=this.filterManager)||void 0===t?void 0:t.getFilterModel())&&void 0!==e?e:{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new On},this.infiniteCache=this.createBean(new Pc(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"});var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)}},{key:"updateRowHeights",value:function(){var e=this;this.forEachNode((function(t){t.setRowHeight(e.rowHeight),t.setRowTop(e.rowHeight*t.rowIndex)}));var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},{key:"destroyCache",value:function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}},{key:"onCacheUpdated",value:function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},{key:"getRow",value:function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}},{key:"getRowNode",value:function(e){var t;return this.forEachNode((function(n){n.id===e&&(t=n)})),t}},{key:"forEachNode",value:function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}},{key:"getTopLevelRowCount",value:function(){return this.getRowCount()}},{key:"getTopLevelRowDisplayedIndex",value:function(e){return e}},{key:"getRowIndexAtPixel",value:function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}},{key:"getRowCount",value:function(){return this.infiniteCache?this.infiniteCache.getRowCount():0}},{key:"isRowPresent",value:function(e){return!!this.getRowNode(e.id)}},{key:"refreshCache",value:function(){this.infiniteCache&&this.infiniteCache.refreshCache()}},{key:"purgeCache",value:function(){this.infiniteCache&&this.infiniteCache.purgeCache()}},{key:"isLastRowIndexKnown",value:function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}},{key:"setRowCount",value:function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}]),n}(Y);var xc="32.0.2",Mc={version:xc,moduleName:"@ag-grid-community/infinite-row-model".concat("-core"),rowModel:"infinite",beans:[Dc],dependantModules:[Rs]},Ac={version:xc,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[Mc,{version:xc,moduleName:"@ag-grid-community/infinite-row-model".concat("-api"),beans:[Uu],apiFunctions:{refreshInfiniteCache:function(e){var t,n;null===(t=e.rowModelHelperService)||void 0===t||null===(n=t.getInfiniteRowModel())||void 0===n||n.refreshCache()},purgeInfiniteCache:function(e){var t,n;null===(t=e.rowModelHelperService)||void 0===t||null===(n=t.getInfiniteRowModel())||void 0===n||n.purgeCache()},getInfiniteRowCount:function(e){var t,n;return null===(t=e.rowModelHelperService)||void 0===t||null===(n=t.getInfiniteRowModel())||void 0===n?void 0:n.getRowCount()},isLastRowIndexKnown:function(e){var t,n;return null===(t=e.rowModelHelperService)||void 0===t||null===(n=t.getInfiniteRowModel())||void 0===n?void 0:n.isLastRowIndexKnown()}},dependantModules:[Mc,Zu]}]};$n.__registerModules([hu,oc,Ac,vc],!1,void 0);var Tc=n(4164),Lc=t.createContext({}),Ic=function(e,t,n,i){if(!(!e||e.componentFromFramework||t.isDestroyed())){var r=e.newAgStackInstance();if(null!=r){var o,a,s=!1;return r.then((function(e){s?t.destroyBean(e):(a=(o=e).getGui(),n.appendChild(a),Oc(i,o))})),function(){s=!0,o&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(o),i&&Oc(i,void 0))}}}},Oc=function(e,t){e&&(e instanceof Function?e(t):e.current=t)},Nc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter((function(e){return null!=e&&""!==e}));return i.join(" ")},Gc=function(){function e(){var t=this;C(this,e),this.classesMap={};for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach((function(e){t.classesMap[e]=!0}))}return k(e,[{key:"setClass",value:function(t,n){if(!!this.classesMap[t]==n)return this;var i=new e;return i.classesMap=y({},this.classesMap),i.classesMap[t]=n,i}},{key:"toString",value:function(){var e=this,t=Object.keys(this.classesMap).filter((function(t){return e.classesMap[t]})).join(" ");return t}}]),e}(),Bc=function(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},Hc=null!=Tc.createRoot&&null!=Tc.flushSync;var Vc=!1;var Wc=function(e,t){Hc&&e&&!Vc?Tc.flushSync(t):t()};function zc(e,t,n){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(n||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;for(var i=[],r=[],o=new Map,a=new Map,s=0;s<t.length;s++){var l=t[s];a.set(l.getInstanceId(),l)}for(var u=0;u<e.length;u++){var c=e[u];o.set(c.getInstanceId(),c),a.has(c.getInstanceId())&&i.push(c)}for(var d=0;d<t.length;d++){var h=t[d],f=h.getInstanceId();o.has(f)||r.push(h)}return i.length===e.length&&0===r.length?e:0===i.length&&r.length===t.length?t:0===i.length?r:0===r.length?i:[].concat(i,r)}var _c=(0,t.forwardRef)((function(e,n){var i,o=(0,t.useContext)(Lc),a=o.ctrlsFactory,s=o.context,l=(0,t.useRef)(null),u=(0,t.useRef)(null),c=(0,t.useRef)(null),d=(0,t.useRef)(null),h=(0,t.useRef)(null),f=(0,t.useRef)(),v=(0,t.useState)(),p=(0,r.Z)(v,2),g=p[0],m=p[1],C=(0,t.useState)(),w=(0,r.Z)(C,2),S=w[0],k=w[1],b=(0,t.useState)(),R=(0,r.Z)(b,2),E=R[0],F=R[1],P=(0,t.useState)((function(){return new Gc})),D=(0,r.Z)(P,2),x=D[0],M=D[1],A=(0,t.useState)((function(){return new Gc("ag-hidden")})),T=(0,r.Z)(A,2),L=T[0],I=T[1],O=(0,t.useState)((function(){return new Gc("ag-hidden")})),N=(0,r.Z)(O,2),G=N[0],B=N[1],H=(0,t.useState)((function(){return new Gc("ag-invisible")})),V=(0,r.Z)(H,2),W=V[0],z=V[1];(0,t.useImperativeHandle)(n,(function(){return{refresh:function(){return!1}}})),(0,t.useLayoutEffect)((function(){return Ic(g,s,u.current)}),[g]);var _=(0,t.useCallback)((function(t){if(l.current=t,!l.current)return s.destroyBean(f.current),void(f.current=null);var n={setInnerRenderer:function(e,t){m(e),F(t)},setChildCount:function(e){return k(e)},addOrRemoveCssClass:function(e,t){return M((function(n){return n.setClass(e,t)}))},setContractedDisplayed:function(e){return B((function(t){return t.setClass("ag-hidden",!e)}))},setExpandedDisplayed:function(e){return I((function(t){return t.setClass("ag-hidden",!e)}))},setCheckboxVisible:function(e){return z((function(t){return t.setClass("ag-invisible",!e)}))}},i=a.getInstance("groupCellRendererCtrl");i&&(f.current=s.createBean(i),f.current.init(n,l.current,c.current,d.current,h.current,_c,e))}),[]),U=(0,t.useMemo)((function(){return"ag-cell-wrapper ".concat(x.toString())}),[x]),j=(0,t.useMemo)((function(){return"ag-group-expanded ".concat(L.toString())}),[L]),Z=(0,t.useMemo)((function(){return"ag-group-contracted ".concat(G.toString())}),[G]),K=(0,t.useMemo)((function(){return"ag-group-checkbox ".concat(W.toString())}),[W]),q=g&&g.componentFromFramework,Q=q?g.componentClass:void 0,Y=null==g&&null!=E,X=rt(E,!0);return t.createElement("span",y({className:U,ref:_},e.colDef?{}:{role:null===(i=f.current)||void 0===i?void 0:i.getCellAriaRole()}),t.createElement("span",{className:j,ref:d}),t.createElement("span",{className:Z,ref:h}),t.createElement("span",{className:K,ref:c}),t.createElement("span",{className:"ag-group-value",ref:u},Y&&t.createElement(t.Fragment,null,X),q&&t.createElement(Q,y({},g.params))),t.createElement("span",{className:"ag-group-child-count"},S))})),Uc=_c,jc=(0,t.createContext)({setMethods:function(){}}),Zc=(0,t.memo)((function(e){var n=e.initialProps,i=e.addUpdateCallback,o=e.CustomComponentClass,a=e.setMethods,s=(0,t.useState)(n),l=(0,r.Z)(s,2),u=l[0],c=l[1];return(0,t.useEffect)((function(){i((function(e){return c(e)}))}),[]),t.createElement(jc.Provider,{value:{setMethods:a}},t.createElement(o,y({},u)))})),Kc=0;function qc(){return"agPortalKey_".concat(++Kc)}var Qc=function(){function e(t,n,i,r){var o=this;C(this,e),this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=n,this.componentType=i,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=qc(),this.portalKey=qc(),this.instanceCreated=this.isStatelessComponent()?yi.resolve(!1):new yi((function(e){o.resolveInstanceCreated=e}))}return k(e,[{key:"getGui",value:function(){return this.eParentElement}},{key:"getRootElement",value:function(){return this.eParentElement.firstChild}},{key:"destroy",value:function(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();var e=this.portal;e&&this.portalManager.destroyPortal(e)}},{key:"createParentElement",value:function(e){var t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}},{key:"addParentContainerStyleAndClasses",value:function(){var e=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(De('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(De('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach((function(t){return e.eParentElement.classList.add(t)}))))}},{key:"statelessComponentRendered",value:function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}},{key:"getFrameworkComponentInstance",value:function(){return this.componentInstance}},{key:"isStatelessComponent",value:function(){return this.statelessComponent}},{key:"getReactComponentName",value:function(){return this.reactComponent.name}},{key:"getMemoType",value:function(){return this.hasSymbol()?Symbol.for("react.memo"):60115}},{key:"hasSymbol",value:function(){return"function"===typeof Symbol&&Symbol.for}},{key:"isStateless",value:function(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()}},{key:"hasMethod",value:function(e){var t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}},{key:"callMethod",value:function(e,t){var n=this,i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(i){var r=i[e];return r?r.apply(i,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}setTimeout((function(){return n.callMethod(e,t)}))}},{key:"addMethod",value:function(e,t){this[e]=t}},{key:"init",value:function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new yi((function(e){return t.createReactComponent(e)}))}},{key:"createOrUpdatePortal",value:function(e){var t=this;this.isStatelessComponent()||(this.ref=function(e){var n;t.componentInstance=e,t.addParentContainerStyleAndClasses(),null===(n=t.resolveInstanceCreated)||void 0===n||n.call(t,!0),t.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,y(y({},e),{},{key:this.key})),this.portal=(0,Tc.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}},{key:"createElement",value:function(e,n){return(0,t.createElement)(e,n)}},{key:"createReactComponent",value:function(e){this.portalManager.mountReactPortal(this.portal,this,e)}},{key:"rendered",value:function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}},{key:"refreshComponent",value:function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}},{key:"fallbackMethod",value:function(e,t){var n=this["".concat(e,"Component")];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}},{key:"fallbackMethodAvailable",value:function(e){return!this.suppressFallbackMethods&&!!this["".concat(e,"Component")]}}]),e}();function Yc(e,t,n){e.forEach((function(e){var i=t[e];i&&(n[e]=i)}))}var Xc=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).awaitUpdateCallback=new yi((function(t){e.resolveUpdateCallback=t})),e.wrapperComponent=Zc,e}return k(n,[{key:"init",value:function(e){return this.sourceParams=e,l(a(n.prototype),"init",this).call(this,this.getProps())}},{key:"addMethod",value:function(){}},{key:"getInstance",value:function(){var e=this;return this.instanceCreated.then((function(){return e.componentInstance}))}},{key:"getFrameworkComponentInstance",value:function(){return this}},{key:"createElement",value:function(e,t){var i=this;return l(a(n.prototype),"createElement",this).call(this,this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:function(e){return i.setMethods(e)},addUpdateCallback:function(e){i.updateCallback=function(){return e(i.getProps()),new yi((function(e){setTimeout((function(){e()}))}))},i.resolveUpdateCallback()}})}},{key:"setMethods",value:function(e){this.providedMethods=e,Yc(this.getOptionalMethods(),this.providedMethods,this)}},{key:"getOptionalMethods",value:function(){return[]}},{key:"getProps",value:function(){return y(y({},this.sourceParams),{},{key:this.key,ref:this.ref})}},{key:"refreshProps",value:function(){var e=this;return this.updateCallback?this.updateCallback():new yi((function(t){return e.awaitUpdateCallback.then((function(){e.updateCallback().then((function(){return t()}))}))}))}}]),n}(Qc),Jc=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"refresh",value:function(e){return this.sourceParams=e,this.refreshProps(),!0}}]),n}(Xc),$c=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).date=null,e.onDateChange=function(t){return e.updateDate(t)},e}return k(n,[{key:"getDate",value:function(){return this.date}},{key:"setDate",value:function(e){this.date=e,this.refreshProps()}},{key:"refresh",value:function(e){this.sourceParams=e,this.refreshProps()}},{key:"getOptionalMethods",value:function(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}},{key:"updateDate",value:function(e){this.setDate(e),this.sourceParams.onDateChanged()}},{key:"getProps",value:function(){var e=l(a(n.prototype),"getProps",this).call(this);return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}}]),n}(Xc),ed=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).model=null,e.onModelChange=function(t){return e.updateModel(t)},e.onUiChange=function(){return e.sourceParams.filterChangedCallback()},e.expectingNewMethods=!0,e}return k(n,[{key:"isFilterActive",value:function(){return null!=this.model}},{key:"doesFilterPass",value:function(e){return this.providedMethods.doesFilterPass(e)}},{key:"getModel",value:function(){return this.model}},{key:"setModel",value:function(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}},{key:"refresh",value:function(e){return this.sourceParams=e,this.refreshProps(),!0}},{key:"getOptionalMethods",value:function(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}},{key:"setMethods",value:function(e){var t,i=this;!1===this.expectingNewMethods&&(null===(t=this.providedMethods)||void 0===t?void 0:t.doesFilterPass)!==(null===e||void 0===e?void 0:e.doesFilterPass)&&setTimeout((function(){i.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,l(a(n.prototype),"setMethods",this).call(this,e)}},{key:"updateModel",value:function(e){var t=this;this.setModel(e).then((function(){return t.sourceParams.filterChangedCallback()}))}},{key:"getProps",value:function(){var e=l(a(n.prototype),"getProps",this).call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}}]),n}(Xc);function td(e,t){e.parentFilterInstance((function(n){(n.setModel(t)||yi.resolve()).then((function(){e.filterParams.filterChangedCallback()}))}))}var nd=function(){function e(t,n){var i=this;C(this,e),this.floatingFilterParams=t,this.refreshProps=n,this.model=null,this.onModelChange=function(e){return i.updateModel(e)}}return k(e,[{key:"getProps",value:function(){return y(y({},this.floatingFilterParams),{},{model:this.model,onModelChange:this.onModelChange})}},{key:"onParentModelChanged",value:function(e){this.model=e,this.refreshProps()}},{key:"refresh",value:function(e){this.floatingFilterParams=e,this.refreshProps()}},{key:"setMethods",value:function(e){Yc(this.getOptionalMethods(),e,this)}},{key:"getOptionalMethods",value:function(){return["afterGuiAttached"]}},{key:"updateModel",value:function(e){this.model=e,this.refreshProps(),td(this.floatingFilterParams,e)}}]),e}(),id=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).model=null,e.onModelChange=function(t){return e.updateModel(t)},e}return k(n,[{key:"onParentModelChanged",value:function(e){this.model=e,this.refreshProps()}},{key:"refresh",value:function(e){this.sourceParams=e,this.refreshProps()}},{key:"getOptionalMethods",value:function(){return["afterGuiAttached"]}},{key:"updateModel",value:function(e){this.model=e,this.refreshProps(),td(this.sourceParams,e)}},{key:"getProps",value:function(){var e=l(a(n.prototype),"getProps",this).call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e}}]),n}(Xc),rd=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"refresh",value:function(e){this.sourceParams=e,this.refreshProps()}}]),n}(Xc),od=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).active=!1,e.expanded=!1,e.onActiveChange=function(t){return e.updateActive(t)},e}return k(n,[{key:"setActive",value:function(e){this.awaitSetActive(e)}},{key:"setExpanded",value:function(e){this.expanded=e,this.refreshProps()}},{key:"getOptionalMethods",value:function(){return["select","configureDefaults"]}},{key:"awaitSetActive",value:function(e){return this.active=e,this.refreshProps()}},{key:"updateActive",value:function(e){var t=this,n=this.awaitSetActive(e);e&&n.then((function(){return t.sourceParams.onItemActivated()}))}},{key:"getProps",value:function(){var e=l(a(n.prototype),"getProps",this).call(this);return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}}]),n}(Xc),ad=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"refresh",value:function(e){this.sourceParams=e,this.refreshProps()}}]),n}(Xc),sd=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"refresh",value:function(e){return this.sourceParams=e,this.refreshProps(),!0}}]),n}(Xc),ld=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).onStateChange=function(t){return e.updateState(t)},e}return k(n,[{key:"refresh",value:function(e){return this.sourceParams=e,this.refreshProps(),!0}},{key:"getState",value:function(){return this.state}},{key:"updateState",value:function(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}},{key:"getProps",value:function(){var e=l(a(n.prototype),"getProps",this).call(this);return e.state=this.state,e.onStateChange=this.onStateChange,e}}]),n}(Xc);function ud(){De("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var cd=function(){function e(t,n,i){C(this,e),this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=n||"div",this.refresher=t,this.maxComponentCreationTimeMs=i||1e3}return k(e,[{key:"getPortals",value:function(){return this.portals}},{key:"destroy",value:function(){this.destroyed=!0}},{key:"destroyPortal",value:function(e){this.portals=this.portals.filter((function(t){return t!==e})),this.batchUpdate()}},{key:"getComponentWrappingElement",value:function(){return this.wrappingElement}},{key:"mountReactPortal",value:function(e,t,n){this.portals=[].concat((0,o.Z)(this.portals),[e]),this.waitForInstance(t,n),this.batchUpdate()}},{key:"updateReactPortal",value:function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}},{key:"batchUpdate",value:function(){var e=this;this.hasPendingPortalUpdate||(setTimeout((function(){e.destroyed||(e.refresher(),e.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}},{key:"waitForInstance",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((function(){n.waitForInstance(e,t,i)}))}}}]),e}(),dd=(0,t.memo)((function(e){var n=e.ctrl,i=n.isAlive(),o=(0,t.useContext)(Lc).context,a=i?n.getColId():void 0,s=(0,t.useState)(),l=(0,r.Z)(s,2),u=l[0],c=l[1],d=(0,t.useRef)(null),h=(0,t.useRef)(null),f=(0,t.useRef)(null),v=(0,t.useRef)(),p=(0,t.useRef)();i&&!p.current&&(p.current=new At((function(){return d.current})));var g=(0,t.useCallback)((function(e){var t;if(d.current=e,d.current&&i){var r={setWidth:function(e){d.current&&(d.current.style.width=e)},addOrRemoveCssClass:function(e,t){return p.current.addOrRemoveCssClass(e,t)},setAriaSort:function(e){d.current&&(e?Zt(d.current,e):Kt(d.current))},setUserCompDetails:function(e){return c(e)},getUserCompInstance:function(){return v.current||void 0}};n.setComp(r,d.current,h.current,f.current);var o=n.getSelectAllGui();null===(t=h.current)||void 0===t||t.insertAdjacentElement("afterend",o)}}),[]);(0,t.useLayoutEffect)((function(){return Ic(u,o,f.current,v)}),[u]),(0,t.useEffect)((function(){n.setDragSource(d.current)}),[u]);var m=(0,t.useMemo)((function(){return!!((null===u||void 0===u?void 0:u.componentFromFramework)&&Bc(u.componentClass))}),[u]),C=u&&u.componentFromFramework,w=u&&u.componentClass;return t.createElement("div",{ref:g,className:"ag-header-cell","col-id":a,role:"columnheader"},t.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),t.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},C&&m&&t.createElement(w,y({},u.params)),C&&!m&&t.createElement(w,y(y({},u.params),{},{ref:v}))))})),hd=(0,t.memo)((function(e){var n=(0,t.useContext)(Lc),i=n.context,o=n.gos,a=(0,t.useState)((function(){return new Gc("ag-header-cell","ag-floating-filter")})),s=(0,r.Z)(a,2),l=s[0],u=s[1],c=(0,t.useState)((function(){return new Gc})),d=(0,r.Z)(c,2),h=d[0],f=d[1],v=(0,t.useState)((function(){return new Gc("ag-floating-filter-button","ag-hidden")})),p=(0,r.Z)(v,2),g=p[0],m=p[1],C=(0,t.useState)("false"),w=(0,r.Z)(C,2),S=w[0],k=w[1],b=(0,t.useState)(),R=(0,r.Z)(b,2),E=R[0],F=R[1],P=(0,t.useState)(1),D=(0,r.Z)(P,2)[1],x=(0,t.useRef)(null),M=(0,t.useRef)(null),A=(0,t.useRef)(null),T=(0,t.useRef)(null),L=(0,t.useRef)(),I=(0,t.useRef)(),O=function(e){null!=e&&L.current&&L.current(e)},N=e.ctrl,G=(0,t.useCallback)((function(e){if(x.current=e,x.current){I.current=new yi((function(e){L.current=e}));var t={addOrRemoveCssClass:function(e,t){return u((function(n){return n.setClass(e,t)}))},addOrRemoveBodyCssClass:function(e,t){return f((function(n){return n.setClass(e,t)}))},setButtonWrapperDisplayed:function(e){m((function(t){return t.setClass("ag-hidden",!e)})),k(e?"false":"true")},setWidth:function(e){x.current&&(x.current.style.width=e)},setCompDetails:function(e){return F(e)},getFloatingFilterComp:function(){return I.current?I.current:null},setMenuIcon:function(e){var t;return null===(t=T.current)||void 0===t?void 0:t.appendChild(e)}};N.setComp(t,x.current,T.current,M.current)}}),[]);(0,t.useLayoutEffect)((function(){return Ic(E,i,M.current,O)}),[E]);var B=(0,t.useMemo)((function(){return l.toString()}),[l]),H=(0,t.useMemo)((function(){return h.toString()}),[h]),V=(0,t.useMemo)((function(){return g.toString()}),[g]),W=(0,t.useMemo)((function(){return!!(E&&E.componentFromFramework&&Bc(E.componentClass))}),[E]),z=(0,t.useMemo)((function(){return o.get("reactiveCustomComponents")}),[]),_=(0,t.useMemo)((function(){if(E){if(z){var e=new nd(E.params,(function(){return D((function(e){return e+1}))}));return O(e),e}E.componentFromFramework&&ud()}}),[E]),U=null===_||void 0===_?void 0:_.getProps(),j=E&&E.componentFromFramework,Z=E&&E.componentClass;return t.createElement("div",{ref:G,className:B,role:"gridcell"},t.createElement("div",{ref:M,className:H,role:"presentation"},j&&!z&&t.createElement(Z,y(y({},E.params),{},{ref:W?function(){}:O})),j&&z&&t.createElement(jc.Provider,{value:{setMethods:function(e){return _.setMethods(e)}}},t.createElement(Z,y({},U)))),t.createElement("div",{ref:A,"aria-hidden":S,className:V,role:"presentation"},t.createElement("button",{ref:T,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),fd=(0,t.memo)((function(e){var n=(0,t.useContext)(Lc).context,i=e.ctrl,o=(0,t.useState)((function(){return new Gc})),a=(0,r.Z)(o,2),s=a[0],l=a[1],u=(0,t.useState)((function(){return new Gc})),c=(0,r.Z)(u,2),d=c[0],h=c[1],f=(0,t.useState)("false"),v=(0,r.Z)(f,2),p=v[0],g=v[1],m=(0,t.useState)(),C=(0,r.Z)(m,2),w=C[0],S=C[1],k=(0,t.useState)(),b=(0,r.Z)(k,2),R=b[0],E=b[1],F=(0,t.useMemo)((function(){return i.getColId()}),[]),P=(0,t.useRef)(null),D=(0,t.useRef)(null),x=(0,t.useRef)(),M=(0,t.useCallback)((function(e){if(P.current=e,P.current){var t={setWidth:function(e){P.current&&(P.current.style.width=e)},addOrRemoveCssClass:function(e,t){return l((function(n){return n.setClass(e,t)}))},setUserCompDetails:function(e){return E(e)},setResizableDisplayed:function(e){h((function(t){return t.setClass("ag-hidden",!e)})),g(e?"false":"true")},setAriaExpanded:function(e){return S(e)},getUserCompInstance:function(){return x.current||void 0}};i.setComp(t,P.current,D.current)}}),[]);(0,t.useLayoutEffect)((function(){return Ic(R,n,P.current)}),[R]),(0,t.useEffect)((function(){P.current&&i.setDragSource(P.current)}),[R]);var A=(0,t.useMemo)((function(){return!!((null===R||void 0===R?void 0:R.componentFromFramework)&&Bc(R.componentClass))}),[R]),T=(0,t.useMemo)((function(){return"ag-header-group-cell "+s.toString()}),[s]),L=(0,t.useMemo)((function(){return"ag-header-cell-resize "+d.toString()}),[d]),I=R&&R.componentFromFramework,O=R&&R.componentClass;return t.createElement("div",{ref:M,className:T,"col-id":F,role:"columnheader","aria-expanded":w},I&&A&&t.createElement(O,y({},R.params)),I&&!A&&t.createElement(O,y(y({},R.params),{},{ref:x})),t.createElement("div",{ref:D,"aria-hidden":p,className:L}))})),vd=(0,t.memo)((function(e){var n=e.ctrl,i=(0,t.useMemo)((function(){return n.getTopAndHeight()}),[]),o=i.topOffset,a=i.rowHeight,s=n.getAriaRowIndex(),l=n.getHeaderRowClass(),u=(0,t.useState)((function(){return a+"px"})),c=(0,r.Z)(u,2),d=c[0],h=c[1],f=(0,t.useState)((function(){return o+"px"})),v=(0,r.Z)(f,2),p=v[0],g=v[1],m=(0,t.useRef)(null),y=(0,t.useRef)(null),C=(0,t.useState)((function(){return n.getHeaderCtrls()})),w=(0,r.Z)(C,2),S=w[0],k=w[1],b=(0,t.useRef)(null),R=(0,t.useCallback)((function(e){if(b.current=e,e){var t={setHeight:function(e){return h(e)},setTop:function(e){return g(e)},setHeaderCtrls:function(e,t,n){y.current=m.current,m.current=e;var i=zc(y.current,e,t);i!==y.current&&Wc(n,(function(){return k(i)}))},setWidth:function(e){b.current&&(b.current.style.width=e)}};n.setComp(t,!1)}}),[]),E=(0,t.useMemo)((function(){return{height:d,top:p}}),[d,p]),F=(0,t.useCallback)((function(e){switch(n.getType()){case wo.COLUMN_GROUP:return t.createElement(fd,{ctrl:e,key:e.getInstanceId()});case wo.FLOATING_FILTER:return t.createElement(hd,{ctrl:e,key:e.getInstanceId()});default:return t.createElement(dd,{ctrl:e,key:e.getInstanceId()})}}),[]);return t.createElement("div",{ref:R,className:l,role:"row",style:E,"aria-rowindex":s},S.map(F))})),pd=(0,t.memo)((function(e){var n=(0,t.useState)(!0),i=(0,r.Z)(n,2),o=i[0],a=i[1],s=(0,t.useState)([]),l=(0,r.Z)(s,2),u=l[0],c=l[1],d=(0,t.useContext)(Lc).context,h=(0,t.useRef)(null),f=(0,t.useRef)(null),v=(0,t.useRef)(null),p="left"===e.pinned,g="right"===e.pinned,m=!p&&!g,y=(0,t.useCallback)((function(t){if(h.current=t,!h.current)return d.destroyBean(v.current),void(v.current=null);var n={setDisplayed:a,setCtrls:function(e){return c(e)},setCenterWidth:function(e){f.current&&(f.current.style.width=e)},setViewportScrollLeft:function(e){h.current&&(h.current.scrollLeft=e)},setPinnedContainerWidth:function(e){h.current&&(h.current.style.width=e,h.current.style.minWidth=e,h.current.style.maxWidth=e)}};v.current=d.createBean(new Ho(e.pinned)),v.current.setComp(n,h.current)}),[]),C=o?"":"ag-hidden",w=function(){return u.map((function(e){return t.createElement(vd,{ctrl:e,key:e.getInstanceId()})}))};return t.createElement(t.Fragment,null,p&&t.createElement("div",{ref:y,className:"ag-pinned-left-header "+C,"aria-hidden":!o,role:"rowgroup"},w()),g&&t.createElement("div",{ref:y,className:"ag-pinned-right-header "+C,"aria-hidden":!o,role:"rowgroup"},w()),m&&t.createElement("div",{ref:y,className:"ag-header-viewport "+C,role:"presentation"},t.createElement("div",{ref:f,className:"ag-header-container",role:"rowgroup"},w())))})),gd=(0,t.memo)((function(){var e=(0,t.useState)((function(){return new Gc})),n=(0,r.Z)(e,2),i=n[0],o=n[1],a=(0,t.useState)(),s=(0,r.Z)(a,2),l=s[0],u=s[1],c=(0,t.useContext)(Lc).context,d=(0,t.useRef)(null),h=(0,t.useRef)(null),f=(0,t.useCallback)((function(e){if(d.current=e,!e)return c.destroyBean(h.current),void(h.current=null);var t={addOrRemoveCssClass:function(e,t){return o((function(n){return n.setClass(e,t)}))},setHeightAndMinHeight:function(e){return u(e)}};h.current=c.createBean(new ko),h.current.setComp(t,d.current,d.current)}),[]),v=(0,t.useMemo)((function(){return"ag-header "+i.toString()}),[i]),p=(0,t.useMemo)((function(){return{height:l,minHeight:l}}),[l]);return t.createElement("div",{ref:f,className:v,style:p,role:"presentation"},t.createElement(pd,{pinned:"left"}),t.createElement(pd,{pinned:null}),t.createElement(pd,{pinned:"right"}))})),md=function(e,n){(0,t.useEffect)((function(){var t=n.current;if(t){var i=t.parentElement;if(i){var r=document.createComment(e);return i.insertBefore(r,t),function(){i.removeChild(r)}}}}),[e])},yd=function(){function e(t,n){var i=this;C(this,e),this.cellEditorParams=t,this.refreshProps=n,this.instanceCreated=new yi((function(e){i.resolveInstanceCreated=e})),this.onValueChange=function(e){return i.updateValue(e)},this.value=t.value}return k(e,[{key:"getProps",value:function(){return y(y({},this.cellEditorParams),{},{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}},{key:"getValue",value:function(){return this.value}},{key:"refresh",value:function(e){this.cellEditorParams=e,this.refreshProps()}},{key:"setMethods",value:function(e){Yc(this.getOptionalMethods(),e,this)}},{key:"getInstance",value:function(){var e=this;return this.instanceCreated.then((function(){return e.componentInstance}))}},{key:"setRef",value:function(e){var t;this.componentInstance=e,null===(t=this.resolveInstanceCreated)||void 0===t||t.call(this),this.resolveInstanceCreated=void 0}},{key:"getOptionalMethods",value:function(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}},{key:"updateValue",value:function(e){this.value=e,this.refreshProps()}}]),e}(),Cd=(0,t.memo)((function(e){var n=(0,t.useState)(),i=(0,r.Z)(n,2),o=i[0],a=i[1],s=(0,t.useContext)(Lc),l=s.context,u=s.popupService,c=s.localeService,d=s.gos,h=s.editService;return function(e){var n=(0,t.useRef)(e),i=(0,t.useRef)(),o=(0,t.useRef)(!1),a=(0,t.useRef)(!1),s=(0,t.useState)(0),l=(0,r.Z)(s,2)[1];o.current&&(a.current=!0),(0,t.useEffect)((function(){return o.current||(i.current=n.current(),o.current=!0),l((function(e){return e+1})),function(){a.current&&i.current&&i.current()}}),[])}((function(){var t=e.editDetails,n=e.cellCtrl,i=e.eParentCell,r=t.compDetails,o=d.get("stopEditingWhenCellsLoseFocus"),s=l.createBean(h.createPopupEditorWrapper(r.params)),f=s.getGui();if(e.jsChildComp){var v=e.jsChildComp.getGui();v&&f.appendChild(v)}var p={column:n.getColumn(),rowNode:n.getRowNode(),type:"popupCellEditor",eventSource:i,ePopup:f,position:t.popupPosition,keepWithinBounds:!0},g=u.positionPopupByComponent.bind(u,p),m=c.getLocaleTextFunc(),y=u.addPopup({modal:o,eChild:f,closeOnEsc:!0,closedCallback:function(){n.onPopupEditorClosed()},anchorToElement:i,positionCallback:g,ariaLabel:m("ariaLabelCellEditor","Cell Editor")}),C=y?y.hideFunc:void 0;return a(s),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),function(){null!=C&&C(),l.destroyBean(s)}})),t.createElement(t.Fragment,null,o&&e.wrappedContent&&(0,Tc.createPortal)(e.wrappedContent,o.getGui()))})),wd=function(e,n,i,r,o,a){var s=(0,t.useContext)(Lc).context,l=(0,t.useCallback)((function(){var e=o.current;if(e){var t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),s.destroyBean(e),o.current=void 0}}),[]);(0,t.useEffect)((function(){var t=null!=e,r=e&&e.compDetails&&!e.compDetails.componentFromFramework;if(t&&r&&!(n&&null==i)){var s=e.compDetails;if(o.current){var u=o.current,c=!!(null!=u.refresh&&0==e.force)&&u.refresh(s.params);if(!0===c||void 0===c)return;l()}var d=s.newAgStackInstance();null!=d&&d.then((function(e){if(e){var t=e.getGui();if(t)(n?i:a.current).appendChild(t),o.current=e}}))}else l()}),[e,n,r]),(0,t.useEffect)((function(){return l}),[])},Sd=function(e,n,i){var r=e.compProxy;return t.createElement(t.Fragment,null,!r&&t.createElement(n,y(y({},e.compDetails.params),{},{ref:i})),r&&function(e,n,i){var r=e.compProxy;i(r);var o=r.getProps(),a=Bc(n);return t.createElement(jc.Provider,{value:{setMethods:function(e){return r.setMethods(e)}}},a&&t.createElement(n,y({},o)),!a&&t.createElement(n,y(y({},o),{},{ref:function(e){return r.setRef(e)}})))}(e,n,i))},kd=(0,t.memo)((function(e){var n=(0,t.useContext)(Lc).context,i=e.cellCtrl,o=e.printLayout,a=e.editingRow,s=i.getTabIndex(),l=i.getColumnIdSanitised(),u=i.getInstanceId(),c=(0,t.useState)((function(){return i.isCellRenderer()?void 0:{compDetails:void 0,value:i.getValueToDisplay(),force:!1}})),d=(0,r.Z)(c,2),h=d[0],f=d[1],v=(0,t.useState)(),p=(0,r.Z)(v,2),g=p[0],m=p[1],C=(0,t.useState)(1),w=(0,r.Z)(C,2),S=w[0],k=w[1],b=(0,t.useState)(),R=(0,r.Z)(b,2),E=R[0],F=R[1],P=(0,t.useState)(!1),D=(0,r.Z)(P,2),x=D[0],M=D[1],A=(0,t.useState)(!1),T=(0,r.Z)(A,2),L=T[0],I=T[1],O=(0,t.useState)(!1),N=(0,r.Z)(O,2),G=N[0],B=N[1],H=(0,t.useState)(),V=(0,r.Z)(H,2),W=V[0],z=V[1],_=(0,t.useMemo)((function(){return i.isForceWrapper()}),[i]),U=(0,t.useMemo)((function(){return i.getCellAriaRole()}),[i]),j=(0,t.useRef)(null),Z=(0,t.useRef)(null),K=(0,t.useRef)(),q=(0,t.useRef)(),Q=(0,t.useRef)(),Y=(0,t.useRef)([]),X=(0,t.useRef)(),J=(0,t.useState)(0),$=(0,r.Z)(J,2),ee=$[0],te=$[1],ne=(0,t.useCallback)((function(e){X.current=e,te((function(e){return e+1}))}),[]),ie=_||null!=h&&(x||G||L),re=(0,t.useCallback)((function(e,t){(q.current=t,t)&&(t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout((function(){i.stopEditing(!0),i.focusCell(!0)})))}),[i]),oe=(0,t.useCallback)((function(e){return re(!0,e)}),[re]),ae=(0,t.useCallback)((function(e){return re(!1,e)}),[re]),se=(0,t.useRef)();se.current||(se.current=new At((function(){return j.current}))),wd(h,ie,X.current,ee,K,j);var le=(0,t.useRef)();(0,t.useLayoutEffect)((function(){var e=le.current,t=h;if(le.current=h,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails){var n=e.compDetails,i=t.compDetails;if(n.componentClass==i.componentClass)if(null!=Z.current&&null!=Z.current.refresh)1!=Z.current.refresh(i.params)&&k((function(e){return e+1}))}}),[h]),(0,t.useLayoutEffect)((function(){if(g&&!g.compDetails.componentFromFramework){var e=g.compDetails,t=!0===g.popup,i=e.newAgStackInstance();return i.then((function(e){if(e){var n=e.getGui();if(re(t,e),!t){var i=(_?Q:j).current;null===i||void 0===i||i.appendChild(n),e.afterGuiAttached&&e.afterGuiAttached()}z(e)}})),function(){i.then((function(e){var i=e.getGui();n.destroyBean(e),re(t,void 0),z(void 0),i&&i.parentElement&&i.parentElement.removeChild(i)}))}}}),[g]);var ue=(0,t.useCallback)((function(e){if(Q.current=e,!Q.current)return Y.current.forEach((function(e){return e()})),void(Y.current=[]);var t=function(e){if(e){var t,i=e.getGui();null===(t=Q.current)||void 0===t||t.insertAdjacentElement("afterbegin",i),Y.current.push((function(){n.destroyBean(e),Rn(i)}))}return e};x&&t(i.createSelectionCheckbox());G&&t(i.createDndSource()),L&&t(i.createRowDragComp())}),[i,n,G,L,x]),ce=(0,t.useCallback)((function(e){if(j.current=e,j.current&&i){var t={addOrRemoveCssClass:function(e,t){return se.current.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return F(e)},getFocusableElement:function(){return j.current},setIncludeSelection:function(e){return M(e)},setIncludeRowDrag:function(e){return I(e)},setIncludeDndSource:function(e){return B(e)},getCellEditor:function(){return q.current||null},getCellRenderer:function(){return Z.current?Z.current:K.current},getParentOfValue:function(){return X.current?X.current:Q.current?Q.current:j.current},setRenderDetails:function(e,t,n){f((function(i){return(null===i||void 0===i?void 0:i.compDetails)!==e||(null===i||void 0===i?void 0:i.value)!==t||(null===i||void 0===i?void 0:i.force)!==n?{value:t,compDetails:e,force:n}:i}))},setEditDetails:function(e,t,n,i){if(e){var r=void 0;i?r=new yd(e.params,(function(){return k((function(e){return e+1}))})):e.componentFromFramework&&ud(),m({compDetails:e,popup:t,popupPosition:n,compProxy:r}),t||f(void 0)}else m((function(e){null!==e&&void 0!==e&&e.compProxy&&(q.current=void 0)}))}},n=Q.current||void 0;i.setComp(t,j.current,n,o,a)}}),[]),de=(0,t.useMemo)((function(){return!!(h&&h.compDetails&&h.compDetails.componentFromFramework&&Bc(h.compDetails.componentClass))}),[h]);(0,t.useLayoutEffect)((function(){var e;j.current&&(se.current.addOrRemoveCssClass("ag-cell-value",!ie),se.current.addOrRemoveCssClass("ag-cell-inline-editing",!!g&&!g.popup),se.current.addOrRemoveCssClass("ag-cell-popup-editing",!!g&&!!g.popup),se.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!g||!!g.popup),null===(e=i.getRowCtrl())||void 0===e||e.setInlineEditingCss(!!g),i.shouldRestoreFocus()&&!i.isEditing()&&j.current.focus({preventScroll:!0}))}));var he=function(){return t.createElement(t.Fragment,null,null!=h&&function(e,n,i,r,o,a,s){var l=e.compDetails,u=e.value,c=!l,d=l&&l.componentFromFramework,h=l&&l.componentClass,f=null!==u&&void 0!==u&&u.toString?u.toString():u,v=function(){return t.createElement(t.Fragment,null,c&&t.createElement(t.Fragment,null,f),d&&!a&&t.createElement(h,y(y({},l.params),{},{key:n,ref:r})),d&&a&&t.createElement(h,y(y({},l.params),{},{key:n})))};return t.createElement(t.Fragment,null,o?t.createElement("span",{role:"presentation",id:"cell-".concat(i),className:"ag-cell-value",ref:s},v()):v())}(h,S,u,Z,ie,de,ne),null!=g&&function(e,n,i,r,o,a){var s=e.compDetails,l=s.componentClass,u=s.componentFromFramework&&!e.popup,c=s.componentFromFramework&&e.popup,d=!s.componentFromFramework&&e.popup;return t.createElement(t.Fragment,null,u&&Sd(e,l,n),c&&t.createElement(Cd,{editDetails:e,cellCtrl:o,eParentCell:r,wrappedContent:Sd(e,l,i)}),d&&a&&t.createElement(Cd,{editDetails:e,cellCtrl:o,eParentCell:r,jsChildComp:a}))}(g,ae,oe,j.current,i,W))};return t.createElement("div",{ref:ce,style:E,tabIndex:s,role:U,"col-id":l},ie?t.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ue},he()):he())})),bd=(0,t.memo)((function(e){var n=(0,t.useContext)(Lc),i=n.context,o=n.gos,a=e.rowCtrl,s=e.containerType,l=a.getTabIndex(),u=(0,t.useRef)(a.getDomOrder()),c=a.isFullWidth(),d=a.getRowNode().displayed,h=(0,t.useState)((function(){return d?a.getRowIndex():null})),f=(0,r.Z)(h,2),v=f[0],p=f[1],g=(0,t.useState)((function(){return a.getRowId()})),m=(0,r.Z)(g,2),C=m[0],w=m[1],S=(0,t.useState)((function(){return a.getBusinessKey()})),k=(0,r.Z)(S,2),b=k[0],R=k[1],E=(0,t.useState)((function(){return a.getRowStyles()})),F=(0,r.Z)(E,2),P=F[0],D=F[1],x=(0,t.useRef)(null),M=(0,t.useRef)(null),A=(0,t.useState)((function(){return null})),T=(0,r.Z)(A,2),L=T[0],I=T[1],O=(0,t.useState)(),N=(0,r.Z)(O,2),G=N[0],B=N[1],H=(0,t.useState)((function(){return d?a.getInitialRowTop(s):void 0})),V=(0,r.Z)(H,2),W=V[0],z=V[1],_=(0,t.useState)((function(){return d?a.getInitialTransform(s):void 0})),U=(0,r.Z)(_,2),j=U[0],Z=U[1],K=(0,t.useRef)(null),q=(0,t.useRef)(),Q=(0,t.useRef)(!1),Y=(0,t.useState)(0),X=(0,r.Z)(Y,2),J=X[0],$=X[1];(0,t.useEffect)((function(){var e;if(!Q.current&&G&&!(J>10)){var t=null===(e=K.current)||void 0===e?void 0:e.firstChild;t?(a.setupDetailRowAutoHeight(t),Q.current=!0):$((function(e){return e+1}))}}),[G,J]);var ee=(0,t.useRef)();ee.current||(ee.current=new At((function(){return K.current})));var te=(0,t.useCallback)((function(e){if(K.current=e,K.current){if(a.isAlive()){var t={setTop:z,setTransform:Z,addOrRemoveCssClass:function(e,t){return ee.current.addOrRemoveCssClass(e,t)},setDomOrder:function(e){return u.current=e},setRowIndex:p,setRowId:w,setRowBusinessKey:R,setUserStyles:D,setCellCtrls:function(e,t){M.current=x.current,x.current=e;var n=zc(M.current,e,u.current);n!==M.current&&Wc(t,(function(){return I(n)}))},showFullWidth:function(e){return B(e)},getFullWidthCellRenderer:function(){return q.current},refreshFullWidth:function(e){return ae.current?(B((function(t){return y(y({},t),{},{params:e()})})),!0):!(!q.current||!q.current.refresh)&&q.current.refresh(e())}};a.setComp(t,K.current,s)}}else a.unsetComp(s)}),[]);(0,t.useLayoutEffect)((function(){return Ic(G,i,K.current,q)}),[G]);var ne=(0,t.useMemo)((function(){var e={top:W,transform:j};return Object.assign(e,P),e}),[W,j,P]),ie=c&&G&&G.componentFromFramework,re=!c&&null!=L,oe=(0,t.useMemo)((function(){return!!((null===G||void 0===G?void 0:G.componentFromFramework)&&Bc(G.componentClass))}),[G]),ae=(0,t.useRef)(!1);(0,t.useEffect)((function(){ae.current=oe&&!!G&&!!o.get("reactiveCustomComponents")}),[oe,G]);return t.createElement("div",{ref:te,role:"row",style:ne,"row-index":v,"row-id":C,"row-business-key":b,tabIndex:l},re&&(null===L||void 0===L?void 0:L.map((function(e){return t.createElement(kd,{cellCtrl:e,editingRow:a.isEditing(),printLayout:a.isPrintLayout(),key:e.getInstanceId()})}))),ie&&function(){var e=G.componentClass;return t.createElement(t.Fragment,null,oe&&t.createElement(e,y({},G.params)),!oe&&t.createElement(e,y(y({},G.params),{},{ref:q})))}())})),Rd=(0,t.memo)((function(e){var n=(0,t.useContext)(Lc).context,i=e.name,o=(0,t.useMemo)((function(){return Sa(i)}),[i]),a=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useRef)([]),u=(0,t.useRef)([]),c=(0,t.useState)((function(){return[]})),d=(0,r.Z)(c,2),h=d[0],f=d[1],v=(0,t.useRef)(!1),p=(0,t.useRef)(),g=(0,t.useMemo)((function(){return Nc(o.viewport)}),[o]),m=(0,t.useMemo)((function(){return Nc(o.container)}),[o]),y="center"===o.type;md(" AG Row Container "+i+" ",y?a:s);var C=(0,t.useCallback)((function(){return y?null!=a.current&&null!=s.current:null!=s.current}),[]),w=(0,t.useCallback)((function(){return y?null==a.current&&null==s.current:null==s.current}),[]),S=(0,t.useCallback)((function(){if(w()&&(n.destroyBean(p.current),p.current=null),C()){var e=function(e){var t=zc(u.current,l.current,v.current);t!==u.current&&(u.current=t,Wc(e,(function(){return f(t)})))},t={setViewportHeight:function(e){a.current&&(a.current.style.height=e)},setRowCtrls:function(t){var n=t.rowCtrls,i=!!t.useFlushSync&&l.current.length>0&&n.length>0;l.current=n,e(i)},setDomOrder:function(t){v.current!=t&&(v.current=t,e(!1))},setContainerWidth:function(e){s.current&&(s.current.style.width=e)},setOffsetTop:function(e){s.current&&(s.current.style.transform="translateY(".concat(e,")"))}};p.current=n.createBean(new Ma(i)),p.current.setComp(t,s.current,a.current)}}),[C,w]),k=(0,t.useCallback)((function(e){s.current=e,S()}),[S]),b=(0,t.useCallback)((function(e){a.current=e,S()}),[S]),R=function(){return t.createElement("div",{className:m,ref:k,role:"rowgroup"},h.map((function(e){return t.createElement(bd,{rowCtrl:e,containerType:o.type,key:e.getInstanceId()})})))};return t.createElement(t.Fragment,null,y?t.createElement("div",{className:g,ref:b,role:"presentation"},R()):R())})),Ed=(0,t.memo)((function(){var e=(0,t.useContext)(Lc),n=e.context,i=e.resizeObserverService,o=(0,t.useState)(""),a=(0,r.Z)(o,2),s=a[0],l=a[1],u=(0,t.useState)(0),c=(0,r.Z)(u,2),d=c[0],h=c[1],f=(0,t.useState)(0),v=(0,r.Z)(f,2),p=v[0],g=v[1],m=(0,t.useState)("0px"),y=(0,r.Z)(m,2),C=y[0],w=y[1],S=(0,t.useState)("0px"),k=(0,r.Z)(S,2),b=k[0],R=k[1],E=(0,t.useState)("100%"),F=(0,r.Z)(E,2),P=F[0],D=F[1],x=(0,t.useState)("0px"),M=(0,r.Z)(x,2),A=M[0],T=M[1],L=(0,t.useState)("0px"),I=(0,r.Z)(L,2),O=I[0],N=I[1],G=(0,t.useState)("100%"),B=(0,r.Z)(G,2),H=B[0],V=B[1],W=(0,t.useState)(""),z=(0,r.Z)(W,2),_=z[0],U=z[1],j=(0,t.useState)(""),Z=(0,r.Z)(j,2),K=Z[0],q=Z[1],Q=(0,t.useState)(null),Y=(0,r.Z)(Q,2),X=Y[0],J=Y[1],$=(0,t.useState)(""),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],ie=(0,t.useState)(null),re=(0,r.Z)(ie,2),oe=re[0],ae=re[1],se=(0,t.useState)("ag-layout-normal"),le=(0,r.Z)(se,2),ue=le[0],ce=le[1],de=(0,t.useRef)();de.current||(de.current=new At((function(){return he.current})));var he=(0,t.useRef)(null),fe=(0,t.useRef)(null),ve=(0,t.useRef)(null),pe=(0,t.useRef)(null),ge=(0,t.useRef)(null),me=(0,t.useRef)(null),ye=(0,t.useRef)(null),Ce=(0,t.useRef)([]),we=(0,t.useRef)([]);md(" AG Grid Body ",he),md(" AG Pinned Top ",fe),md(" AG Sticky Top ",ve),md(" AG Middle ",me),md(" AG Pinned Bottom ",ye);var Se=(0,t.useCallback)((function(e){if(he.current=e,!he.current)return n.destroyBeans(Ce.current),we.current.forEach((function(e){return e()})),Ce.current=[],void(we.current=[]);if(n){var t=function(e,t){e.appendChild(t),we.current.push((function(){return e.removeChild(t)}))},r=function(e,i,r){t(e,document.createComment(r)),t(e,function(e){var t=n.createBean(new e);return Ce.current.push(t),t}(i).getGui())};r(he.current,_o," AG Fake Horizontal Scroll "),r(he.current,Wo," AG Overlay Wrapper "),ge.current&&r(ge.current,jo," AG Fake Vertical Scroll ");var o={setRowAnimationCssOnBodyViewport:l,setColumnCount:function(e){he.current&&Ut(he.current,e)},setRowCount:function(e){he.current&&zt(he.current,e)},setTopHeight:h,setBottomHeight:g,setStickyTopHeight:w,setStickyTopTop:R,setStickyTopWidth:D,setTopDisplay:U,setBottomDisplay:q,setColumnMovingCss:function(e,t){return de.current.addOrRemoveCssClass(e,t)},updateLayoutClasses:ce,setAlwaysVerticalScrollClass:J,setPinnedTopBottomOverflowY:ne,setCellSelectableCss:function(e,t){return ae(t?e:null)},setBodyViewportWidth:function(e){me.current&&(me.current.style.width=e)},registerBodyViewportResizeListener:function(e){if(me.current){var t=i.observeResize(me.current,e);we.current.push((function(){return t()}))}},setStickyBottomHeight:T,setStickyBottomBottom:N,setStickyBottomWidth:V},a=n.createBean(new Qo);Ce.current.push(a),a.setComp(o,he.current,me.current,fe.current,ye.current,ve.current,pe.current)}}),[]),ke=(0,t.useMemo)((function(){return Nc("ag-root","ag-unselectable",ue)}),[ue]),be=(0,t.useMemo)((function(){return Nc("ag-body-viewport",s,ue,X,oe)}),[s,ue,X,oe]),Re=(0,t.useMemo)((function(){return Nc("ag-body",ue)}),[ue]),Ee=(0,t.useMemo)((function(){return Nc("ag-floating-top",oe)}),[oe]),Fe=(0,t.useMemo)((function(){return Nc("ag-sticky-top",oe)}),[oe]),Pe=(0,t.useMemo)((function(){return Nc("ag-sticky-bottom",oe)}),[oe]),De=(0,t.useMemo)((function(){return Nc("ag-floating-bottom",oe)}),[oe]),xe=(0,t.useMemo)((function(){return{height:d,minHeight:d,display:_,overflowY:te}}),[d,_,te]),Me=(0,t.useMemo)((function(){return{height:C,top:b,width:P}}),[C,b,P]),Ae=(0,t.useMemo)((function(){return{height:A,bottom:O,width:H}}),[A,O,H]),Te=(0,t.useMemo)((function(){return{height:p,minHeight:p,display:K,overflowY:te}}),[p,K,te]),Le=function(e){return t.createElement(Rd,{name:e,key:"".concat(e,"-container")})},Ie=function(e){var n=e.section,i=e.children,r=e.className,o=e.style;return t.createElement("div",{ref:n,className:r,role:"presentation",style:o},i.map(Le))};return t.createElement("div",{ref:Se,className:ke,role:"treegrid"},t.createElement(gd,null),Ie({section:fe,className:Ee,style:xe,children:["topLeft","topCenter","topRight","topFullWidth"]}),t.createElement("div",{className:Re,ref:ge,role:"presentation"},Ie({section:me,className:be,children:["left","center","right","fullWidth"]})),Ie({section:ve,className:Fe,style:Me,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Ie({section:pe,className:Pe,style:Ae,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Ie({section:ye,className:De,style:Te,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),Fd=(0,t.forwardRef)((function(e,n){var i=e.children,r=e.eFocusableElement,o=e.onTabKeyDown,a=e.gridCtrl,s=e.forceFocusOutWhenTabGuardsAreEmpty,l=(0,t.useContext)(Lc).context,u=(0,t.useRef)(null),c=(0,t.useRef)(null),d=(0,t.useRef)(),h=function(e){var t=null==e?void 0:parseInt(e,10).toString();[u,c].forEach((function(e){var n,i;void 0===t?null===(n=e.current)||void 0===n||n.removeAttribute("tabindex"):null===(i=e.current)||void 0===i||i.setAttribute("tabindex",t)}))};(0,t.useImperativeHandle)(n,(function(){return{forceFocusOutOfContainer:function(e){var t;null===(t=d.current)||void 0===t||t.forceFocusOutOfContainer(e)}}}));var f=(0,t.useCallback)((function(){if(!u.current&&!c.current)return l.destroyBean(d.current),void(d.current=null);if(u.current&&c.current){var e={setTabIndex:h};d.current=l.createBean(new Ds({comp:e,eTopGuard:u.current,eBottomGuard:c.current,eFocusableElement:r,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:function(e){return a.focusInnerElement(e)}}))}}),[]),v=(0,t.useCallback)((function(e){u.current=e,f()}),[f]),p=(0,t.useCallback)((function(e){c.current=e,f()}),[f]),g=function(e){var n="top"===e?Ps.TAB_GUARD_TOP:Ps.TAB_GUARD_BOTTOM;return t.createElement("div",{className:"".concat(Ps.TAB_GUARD," ").concat(n),role:"presentation",ref:"top"===e?v:p})};return t.createElement(t.Fragment,null,g("top"),i,g("bottom"))})),Pd=(0,t.memo)(Fd),Dd=(0,t.memo)((function(e){var n=e.context,i=(0,t.useState)(""),o=(0,r.Z)(i,2),a=o[0],s=o[1],l=(0,t.useState)(""),u=(0,r.Z)(l,2),c=u[0],d=u[1],h=(0,t.useState)(null),f=(0,r.Z)(h,2),v=f[0],p=f[1],g=(0,t.useState)(null),m=(0,r.Z)(g,2),y=m[0],C=m[1],w=(0,t.useState)(!1),S=(0,r.Z)(w,2),k=S[0],b=S[1],R=(0,t.useState)(),E=(0,r.Z)(R,2),F=E[0],P=E[1],D=(0,t.useRef)(null),x=(0,t.useRef)(null),M=(0,t.useRef)(),A=(0,t.useState)(null),T=(0,r.Z)(A,2),L=T[0],I=T[1],O=(0,t.useRef)((function(){})),N=(0,t.useRef)(),G=(0,t.useRef)([]),B=(0,t.useCallback)((function(){}),[]),H=(0,t.useMemo)((function(){return n.isDestroyed()?null:n.getBeans()}),[n]);md(" AG Grid ",x);var V=(0,t.useCallback)((function(e){if(x.current=e,!x.current)return n.destroyBean(D.current),void(D.current=null);if(!n.isDestroyed()){D.current=n.createBean(new dl);var t=D.current;O.current=t.focusInnerElement.bind(t);var i={destroyGridUi:function(){},setRtlClass:s,forceFocusOutOfContainer:function(e){var t,n;e||null===(t=N.current)||void 0===t||!t.isDisplayed()?null===(n=M.current)||void 0===n||n.forceFocusOutOfContainer(e):N.current.forceFocusOutOfContainer(e)},updateLayoutClasses:d,getFocusableContainers:function(){var e,t=[],n=null===(e=x.current)||void 0===e?void 0:e.querySelector(".ag-root");return n&&t.push({getGui:function(){return n}}),G.current.forEach((function(e){e.isDisplayed()&&t.push(e)})),t},setCursor:p,setUserSelect:C};t.setComp(i,x.current,x.current),b(!0)}}),[]);(0,t.useEffect)((function(){if(F&&H&&D.current&&L&&x.current){var e=D.current,t=[],i=e.getOptionalSelectors(),r=i.watermarkSelector,o=i.paginationSelector,a=i.sideBarSelector,s=i.statusBarSelector,l=i.gridHeaderDropZonesSelector,u=[],c=x.current;if(l){var d=n.createBean(new l.component),h=d.getGui();c.insertAdjacentElement("afterbegin",h),u.push(h),t.push(d)}if(a){var f=n.createBean(new a.component),v=f.getGui(),p=L.querySelector(".ag-tab-guard-bottom");p&&(p.insertAdjacentElement("beforebegin",v),u.push(v)),t.push(f),G.current.push(f)}var g=function(e){var i=n.createBean(new e),r=i.getGui();return c.insertAdjacentElement("beforeend",r),u.push(r),t.push(i),i};if(s&&g(s.component),o){var m=g(o.component);N.current=m,G.current.push(m)}return r&&g(r.component),function(){n.destroyBeans(t),u.forEach((function(e){e.parentElement&&e.parentElement.removeChild(e)}))}}}),[F,L,H]);var W=(0,t.useMemo)((function(){return Nc("ag-root-wrapper",a,c)}),[a,c]),z=(0,t.useMemo)((function(){return Nc("ag-root-wrapper-body","ag-focus-managed",c)}),[c]),_=(0,t.useMemo)((function(){return{userSelect:null!=y?y:"",WebkitUserSelect:null!=y?y:"",cursor:null!=v?v:""}}),[y,v]),U=(0,t.useCallback)((function(e){M.current=e,P(null!==e)}),[]);return t.createElement("div",{ref:V,className:W,style:_,role:"presentation"},t.createElement("div",{className:z,ref:I,role:"presentation"},k&&L&&H&&t.createElement(Lc.Provider,{value:H},t.createElement(Pd,{ref:U,eFocusableElement:L,onTabKeyDown:B,gridCtrl:D.current,forceFocusOutWhenTabGuardsAreEmpty:!0},t.createElement(Ed,null)))))})),xd=function(e){c(n,e);var t=p(n);function n(){return C(this,n),t.apply(this,arguments)}return k(n,[{key:"wireBeans",value:function(e){this.ctrlsService=e.ctrlsService}},{key:"areHeaderCellsRendered",value:function(){return this.ctrlsService.getHeaderRowContainerCtrls().every((function(e){return e.getAllCtrls().every((function(e){return e.areCellsRendered()}))}))}}]),n}(Y),Md=function(e){var n,i,o=(0,t.useRef)(),a=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useRef)([]),u=(0,t.useRef)([]),c=(0,t.useRef)(e),d=(0,t.useRef)(),h=(0,t.useRef)(!1),f=(0,t.useState)(void 0),v=(0,r.Z)(f,2),p=v[0],g=v[1],m=(0,t.useState)(0),C=(0,r.Z)(m,2)[1],w=(0,t.useCallback)((function(t){var n;if(a.current=t,!a.current)return l.current.forEach((function(e){return e()})),void(l.current.length=0);var i=e.modules||[];s.current||(s.current=new cd((function(){return C((function(e){return e+1}))}),e.componentWrappingElement,e.maxComponentCreationTimeMs),l.current.push((function(){var e;null===(e=s.current)||void 0===e||e.destroy(),s.current=null})));var r=function(e,t){"object"!==typeof e&&(e={});var n=y({},e);return St.ALL_PROPERTIES_AND_CALLBACKS.forEach((function(e){var i=t[e];"undefined"!==typeof i&&i!==St.VUE_OMITTED_PROPERTY&&(n[e]=i)})),n}(e.gridOptions,e),c=Hc?new Ld:new Id((function(){if(h.current)for(var e=function(){var e;return null!==(e=d.current)&&void 0!==e&&e.shouldQueueUpdates()?void 0:u.current.shift()},t=e();t;)t(),t=e()}));d.current=c;var f=new xd,v={providedBeanInstances:{frameworkComponentWrapper:new Ad(s.current,null===(n=r.reactiveCustomComponents)||void 0===n||n),renderStatusService:f},modules:i,frameworkOverrides:c},p=new _u;o.current=p.create(a.current,r,(function(t){g(t),t.createBean(f),l.current.push((function(){t.destroy()})),t.getBean("ctrlsService").whenReady((function(){if(!t.isDestroyed()){var n=o.current;n&&e.setGridApi&&e.setGridApi(n)}}))}),(function(e){e.getBean("ctrlsService").whenReady((function(){u.current.forEach((function(e){return e()})),u.current.length=0,h.current=!0}))}),v)}),[]),S=(0,t.useMemo)((function(){return y({height:"100%"},e.containerStyle||{})}),[e.containerStyle]),k=(0,t.useCallback)((function(e){var t;!h.current||null!==(t=d.current)&&void 0!==t&&t.shouldQueueUpdates()?u.current.push(e):e()}),[]);return(0,t.useEffect)((function(){var t=function(e,t){var n={};return Object.keys(t).forEach((function(i){var r=t[i];e[i]!==r&&(n[i]=r)})),n}(c.current,e);c.current=e,k((function(){o.current&&function(e,t){if(e){var n={},i=!1;if(Object.keys(e).filter((function(e){return St.ALL_PROPERTIES_AND_CALLBACKS_SET.has(e)})).forEach((function(t){n[t]=e[t],i=!0})),i){var r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);var o={type:"componentStateChanged"};ce(n,(function(e,t){o[e]=t})),t.dispatchEvent(o)}}}(t,o.current)}))}),[e]),t.createElement("div",{style:S,className:e.className,ref:w},p&&!p.isDestroyed()?t.createElement(Dd,{context:p}):null,null!==(n=null===(i=s.current)||void 0===i?void 0:i.getPortals())&&void 0!==n?n:null)};var Ad=function(e){c(n,e);var t=p(n);function n(e,i){var r;return C(this,n),(r=t.call(this)).parent=e,r.reactiveCustomComponents=i,r}return k(n,[{key:"createWrapper",value:function(e,t){if(this.reactiveCustomComponents){var n=function(e){switch(e){case"filter":return ed;case"floatingFilterComponent":return id;case"dateComponent":return $c;case"loadingOverlayComponent":return rd;case"noRowsOverlayComponent":return ad;case"statusPanel":return sd;case"toolPanel":return ld;case"menuItem":return od;case"cellRenderer":return Jc}}(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":ud()}var i=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new Qc(e,this.parent,t,i)}}]),n}(Ku),Td=(0,t.forwardRef)((function(e,n){var i=(0,t.useContext)(Lc),o=i.ctrlsFactory,a=i.context,s=i.gos,l=i.resizeObserverService,u=i.rowModel,c=(0,t.useState)((function(){return new Gc})),d=(0,r.Z)(c,2),h=d[0],f=d[1],v=(0,t.useState)((function(){return new Gc})),p=(0,r.Z)(v,2),g=p[0],m=p[1],C=(0,t.useState)(),w=(0,r.Z)(C,2),S=w[0],k=w[1],b=(0,t.useState)(),R=(0,r.Z)(b,2),E=R[0],F=R[1],P=(0,t.useRef)(),D=(0,t.useRef)(null),x=(0,t.useRef)(),M=(0,t.useMemo)((function(){return $n.__getGridRegisteredModules(e.api.getGridId())}),[e]),A=(0,t.useMemo)((function(){return h.toString()+" ag-details-row"}),[h]),T=(0,t.useMemo)((function(){return g.toString()+" ag-details-grid"}),[g]);n&&(0,t.useImperativeHandle)(n,(function(){return{refresh:function(){var e,t;return null!==(e=null===(t=P.current)||void 0===t?void 0:t.refresh())&&void 0!==e&&e}}})),e.template&&De("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");var L=(0,t.useCallback)((function(t){if(D.current=t,!D.current)return a.destroyBean(P.current),void(x.current&&x.current());var n={addOrRemoveCssClass:function(e,t){return f((function(n){return n.setClass(e,t)}))},addOrRemoveDetailGridCssClass:function(e,t){return m((function(n){return n.setClass(e,t)}))},setDetailGrid:function(e){return k(e)},setRowData:function(e){return F(e)},getGui:function(){return D.current}},i=o.getInstance("detailCellRenderer");if(i&&(a.createBean(i),i.init(n,e),P.current=i,s.get("detailRowAutoHeight"))){var r=function(){if(null!=D.current){var t=D.current.clientHeight;if(null!=t&&t>0){setTimeout((function(){e.node.setRowHeight(t),("clientSide"===u.getType()||"serverSide"===u.getType())&&u.onRowHeightChanged()}),0)}}};x.current=l.observeResize(D.current,r),r()}}),[]),I=(0,t.useCallback)((function(e){var t;null===(t=P.current)||void 0===t||t.registerDetailWithMaster(e)}),[]);return t.createElement("div",{className:A,ref:L},S&&t.createElement(Md,y(y({className:T},S),{},{modules:M,rowData:E,setGridApi:I})))})),Ld=function(e){c(n,e);var t=p(n);function n(){var e;return C(this,n),(e=t.call(this,"react")).frameworkComponents={agGroupCellRenderer:Uc,agGroupRowRenderer:Uc,agDetailCellRenderer:Td},e.wrapIncoming=function(e,t){return"ensureVisible"===t?(n=e,Vc||setTimeout((function(){return Vc=!1}),0),Vc=!0,n()):e();var n},e.renderingEngine="react",e}return k(n,[{key:"frameworkComponent",value:function(e){return this.frameworkComponents[e]}},{key:"isFrameworkComponent",value:function(e){if(!e)return!1;var t=e.prototype;return!(t&&"getGui"in t)}},{key:"shouldQueueUpdates",value:function(){return!1}},{key:"getLockOnRefreshError",value:function(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}}]),n}(Is),Id=function(e){c(n,e);var t=p(n);function n(e){var i;return C(this,n),(i=t.call(this)).processQueuedUpdates=e,i.queueUpdates=!1,i}return k(n,[{key:"getLockOnRefresh",value:function(){this.queueUpdates=!0}},{key:"releaseLockOnRefresh",value:function(){this.queueUpdates=!1,this.processQueuedUpdates()}},{key:"shouldQueueUpdates",value:function(){return this.queueUpdates}},{key:"getLockOnRefreshError",value:function(){return""}}]),n}(Ld),Od=function(e){c(i,e);var n=p(i);function i(){var e;return C(this,i),(e=n.apply(this,arguments)).apiListeners=[],e.setGridApi=function(t){e.api=t,e.apiListeners.forEach((function(e){return e(t)}))},e}return k(i,[{key:"registerApiListener",value:function(e){this.apiListeners.push(e)}},{key:"componentWillUnmount",value:function(){this.apiListeners.length=0}},{key:"render",value:function(){return t.createElement(Md,y(y({},this.props),{},{setGridApi:this.setGridApi}))}}]),i}(t.Component);var Nd=n(184);function Gd(e){var t=e.playlist;return(0,Nd.jsx)("div",{className:"ag-theme-quartz",style:{height:"30%",width:"400px",maxWidth:"95%"},children:(0,Nd.jsx)(Od,{rowData:t,suppressRowClickSelection:!0,columnDefs:[{field:"time",flex:1,width:61,cellStyle:{padding:1,textAlign:"center"}},{field:"song",flex:3,cellStyle:{paddingLeft:5,paddingRight:5}}],autoSizeStrategy:{type:"fitCellContents"}})})}function Bd(){return(0,Nd.jsx)("div",{})}function Hd(e,t){return function(){return e.apply(t,arguments)}}var Vd,Wd=Object.prototype.toString,zd=Object.getPrototypeOf,_d=(Vd=Object.create(null),function(e){var t=Wd.call(e);return Vd[t]||(Vd[t]=t.slice(8,-1).toLowerCase())}),Ud=function(e){return e=e.toLowerCase(),function(t){return _d(t)===e}},jd=function(e){return function(t){return typeof t===e}},Zd=Array.isArray,Kd=jd("undefined");var qd=Ud("ArrayBuffer");var Qd=jd("string"),Yd=jd("function"),Xd=jd("number"),Jd=function(e){return null!==e&&"object"===typeof e},$d=function(e){if("object"!==_d(e))return!1;var t=zd(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eh=Ud("Date"),th=Ud("File"),nh=Ud("Blob"),ih=Ud("FileList"),rh=Ud("URLSearchParams"),oh=["ReadableStream","Request","Response","Headers"].map(Ud),ah=(0,r.Z)(oh,4),sh=ah[0],lh=ah[1],uh=ah[2],ch=ah[3];function dh(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.allOwnKeys,a=void 0!==o&&o;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Zd(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{var s,l=a?Object.getOwnPropertyNames(e):Object.keys(e),u=l.length;for(n=0;n<u;n++)s=l[n],t.call(null,e[s],s,e)}}function hh(e,t){t=t.toLowerCase();for(var n,i=Object.keys(e),r=i.length;r-- >0;)if(t===(n=i[r]).toLowerCase())return n;return null}var fh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,vh=function(e){return!Kd(e)&&e!==fh};var ph,gh=(ph="undefined"!==typeof Uint8Array&&zd(Uint8Array),function(e){return ph&&e instanceof ph}),mh=Ud("HTMLFormElement"),yh=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Ch=Ud("RegExp"),wh=function(e,t){var n=Object.getOwnPropertyDescriptors(e),i={};dh(n,(function(n,r){var o;!1!==(o=t(n,r,e))&&(i[r]=o||n)})),Object.defineProperties(e,i)},Sh="abcdefghijklmnopqrstuvwxyz",kh="0123456789",bh={DIGIT:kh,ALPHA:Sh,ALPHA_DIGIT:Sh+Sh.toUpperCase()+kh};var Rh=Ud("AsyncFunction"),Eh={isArray:Zd,isArrayBuffer:qd,isBuffer:function(e){return null!==e&&!Kd(e)&&null!==e.constructor&&!Kd(e.constructor)&&Yd(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||Yd(e.append)&&("formdata"===(t=_d(e))||"object"===t&&Yd(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&qd(e.buffer)},isString:Qd,isNumber:Xd,isBoolean:function(e){return!0===e||!1===e},isObject:Jd,isPlainObject:$d,isReadableStream:sh,isRequest:lh,isResponse:uh,isHeaders:ch,isUndefined:Kd,isDate:eh,isFile:th,isBlob:nh,isRegExp:Ch,isFunction:Yd,isStream:function(e){return Jd(e)&&Yd(e.pipe)},isURLSearchParams:rh,isTypedArray:gh,isFileList:ih,forEach:dh,merge:function e(){for(var t=vh(this)&&this||{},n=t.caseless,i={},r=function(t,r){var o=n&&hh(i,r)||r;$d(i[o])&&$d(t)?i[o]=e(i[o],t):$d(t)?i[o]=e({},t):Zd(t)?i[o]=t.slice():i[o]=t},o=0,a=arguments.length;o<a;o++)arguments[o]&&dh(arguments[o],r);return i},extend:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.allOwnKeys;return dh(t,(function(t,i){n&&Yd(t)?e[i]=Hd(t,n):e[i]=t}),{allOwnKeys:r}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,i){var r,o,a,s={};if(t=t||{},null==e)return t;do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a=r[o],i&&!i(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&zd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:_d,kindOfTest:Ud,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;if(Zd(e))return e;var t=e.length;if(!Xd(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,i=(e&&e[Symbol.iterator]).call(e);(n=i.next())&&!n.done;){var r=n.value;t.call(e,r[0],r[1])}},matchAll:function(e,t){for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:mh,hasOwnProperty:yh,hasOwnProp:yh,reduceDescriptors:wh,freezeMethods:function(e){wh(e,(function(t,n){if(Yd(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];Yd(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},i=function(e){e.forEach((function(e){n[e]=!0}))};return Zd(e)?i(e):i(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:hh,global:fh,isContextDefined:vh,ALPHABET:bh,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bh.ALPHA_DIGIT,n="",i=t.length;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&Yd(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,i){if(Jd(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;var r=Zd(n)?[]:{};return dh(n,(function(t,n){var o=e(t,i+1);!Kd(o)&&(r[n]=o)})),t[i]=void 0,r}}return n}(e,0)},isAsyncFn:Rh,isThenable:function(e){return e&&(Jd(e)||Yd(e))&&Yd(e.then)&&Yd(e.catch)}};function Fh(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}Eh.inherits(Fh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Eh.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ph=Fh.prototype,Dh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Dh[e]={value:e}})),Object.defineProperties(Fh,Dh),Object.defineProperty(Ph,"isAxiosError",{value:!0}),Fh.from=function(e,t,n,i,r,o){var a=Object.create(Ph);return Eh.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Fh.call(a,e.message,t,n,i,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var xh=Fh;function Mh(e){return Eh.isPlainObject(e)||Eh.isArray(e)}function Ah(e){return Eh.endsWith(e,"[]")?e.slice(0,-2):e}function Th(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ah(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Lh=Eh.toFlatObject(Eh,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Ih=function(e,t,n){if(!Eh.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var i=(n=Eh.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Eh.isUndefined(t[e])}))).metaTokens,r=n.visitor||u,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Eh.isSpecCompliantForm(t);if(!Eh.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Eh.isDate(e))return e.toISOString();if(!s&&Eh.isBlob(e))throw new xh("Blob is not supported. Use a Buffer instead.");return Eh.isArrayBuffer(e)||Eh.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,r){var s=e;if(e&&!r&&"object"===typeof e)if(Eh.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Eh.isArray(e)&&function(e){return Eh.isArray(e)&&!e.some(Mh)}(e)||(Eh.isFileList(e)||Eh.endsWith(n,"[]"))&&(s=Eh.toArray(e)))return n=Ah(n),s.forEach((function(e,i){!Eh.isUndefined(e)&&null!==e&&t.append(!0===a?Th([n],i,o):null===a?n:n+"[]",l(e))})),!1;return!!Mh(e)||(t.append(Th(r,n,o),l(e)),!1)}var c=[],d=Object.assign(Lh,{defaultVisitor:u,convertValue:l,isVisitable:Mh});if(!Eh.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!Eh.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),Eh.forEach(n,(function(n,o){!0===(!(Eh.isUndefined(n)||null===n)&&r.call(t,n,Eh.isString(o)?o.trim():o,i,d))&&e(n,i?i.concat(o):[o])})),c.pop()}}(e),t};function Oh(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Nh(e,t){this._pairs=[],e&&Ih(e,this,t)}var Gh=Nh.prototype;Gh.append=function(e,t){this._pairs.push([e,t])},Gh.toString=function(e){var t=e?function(t){return e.call(this,t,Oh)}:Oh;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Bh=Nh;function Hh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vh(e,t,n){if(!t)return e;var i,r=n&&n.encode||Hh,o=n&&n.serialize;if(i=o?o(t,n):Eh.isURLSearchParams(t)?t.toString():new Bh(t,n).toString(r)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var Wh,zh=function(){function e(){C(this,e),this.handlers=[]}return k(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Eh.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),_h={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uh={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Bh,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},jh="undefined"!==typeof window&&"undefined"!==typeof document,Zh=(Wh="undefined"!==typeof navigator&&navigator.product,jh&&["ReactNative","NativeScript","NS"].indexOf(Wh)<0),Kh="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,qh=jh&&window.location.href||"http://localhost",Qh=y(y({},e),Uh);var Yh=function(e){function t(e,n,i,r){var o=e[r++];if("__proto__"===o)return!0;var a=Number.isFinite(+o),s=r>=e.length;return o=!o&&Eh.isArray(i)?i.length:o,s?(Eh.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):(i[o]&&Eh.isObject(i[o])||(i[o]=[]),t(e,n,i[o],r)&&Eh.isArray(i[o])&&(i[o]=function(e){var t,n,i={},r=Object.keys(e),o=r.length;for(t=0;t<o;t++)i[n=r[t]]=e[n];return i}(i[o])),!a)}if(Eh.isFormData(e)&&Eh.isFunction(e.entries)){var n={};return Eh.forEachEntry(e,(function(e,i){t(function(e){return Eh.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),i,n,0)})),n}return null};var Xh={transitional:_h,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,i=t.getContentType()||"",r=i.indexOf("application/json")>-1,o=Eh.isObject(e);if(o&&Eh.isHTMLForm(e)&&(e=new FormData(e)),Eh.isFormData(e))return r?JSON.stringify(Yh(e)):e;if(Eh.isArrayBuffer(e)||Eh.isBuffer(e)||Eh.isStream(e)||Eh.isFile(e)||Eh.isBlob(e)||Eh.isReadableStream(e))return e;if(Eh.isArrayBufferView(e))return e.buffer;if(Eh.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ih(e,new Qh.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Qh.isNode&&Eh.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Eh.isFileList(e))||i.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return Ih(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Eh.isString(e))try{return(t||JSON.parse)(e),Eh.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Xh.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(Eh.isResponse(e)||Eh.isReadableStream(e))return e;if(e&&Eh.isString(e)&&(n&&!this.responseType||i)){var r=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(r){if("SyntaxError"===o.name)throw xh.from(o,xh.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qh.classes.FormData,Blob:Qh.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Eh.forEach(["delete","get","head","post","put","patch"],(function(e){Xh.headers[e]={}}));var Jh=Xh,$h=Eh.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ef=Symbol("internals");function tf(e){return e&&String(e).trim().toLowerCase()}function nf(e){return!1===e||null==e?e:Eh.isArray(e)?e.map(nf):String(e)}function rf(e,t,n,i,r){return Eh.isFunction(i)?i.call(this,t,n):(r&&(t=n),Eh.isString(t)?Eh.isString(i)?-1!==t.indexOf(i):Eh.isRegExp(i)?i.test(t):void 0:void 0)}var of=function(e,t){function n(e){C(this,n),e&&this.set(e)}return k(n,[{key:"set",value:function(e,t,n){var i=this;function o(e,t,n){var r=tf(t);if(!r)throw new Error("header name must be a non-empty string");var o=Eh.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=nf(e))}var a=function(e,t){return Eh.forEach(e,(function(e,n){return o(e,n,t)}))};if(Eh.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Eh.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a(function(e){var t,n,i,r={};return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||r[t]&&$h[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r}(e),t);else if(Eh.isHeaders(e)){var s,l=x(e.entries());try{for(l.s();!(s=l.n()).done;){var u=(0,r.Z)(s.value,2),c=u[0];o(u[1],c,n)}}catch(Am){l.e(Am)}finally{l.f()}}else null!=e&&o(t,e,n);return this}},{key:"get",value:function(e,t){if(e=tf(e)){var n=Eh.findKey(this,e);if(n){var i=this[n];if(!t)return i;if(!0===t)return function(e){for(var t,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=i.exec(e);)n[t[1]]=t[2];return n}(i);if(Eh.isFunction(t))return t.call(this,i,n);if(Eh.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=tf(e)){var n=Eh.findKey(this,e);return!(!n||void 0===this[n]||t&&!rf(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,i=!1;function r(e){if(e=tf(e)){var r=Eh.findKey(n,e);!r||t&&!rf(0,n[r],r,t)||(delete n[r],i=!0)}}return Eh.isArray(e)?e.forEach(r):r(e),i}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,i=!1;n--;){var r=t[n];e&&!rf(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}},{key:"normalize",value:function(e){var t=this,n={};return Eh.forEach(this,(function(i,r){var o=Eh.findKey(n,r);if(o)return t[o]=nf(i),void delete t[r];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(r):String(r).trim();a!==r&&delete t[r],t[a]=nf(i),n[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Eh.forEach(this,(function(n,i){null!=n&&!1!==n&&(t[i]=e&&Eh.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,r.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[ef]=this[ef]={accessors:{}}).accessors,n=this.prototype;function i(e){var i=tf(e);t[i]||(!function(e,t){var n=Eh.toCamelCase(" "+t);["get","set","has"].forEach((function(i){Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return Eh.isArray(e)?e.forEach(i):i(e),this}}]),n}();of.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Eh.reduceDescriptors(of.prototype,(function(e,t){var n=e.value,i=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[i]=e}}})),Eh.freezeMethods(of);var af=of;function sf(e,t){var n=this||Jh,i=t||n,r=af.from(i.headers),o=i.data;return Eh.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function lf(e){return!(!e||!e.__CANCEL__)}function uf(e,t,n){xh.call(this,null==e?"canceled":e,xh.ERR_CANCELED,t,n),this.name="CanceledError"}Eh.inherits(uf,xh,{__CANCEL__:!0});var cf=uf;function df(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new xh("Request failed with status code "+n.status,[xh.ERR_BAD_REQUEST,xh.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var hf=function(e,t){e=e||10;var n,i=new Array(e),r=new Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),u=r[a];n||(n=l),i[o]=s,r[o]=l;for(var c=a,d=0;c!==o;)d+=i[c++],c%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),!(l-n<t)){var h=u&&l-u;return h?Math.round(1e3*d/h):void 0}}};var ff=function(e,t){var n=0,i=1e3/t,r=null;return function(){var t=arguments,o=!0===this,a=Date.now();if(o||a-n>i)return r&&(clearTimeout(r),r=null),n=a,e.apply(null,arguments);r||(r=setTimeout((function(){return r=null,n=Date.now(),e.apply(null,t)}),i-(a-n)))}},vf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0,r=hf(50,250);return ff((function(n){var o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-i,l=r(s);i=o;var u={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a};u[t?"download":"upload"]=!0,e(u)}),n)},pf=n(3878),gf=n(9199),mf=n(5267);var yf=Qh.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=Eh.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Cf=Qh.hasStandardBrowserEnv?{write:function(e,t,n,i,r,o){var a=[e+"="+encodeURIComponent(t)];Eh.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Eh.isString(i)&&a.push("path="+i),Eh.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function wf(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Sf=function(e){return e instanceof af?y({},e):e};function kf(e,t){t=t||{};var n={};function i(e,t,n){return Eh.isPlainObject(e)&&Eh.isPlainObject(t)?Eh.merge.call({caseless:n},e,t):Eh.isPlainObject(t)?Eh.merge({},t):Eh.isArray(t)?t.slice():t}function r(e,t,n){return Eh.isUndefined(t)?Eh.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function o(e,t){if(!Eh.isUndefined(t))return i(void 0,t)}function a(e,t){return Eh.isUndefined(t)?Eh.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return r(Sf(e),Sf(t),!0)}};return Eh.forEach(Object.keys(Object.assign({},e,t)),(function(i){var o=l[i]||r,a=o(e[i],t[i],i);Eh.isUndefined(a)&&o!==s||(n[i]=a)})),n}var bf=function(e){var t,n=kf({},e),i=n.data,r=n.withXSRFToken,a=n.xsrfHeaderName,s=n.xsrfCookieName,l=n.headers,u=n.auth;if(n.headers=l=af.from(l),n.url=Vh(wf(n.baseURL,n.url),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Eh.isFormData(i))if(Qh.hasStandardBrowserEnv||Qh.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(t=l.getContentType())){var c=function(e){return(0,pf.Z)(e)||(0,gf.Z)(e)||(0,D.Z)(e)||(0,mf.Z)()}(t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[]),d=c[0],h=c.slice(1);l.setContentType([d||"multipart/form-data"].concat((0,o.Z)(h)).join("; "))}if(Qh.hasStandardBrowserEnv&&(r&&Eh.isFunction(r)&&(r=r(n)),r||!1!==r&&yf(n.url))){var f=a&&s&&Cf.read(s);f&&l.set(a,f)}return n},Rf="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var i,r=bf(e),o=r.data,a=af.from(r.headers).normalize(),s=r.responseType;function l(){r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}var u=new XMLHttpRequest;function c(){if(u){var i=af.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());df((function(e){t(e),l()}),(function(e){n(e),l()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:i,config:e,request:u}),u=null}}u.open(r.method.toUpperCase(),r.url,!0),u.timeout=r.timeout,"onloadend"in u?u.onloadend=c:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(c)},u.onabort=function(){u&&(n(new xh("Request aborted",xh.ECONNABORTED,r,u)),u=null)},u.onerror=function(){n(new xh("Network Error",xh.ERR_NETWORK,r,u)),u=null},u.ontimeout=function(){var e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",t=r.transitional||_h;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new xh(e,t.clarifyTimeoutError?xh.ETIMEDOUT:xh.ECONNABORTED,r,u)),u=null},void 0===o&&a.setContentType(null),"setRequestHeader"in u&&Eh.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Eh.isUndefined(r.withCredentials)||(u.withCredentials=!!r.withCredentials),s&&"json"!==s&&(u.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&u.addEventListener("progress",vf(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",vf(r.onUploadProgress)),(r.cancelToken||r.signal)&&(i=function(t){u&&(n(!t||t.type?new cf(null,e,u):t),u.abort(),u=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));var d=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);d&&-1===Qh.protocols.indexOf(d)?n(new xh("Unsupported protocol "+d+":",xh.ERR_BAD_REQUEST,e)):u.send(o||null)}))},Ef=function(e,t){var n,i=new AbortController,r=function(e){if(!n){n=!0,a();var t=e instanceof Error?e:this.reason;i.abort(t instanceof xh?t:new cf(t instanceof Error?t.message:t))}},o=t&&setTimeout((function(){r(new xh("timeout ".concat(t," of ms exceeded"),xh.ETIMEDOUT))}),t),a=function(){e&&(o&&clearTimeout(o),o=null,e.forEach((function(e){e&&(e.removeEventListener?e.removeEventListener("abort",r):e.unsubscribe(r))})),e=null)};e.forEach((function(e){return e&&e.addEventListener&&e.addEventListener("abort",r)}));var s=i.signal;return s.unsubscribe=a,[s,function(){o&&clearTimeout(o),o=null}]};function Ff(e,t){this.v=e,this.k=t}function Pf(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof Ff;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return i(l,n);n=e[l](n).value}r(o.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function Df(e){return new Ff(e,0)}function xf(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise((function(n){n(e[t](i))})),{done:!1,value:new Ff(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function Mf(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new Af(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Af(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Af=function(e){this.s=e,this.n=e.next},Af.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Af(e)}Pf.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Pf.prototype.next=function(e){return this._invoke("next",e)},Pf.prototype.throw=function(e){return this._invoke("throw",e)},Pf.prototype.return=function(e){return this._invoke("return",e)};var Tf,Lf,If=M.mark((function e(t,n){var i,r,o;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.byteLength,n&&!(i<n)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:r=0;case 6:if(!(r<i)){e.next=13;break}return o=r+n,e.next=10,t.slice(r,o);case 10:r=o,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),Of=function(){var e,t=(e=M.mark((function e(t,n,i){var r,o,a,s,l,u;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,o=!1,e.prev=2,s=Mf(t);case 4:return e.next=6,Df(s.next());case 6:if(!(r=!(l=e.sent).done)){e.next=27;break}if(u=l.value,e.t0=xf,e.t1=Mf,e.t2=If,!ArrayBuffer.isView(u)){e.next=15;break}e.t3=u,e.next=18;break;case 15:return e.next=17,Df(i(String(u)));case 17:e.t3=e.sent;case 18:return e.t4=e.t3,e.t5=n,e.t6=(0,e.t2)(e.t4,e.t5),e.t7=(0,e.t1)(e.t6),e.t8=Df,e.delegateYield((0,e.t0)(e.t7,e.t8),"t9",24);case 24:r=!1,e.next=4;break;case 27:e.next=33;break;case 29:e.prev=29,e.t10=e.catch(2),o=!0,a=e.t10;case 33:if(e.prev=33,e.prev=34,!r||null==s.return){e.next=38;break}return e.next=38,Df(s.return());case 38:if(e.prev=38,!o){e.next=41;break}throw a;case 41:return e.finish(38);case 42:return e.finish(33);case 43:case"end":return e.stop()}}),e,null,[[2,29,33,43],[34,,38,42]])})),function(){return new Pf(e.apply(this,arguments))});return function(e,n,i){return t.apply(this,arguments)}}(),Nf=function(e,t,n,i,r){var o=Of(e,t,r),a=0;return new ReadableStream({type:"bytes",pull:function(e){return R(M.mark((function t(){var r,s,l,u;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.next();case 2:if(r=t.sent,s=r.done,l=r.value,!s){t.next=9;break}return e.close(),i(),t.abrupt("return");case 9:u=l.byteLength,n&&n(a+=u),e.enqueue(new Uint8Array(l));case 12:case"end":return t.stop()}}),t)})))()},cancel:function(e){return i(e),o.return()}},{highWaterMark:2})},Gf=function(e,t){var n=null!=e;return function(i){return setTimeout((function(){return t({lengthComputable:n,total:e,loaded:i})}))}},Bf="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Hf=Bf&&"function"===typeof ReadableStream,Vf=Bf&&("function"===typeof TextEncoder?(Tf=new TextEncoder,function(e){return Tf.encode(e)}):function(){var e=R(M.mark((function e(t){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Wf=Hf&&function(){var e=!1,t=new Request(Qh.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}(),zf=Hf&&!!function(){try{return Eh.isReadableStream(new Response("").body)}catch(Am){}}(),_f={stream:zf&&function(e){return e.body}};Bf&&(Lf=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!_f[e]&&(_f[e]=Eh.isFunction(Lf[e])?function(t){return t[e]()}:function(t,n){throw new xh("Response type '".concat(e,"' is not supported"),xh.ERR_NOT_SUPPORT,n)})})));var Uf=function(){var e=R(M.mark((function e(t){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!Eh.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!Eh.isSpecCompliantForm(t)){e.next=8;break}return e.next=7,new Request(t).arrayBuffer();case 7:case 14:return e.abrupt("return",e.sent.byteLength);case 8:if(!Eh.isArrayBufferView(t)){e.next=10;break}return e.abrupt("return",t.byteLength);case 10:if(Eh.isURLSearchParams(t)&&(t+=""),!Eh.isString(t)){e.next=15;break}return e.next=14,Vf(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jf=function(){var e=R(M.mark((function e(t,n){var i;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eh.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==i?Uf(n):i);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zf=Bf&&function(){var e=R(M.mark((function e(t){var n,i,o,a,s,l,u,c,d,h,f,v,p,g,m,C,w,S,k,b,R,E,F,P,D,x,A,T,L;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=bf(t),i=n.url,o=n.method,a=n.data,s=n.signal,l=n.cancelToken,u=n.timeout,c=n.onDownloadProgress,d=n.onUploadProgress,h=n.responseType,f=n.headers,v=n.withCredentials,p=void 0===v?"same-origin":v,g=n.fetchOptions,h=h?(h+"").toLowerCase():"text",m=s||l||u?Ef([s,l],u):[],C=(0,r.Z)(m,2),w=C[0],S=C[1],R=function(){!k&&setTimeout((function(){w&&w.unsubscribe()})),k=!0},e.prev=4,e.t0=d&&Wf&&"get"!==o&&"head"!==o,!e.t0){e.next=11;break}return e.next=9,jf(f,a);case 9:e.t1=E=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}F=new Request(i,{method:"POST",body:a,duplex:"half"}),Eh.isFormData(a)&&(P=F.headers.get("content-type"))&&f.setContentType(P),F.body&&(a=Nf(F.body,65536,Gf(E,vf(d)),null,Vf));case 15:return Eh.isString(p)||(p=p?"cors":"omit"),b=new Request(i,y(y({},g),{},{signal:w,method:o.toUpperCase(),headers:f.normalize().toJSON(),body:a,duplex:"half",withCredentials:p})),e.next=19,fetch(b);case 19:return D=e.sent,x=zf&&("stream"===h||"response"===h),zf&&(c||x)&&(A={},["status","statusText","headers"].forEach((function(e){A[e]=D[e]})),T=Eh.toFiniteNumber(D.headers.get("content-length")),D=new Response(Nf(D.body,65536,c&&Gf(T,vf(c,!0)),x&&R,Vf),A)),h=h||"text",e.next=25,_f[Eh.findKey(_f,h)||"text"](D,t);case 25:return L=e.sent,!x&&R(),S&&S(),e.next=30,new Promise((function(e,n){df(e,n,{data:L,headers:af.from(D.headers),status:D.status,statusText:D.statusText,config:t,request:b})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),R(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new xh("Network Error",xh.ERR_NETWORK,t,b),{cause:e.t2.cause||e.t2});case 38:throw xh.from(e.t2,e.t2&&e.t2.code,t,b);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),Kf={http:null,xhr:Rf,fetch:Zf};Eh.forEach(Kf,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var qf=function(e){return"- ".concat(e)},Qf=function(e){return Eh.isFunction(e)||null===e||!1===e},Yf=function(e){for(var t,n,i=(e=Eh.isArray(e)?e:[e]).length,o={},a=0;a<i;a++){var s=void 0;if(n=t=e[a],!Qf(t)&&void 0===(n=Kf[(s=String(t)).toLowerCase()]))throw new xh("Unknown adapter '".concat(s,"'"));if(n)break;o[s||"#"+a]=n}if(!n){var l=Object.entries(o).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return"adapter ".concat(n," ")+(!1===i?"is not supported by the environment":"is not available in the build")})),u=i?l.length>1?"since :\n"+l.map(qf).join("\n"):" "+qf(l[0]):"as no adapter specified";throw new xh("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n};function Xf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cf(null,e)}function Jf(e){return Xf(e),e.headers=af.from(e.headers),e.data=sf.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yf(e.adapter||Jh.adapter)(e).then((function(t){return Xf(e),t.data=sf.call(e,e.transformResponse,t),t.headers=af.from(t.headers),t}),(function(t){return lf(t)||(Xf(e),t&&t.response&&(t.response.data=sf.call(e,e.transformResponse,t.response),t.response.headers=af.from(t.response.headers))),Promise.reject(t)}))}var $f="1.7.2",ev={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){ev[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var tv={};ev.transitional=function(e,t,n){function i(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new xh(i(r," has been removed"+(t?" in "+t:"")),xh.ERR_DEPRECATED);return t&&!tv[r]&&(tv[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};var nv={assertOptions:function(e,t,n){if("object"!==typeof e)throw new xh("options must be an object",xh.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new xh("option "+o+" must be "+l,xh.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new xh("Unknown option "+o,xh.ERR_BAD_OPTION)}},validators:ev},iv=nv.validators,rv=function(){function e(t){C(this,e),this.defaults=t,this.interceptors={request:new zh,response:new zh}}return k(e,[{key:"request",value:function(){var e=R(M.mark((function e(t,n){var i,r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error,r=i.stack?i.stack.replace(/^.+\n/,""):"";try{e.t0.stack?r&&!String(e.t0.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+r):e.t0.stack=r}catch(o){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=kf(this.defaults,t),i=n.transitional,r=n.paramsSerializer,o=n.headers;void 0!==i&&nv.assertOptions(i,{silentJSONParsing:iv.transitional(iv.boolean),forcedJSONParsing:iv.transitional(iv.boolean),clarifyTimeoutError:iv.transitional(iv.boolean)},!1),null!=r&&(Eh.isFunction(r)?t.paramsSerializer={serialize:r}:nv.assertOptions(r,{encode:iv.function,serialize:iv.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=o&&Eh.merge(o.common,o[t.method]);o&&Eh.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=af.concat(a,o);var s=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var d,h=0;if(!l){var f=[Jf.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,c),d=f.length,u=Promise.resolve(t);h<d;)u=u.then(f[h++],f[h++]);return u}d=s.length;var v=t;for(h=0;h<d;){var p=s[h++],g=s[h++];try{v=p(v)}catch(m){g.call(this,m);break}}try{u=Jf.call(this,v)}catch(m){return Promise.reject(m)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}},{key:"getUri",value:function(e){return Vh(wf((e=kf(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Eh.forEach(["delete","get","head","options"],(function(e){rv.prototype[e]=function(t,n){return this.request(kf(n||{},{method:e,url:t,data:(n||{}).data}))}})),Eh.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(kf(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}rv.prototype[e]=t(),rv.prototype[e+"Form"]=t(!0)}));var ov=rv,av=function(){function e(t){if(C(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var i=this;this.promise.then((function(e){if(i._listeners){for(var t=i._listeners.length;t-- >0;)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},t((function(e,t,r){i.reason||(i.reason=new cf(e,t,r),n(i.reason))}))}return k(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}();var sv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sv).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];sv[i]=n}));var lv=sv;var uv=function e(t){var n=new ov(t),i=Hd(ov.prototype.request,n);return Eh.extend(i,ov.prototype,n,{allOwnKeys:!0}),Eh.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(kf(t,n))},i}(Jh);uv.Axios=ov,uv.CanceledError=cf,uv.CancelToken=av,uv.isCancel=lf,uv.VERSION=$f,uv.toFormData=Ih,uv.AxiosError=xh,uv.Cancel=uv.CanceledError,uv.all=function(e){return Promise.all(e)},uv.spread=function(e){return function(t){return e.apply(null,t)}},uv.isAxiosError=function(e){return Eh.isObject(e)&&!0===e.isAxiosError},uv.mergeConfig=kf,uv.AxiosHeaders=af,uv.formToJSON=function(e){return Yh(Eh.isHTMLForm(e)?new FormData(e):e)},uv.getAdapter=Yf,uv.HttpStatusCode=lv,uv.default=uv;var cv=uv;function dv(){return hv.apply(this,arguments)}function hv(){return(hv=R(A().mark((function e(){var t,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cv("https://myradio24.com//users/jezuch/status.json");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function fv(e,t){return vv.apply(this,arguments)}function vv(){return(vv=R(A().mark((function e(t,i){var r,o,a,s,l,u;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cv("https://ws.audioscrobbler.com/2.0/?method=track.getInfo&api_key= f4d93b703b4b02e3b4040a313bf98512&artist=".concat(t,"&track=").concat(i,"&format=json"));case 2:return l=e.sent,u=null!==(r=null===(o=l.data)||void 0===o||null===(a=o.track)||void 0===a||null===(s=a.album)||void 0===s?void 0:s.image[2]["#text"])&&void 0!==r?r:n(9984),e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pv=n(7462);function gv(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=gv(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}var mv=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=gv(e))&&(i&&(i+=" "),i+=t);return i},yv=n(4778),Cv=n(104),wv=n(8519),Sv=n(8809),kv=n(5218);function bv(e){return 0===Object.keys(e).length}var Rv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.useContext(kv.T);return!n||bv(n)?e:n},Ev=(0,Sv.Z)();var Fv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev;return Rv(e)},Pv=["className","component"];var Dv=function(e){return e},xv=function(){var e=Dv;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Dv}}}(),Mv=n(6187),Av=n(7093),Tv=n(7416);function Lv(e,t){var n;return(0,pv.Z)({toolbar:(n={minHeight:56},(0,g.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,g.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var Iv=n(4131),Ov={black:"#000",white:"#fff"},Nv={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Gv={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Bv={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Vv={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Wv={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},zv={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_v=["mode","contrastThreshold","tonalOffset"],Uv={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ov.white,default:Ov.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jv={text:{primary:Ov.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ov.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Zv(e,t,n,i){var r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Iv.$n)(e.main,r):"dark"===t&&(e.dark=(0,Iv._j)(e.main,o)))}function Kv(e){var t=e.mode,n=void 0===t?"light":t,i=e.contrastThreshold,r=void 0===i?3:i,o=e.tonalOffset,a=void 0===o?.2:o,s=(0,F.Z)(e,_v),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Vv[200],light:Vv[50],dark:Vv[400]}:{main:Vv[700],light:Vv[400],dark:Vv[800]}}(n),u=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gv[200],light:Gv[50],dark:Gv[400]}:{main:Gv[500],light:Gv[300],dark:Gv[700]}}(n),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Bv[500],light:Bv[300],dark:Bv[700]}:{main:Bv[700],light:Bv[400],dark:Bv[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Wv[400],light:Wv[300],dark:Wv[700]}:{main:Wv[700],light:Wv[500],dark:Wv[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:zv[400],light:zv[300],dark:zv[700]}:{main:zv[800],light:zv[500],dark:zv[900]}}(n),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Hv[400],light:Hv[300],dark:Hv[700]}:{main:"#ed6c02",light:Hv[500],dark:Hv[900]}}(n);function v(e){return(0,Iv.mi)(e,jv.text.primary)>=r?jv.text.primary:Uv.text.primary}var p=function(e){var t=e.color,n=e.name,i=e.mainShade,r=void 0===i?500:i,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,u=void 0===l?700:l;if(!(t=(0,pv.Z)({},t)).main&&t[r]&&(t.main=t[r]),!t.hasOwnProperty("main"))throw new Error((0,Mv.Z)(11,n?" (".concat(n,")"):"",r));if("string"!==typeof t.main)throw new Error((0,Mv.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Zv(t,"light",s,a),Zv(t,"dark",u,a),t.contrastText||(t.contrastText=v(t.main)),t},g={dark:jv,light:Uv};return(0,Av.Z)((0,pv.Z)({common:(0,pv.Z)({},Ov),mode:n,primary:p({color:l,name:"primary"}),secondary:p({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:c,name:"error"}),warning:p({color:f,name:"warning"}),info:p({color:d,name:"info"}),success:p({color:h,name:"success"}),grey:Nv,contrastThreshold:r,getContrastText:v,augmentColor:p,tonalOffset:a},g[n]),s)}var qv=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Qv(e){return Math.round(1e5*e)/1e5}var Yv={textTransform:"uppercase"},Xv='"Roboto", "Helvetica", "Arial", sans-serif';function Jv(e,t){var n="function"===typeof t?t(e):t,i=n.fontFamily,r=void 0===i?Xv:i,o=n.fontSize,a=void 0===o?14:o,s=n.fontWeightLight,l=void 0===s?300:s,u=n.fontWeightRegular,c=void 0===u?400:u,d=n.fontWeightMedium,h=void 0===d?500:d,f=n.fontWeightBold,v=void 0===f?700:f,p=n.htmlFontSize,g=void 0===p?16:p,m=n.allVariants,y=n.pxToRem,C=(0,F.Z)(n,qv);var w=a/14,S=y||function(e){return"".concat(e/g*w,"rem")},k=function(e,t,n,i,o){return(0,pv.Z)({fontFamily:r,fontWeight:e,fontSize:S(t),lineHeight:n},r===Xv?{letterSpacing:"".concat(Qv(i/t),"em")}:{},o,m)},b={h1:k(l,96,1.167,-1.5),h2:k(l,60,1.2,-.5),h3:k(c,48,1.167,0),h4:k(c,34,1.235,.25),h5:k(c,24,1.334,0),h6:k(h,20,1.6,.15),subtitle1:k(c,16,1.75,.15),subtitle2:k(h,14,1.57,.1),body1:k(c,16,1.5,.15),body2:k(c,14,1.43,.15),button:k(h,14,1.75,.4,Yv),caption:k(c,12,1.66,.4),overline:k(c,12,2.66,1,Yv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,Av.Z)((0,pv.Z)({htmlFontSize:g,pxToRem:S,fontFamily:r,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:h,fontWeightBold:v},b),C,{clone:!1})}function $v(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ep=["none",$v(0,2,1,-1,0,1,1,0,0,1,3,0),$v(0,3,1,-2,0,2,2,0,0,1,5,0),$v(0,3,3,-2,0,3,4,0,0,1,8,0),$v(0,2,4,-1,0,4,5,0,0,1,10,0),$v(0,3,5,-1,0,5,8,0,0,1,14,0),$v(0,3,5,-1,0,6,10,0,0,1,18,0),$v(0,4,5,-2,0,7,10,1,0,2,16,1),$v(0,5,5,-3,0,8,10,1,0,3,14,2),$v(0,5,6,-3,0,9,12,1,0,3,16,2),$v(0,6,6,-3,0,10,14,1,0,4,18,3),$v(0,6,7,-4,0,11,15,1,0,4,20,3),$v(0,7,8,-4,0,12,17,2,0,5,22,4),$v(0,7,8,-4,0,13,19,2,0,5,24,4),$v(0,7,9,-4,0,14,21,2,0,5,26,4),$v(0,8,9,-5,0,15,22,2,0,6,28,5),$v(0,8,10,-5,0,16,24,2,0,6,30,5),$v(0,8,11,-5,0,17,26,2,0,6,32,5),$v(0,9,11,-5,0,18,28,2,0,7,34,6),$v(0,9,12,-6,0,19,29,2,0,7,36,6),$v(0,10,13,-6,0,20,31,3,0,8,38,7),$v(0,10,13,-6,0,21,33,3,0,8,40,7),$v(0,10,14,-6,0,22,35,3,0,8,42,7),$v(0,11,14,-7,0,23,36,3,0,9,44,8),$v(0,11,15,-7,0,24,38,3,0,9,46,8)],tp=["duration","easing","delay"],np={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ip={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rp(e){return"".concat(Math.round(e),"ms")}function op(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function ap(e){var t=(0,pv.Z)({},np,e.easing),n=(0,pv.Z)({},ip,e.duration);return(0,pv.Z)({getAutoHeightDuration:op,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.duration,o=void 0===r?n.standard:r,a=i.easing,s=void 0===a?t.easeInOut:a,l=i.delay,u=void 0===l?0:l;(0,F.Z)(i,tp);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:rp(o)," ").concat(s," ").concat("string"===typeof u?u:rp(u))})).join(",")}},e,{easing:t,duration:n})}var sp={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},lp=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function up(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,i=e.palette,r=void 0===i?{}:i,o=e.transitions,a=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,u=(0,F.Z)(e,lp);if(e.vars)throw new Error((0,Mv.Z)(18));var c=Kv(r),d=(0,Sv.Z)(e),h=(0,Av.Z)(d,{mixins:Lv(d.breakpoints,n),palette:c,shadows:ep.slice(),typography:Jv(c,l),transitions:ap(a),zIndex:(0,pv.Z)({},sp)});h=(0,Av.Z)(h,u);for(var f=arguments.length,v=new Array(f>1?f-1:0),p=1;p<f;p++)v[p-1]=arguments[p];return(h=v.reduce((function(e,t){return(0,Av.Z)(e,t)}),h)).unstable_sxConfig=(0,pv.Z)({},Tv.Z,null==u?void 0:u.unstable_sxConfig),h.unstable_sx=function(e){return(0,Cv.Z)({sx:e,theme:this})},h}var cp=up,dp="$$material",hp={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i=hp[t];return i?"".concat(n,"-").concat(i):"".concat(xv.generate(e),"-").concat(t)}function vp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=fp(e,t,n)})),i}var pp=vp("MuiBox",["root"]),gp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.themeId,i=e.defaultTheme,r=e.defaultClassName,o=void 0===r?"MuiBox-root":r,a=e.generateClassName,s=(0,yv.default)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(Cv.Z),l=t.forwardRef((function(e,t){var r=Fv(i),l=(0,wv.Z)(e),u=l.className,c=l.component,d=void 0===c?"div":c,h=(0,F.Z)(l,Pv);return(0,Nd.jsx)(s,(0,pv.Z)({as:d,ref:t,className:mv(u,a?a(o):o),theme:n&&r[n]||r},h))}));return l}({themeId:dp,defaultTheme:cp(),defaultClassName:pp.root,generateClassName:xv.generate}),mp=gp;function yp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Cp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i={};return Object.keys(e).forEach((function(r){i[r]=e[r].reduce((function(e,i){if(i){var r=t(i);""!==r&&e.push(r),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}var wp=n(2554),Sp=n(1122).Z;function kp(e,t){var n=(0,pv.Z)({},t);return Object.keys(e).forEach((function(i){if(i.toString().match(/^(components|slots)$/))n[i]=(0,pv.Z)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){var r=e[i]||{},o=t[i];n[i]={},o&&Object.keys(o)?r&&Object.keys(r)?(n[i]=(0,pv.Z)({},o),Object.keys(r).forEach((function(e){n[i][e]=kp(r[e],o[e])}))):n[i]=o:n[i]=r}else void 0===n[i]&&(n[i]=e[i])})),n}var bp=t.createContext(void 0);function Rp(e){return function(e){var t=e.theme,n=e.name,i=e.props;if(!t||!t.components||!t.components[n])return i;var r=t.components[n];return r.defaultProps?kp(r.defaultProps,i):r.styleOverrides||r.variants?i:kp(r,i)}({props:e.props,name:e.name,theme:{components:t.useContext(bp)}})}function Ep(e){return Rp(e)}var Fp=n(7012),Pp=cp();var Dp=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},xp=function(e){return Dp(e)&&"classes"!==e},Mp=(0,Fp.ZP)({themeId:dp,defaultTheme:Pp,rootShouldForwardProp:xp});function Ap(e){return fp("MuiCircularProgress",e)}vp("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var Tp,Lp,Ip,Op,Np,Gp,Bp,Hp,Vp=["className","color","disableShrink","size","style","thickness","value","variant"],Wp=44,zp=(0,wp.F4)(Np||(Np=Tp||(Tp=yp(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),_p=(0,wp.F4)(Gp||(Gp=Lp||(Lp=yp(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),Up=Mp("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(Sp(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,pv.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,wp.iv)(Bp||(Bp=Ip||(Ip=yp(["\n      animation: "," 1.4s linear infinite;\n    "]))),zp)})),jp=Mp("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),Zp=Mp("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(Sp(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return(0,pv.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&(0,wp.iv)(Hp||(Hp=Op||(Op=yp(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),_p)})),Kp=t.forwardRef((function(e,t){var n=Ep({props:e,name:"MuiCircularProgress"}),i=n.className,r=n.color,o=void 0===r?"primary":r,a=n.disableShrink,s=void 0!==a&&a,l=n.size,u=void 0===l?40:l,c=n.style,d=n.thickness,h=void 0===d?3.6:d,f=n.value,v=void 0===f?0:f,p=n.variant,g=void 0===p?"indeterminate":p,m=(0,F.Z)(n,Vp),y=(0,pv.Z)({},n,{color:o,disableShrink:s,size:u,thickness:h,value:v,variant:g}),C=function(e){var t=e.classes,n=e.variant,i=e.color,r=e.disableShrink;return Cp({root:["root",n,"color".concat(Sp(i))],svg:["svg"],circle:["circle","circle".concat(Sp(n)),r&&"circleDisableShrink"]},Ap,t)}(y),w={},S={},k={};if("determinate"===g){var b=2*Math.PI*((Wp-h)/2);w.strokeDasharray=b.toFixed(3),k["aria-valuenow"]=Math.round(v),w.strokeDashoffset="".concat(((100-v)/100*b).toFixed(3),"px"),S.transform="rotate(-90deg)"}return(0,Nd.jsx)(Up,(0,pv.Z)({className:mv(C.root,i),style:(0,pv.Z)({width:u,height:u},S,c),ownerState:y,ref:t,role:"progressbar"},k,m,{children:(0,Nd.jsx)(jp,{className:C.svg,ownerState:y,viewBox:"".concat(22," ").concat(22," ").concat(Wp," ").concat(Wp),children:(0,Nd.jsx)(Zp,{className:C.circle,style:w,ownerState:y,cx:Wp,cy:Wp,r:(Wp-h)/2,fill:"none",strokeWidth:h})})}))})),qp=Kp;function Qp(e){var i=e.playlist,o=(0,t.useState)({songtitle:""}),a=(0,r.Z)(o,2),s=a[0],l=a[1],u=(0,t.useState)(!0),c=(0,r.Z)(u,2),d=c[0],h=c[1];return(0,t.useEffect)((function(){var e=setInterval(function(){var e=R(A().mark((function e(){var t,r,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dv();case 2:if(t=e.sent,console.log("\ud83d\ude80 ~ interval ~ data:",t),t.songtitle===s.songtitle){e.next=12;break}return e.next=7,fv(t.artist,t.songtitle);case 7:r=e.sent,o=y(y({},t),{},{normalImg:""===r?n(3914):r}),i(t.songs),l(o),h(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),5e3);return function(){clearInterval(e)}}),[i,s.songtitle]),(0,Nd.jsx)(mp,{children:d?(0,Nd.jsx)(qp,{}):(0,Nd.jsxs)(mp,{children:[(0,Nd.jsx)("img",{src:s.normalImg,alt:s.songtitle,width:174}),(0,Nd.jsx)("h2",{style:{fontSize:20},children:s.artist}),(0,Nd.jsx)("h3",{style:{fontSize:16},children:s.songtitle})]})})}var Yp=/^[a-z0-9]+(-[a-z0-9]+)*$/,Xp=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=e.split(":");if("@"===e.slice(0,1)){if(r.length<2||r.length>3)return null;i=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){var o=r.pop(),a=r.pop(),s={provider:r.length>0?r[0]:i,prefix:a,name:o};return t&&!Jp(s)?null:s}var l=r[0],u=l.split("-");if(u.length>1){var c={provider:i,prefix:u.shift(),name:u.join("-")};return t&&!Jp(c)?null:c}if(n&&""===i){var d={provider:i,prefix:"",name:l};return t&&!Jp(d,n)?null:d}return null},Jp=function(e,t){return!!e&&!(""!==e.provider&&!e.provider.match(Yp)||!(t&&""===e.prefix||e.prefix.match(Yp))||!e.name.match(Yp))},$p=Object.freeze({left:0,top:0,width:16,height:16}),eg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),tg=Object.freeze(y(y({},$p),eg)),ng=Object.freeze(y(y({},tg),{},{body:"",hidden:!1}));function ig(e,t){var n=function(e,t){var n={};!e.hFlip!==!t.hFlip&&(n.hFlip=!0),!e.vFlip!==!t.vFlip&&(n.vFlip=!0);var i=((e.rotate||0)+(t.rotate||0))%4;return i&&(n.rotate=i),n}(e,t);for(var i in ng)i in eg?i in e&&!(i in n)&&(n[i]=eg[i]):i in t?n[i]=t[i]:i in e&&(n[i]=e[i]);return n}function rg(e,t,n){var i=e.icons,r=e.aliases||Object.create(null),o={};function a(e){o=ig(i[e]||r[e],o)}return a(t),n.forEach(a),ig(e,o)}function og(e,t){var n=[];if("object"!==typeof e||"object"!==typeof e.icons)return n;e.not_found instanceof Array&&e.not_found.forEach((function(e){t(e,null),n.push(e)}));var i=function(e,t){var n=e.icons,i=e.aliases||Object.create(null),r=Object.create(null);return(t||Object.keys(n).concat(Object.keys(i))).forEach((function e(t){if(n[t])return r[t]=[];if(!(t in r)){r[t]=null;var o=i[t]&&i[t].parent,a=o&&e(o);a&&(r[t]=[o].concat(a))}return r[t]})),r}(e);for(var r in i){var o=i[r];o&&(t(r,rg(e,r,o)),n.push(r))}return n}var ag=y({provider:"",aliases:{},not_found:{}},$p);function sg(e,t){for(var n in t)if(n in e&&typeof e[n]!==typeof t[n])return!1;return!0}function lg(e){if("object"!==typeof e||null===e)return null;var t=e;if("string"!==typeof t.prefix||!e.icons||"object"!==typeof e.icons)return null;if(!sg(e,ag))return null;var n=t.icons;for(var i in n){var r=n[i];if(!i.match(Yp)||"string"!==typeof r.body||!sg(r,ng))return null}var o=t.aliases||Object.create(null);for(var a in o){var s=o[a],l=s.parent;if(!a.match(Yp)||"string"!==typeof l||!n[l]&&!o[l]||!sg(s,ng))return null}return t}var ug=Object.create(null);function cg(e,t){var n=ug[e]||(ug[e]=Object.create(null));return n[t]||(n[t]=function(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}(e,t))}function dg(e,t){return lg(t)?og(t,(function(t,n){n?e.icons[t]=n:e.missing.add(t)})):[]}var hg=!1;function fg(e){return"boolean"===typeof e&&(hg=e),hg}function vg(e){var t="string"===typeof e?Xp(e,!0,hg):e;if(t){var n=cg(t.provider,t.prefix),i=t.name;return n.icons[i]||(n.missing.has(i)?null:void 0)}}function pg(e,t){var n=Xp(e,!0,hg);return!!n&&function(e,t,n){try{if("string"===typeof n.body)return e.icons[t]=y({},n),!0}catch(Am){}return!1}(cg(n.provider,n.prefix),n.name,t)}var gg=Object.freeze({width:null,height:null}),mg=Object.freeze(y(y({},gg),eg)),yg=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Cg=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function wg(e,t,n){if(1===t)return e;if(n=n||100,"number"===typeof e)return Math.ceil(e*t*n)/n;if("string"!==typeof e)return e;var i=e.split(yg);if(null===i||!i.length)return e;for(var r=[],o=i.shift(),a=Cg.test(o);;){if(a){var s=parseFloat(o);isNaN(s)?r.push(o):r.push(Math.ceil(s*t*n)/n)}else r.push(o);if(void 0===(o=i.shift()))return r.join("");a=!a}}var Sg=/\sid="(\S+)"/g,kg="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),bg=0;function Rg(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg,i=[];t=Sg.exec(e);)i.push(t[1]);if(!i.length)return e;var r="suffix"+(16777216*Math.random()|Date.now()).toString(16);return i.forEach((function(t){var i="function"===typeof n?n(t):n+(bg++).toString(),o=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+i+r+"$3")})),e=e.replace(new RegExp(r,"g"),"")}var Eg=Object.create(null);function Fg(e,t){Eg[e]=t}function Pg(e){return Eg[e]||Eg[""]}function Dg(e){var t;if("string"===typeof e.resources)t=[e.resources];else if(!((t=e.resources)instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:!0===e.random,index:e.index||0,dataAfterTimeout:!1!==e.dataAfterTimeout}}for(var xg=Object.create(null),Mg=["https://api.simplesvg.com","https://api.unisvg.com"],Ag=[];Mg.length>0;)1===Mg.length||Math.random()>.5?Ag.push(Mg.shift()):Ag.push(Mg.pop());function Tg(e,t){var n=Dg(t);return null!==n&&(xg[e]=n,!0)}function Lg(e){return xg[e]}xg[""]=Dg({resources:["https://api.iconify.design"].concat(Ag)});var Ig=function(){var e;try{if("function"===typeof(e=fetch))return e}catch(Am){}}();var Og={prepare:function(e,t,n){var i=[],r=function(e,t){var n,i=Lg(e);if(!i)return 0;if(i.maxURL){var r=0;i.resources.forEach((function(e){var t=e;r=Math.max(r,t.length)}));var o=t+".json?icons=";n=i.maxURL-r-i.path.length-o.length}else n=0;return n}(e,t),o="icons",a={type:o,provider:e,prefix:t,icons:[]},s=0;return n.forEach((function(n,l){(s+=n.length+1)>=r&&l>0&&(i.push(a),a={type:o,provider:e,prefix:t,icons:[]},s=n.length),a.icons.push(n)})),i.push(a),i},send:function(e,t,n){if(Ig){var i=function(e){if("string"===typeof e){var t=Lg(e);if(t)return t.path}return"/"}(t.provider);switch(t.type){case"icons":var r=t.prefix,o=t.icons.join(",");i+=r+".json?"+new URLSearchParams({icons:o}).toString();break;case"custom":var a=t.uri;i+="/"===a.slice(0,1)?a.slice(1):a;break;default:return void n("abort",400)}var s=503;Ig(e+i).then((function(e){var t=e.status;if(200===t)return s=501,e.json();setTimeout((function(){n(function(e){return 404===e}(t)?"abort":"next",t)}))})).then((function(e){"object"===typeof e&&null!==e?setTimeout((function(){n("success",e)})):setTimeout((function(){404===e?n("abort",e):n("next",s)}))})).catch((function(){n("next",s)}))}else n("abort",424)}};function Ng(e,t){e.forEach((function(e){var n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter((function(e){return e.id!==t})))}))}var Gg=0;var Bg={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Hg(e,t,n,i){var r,o=e.resources.length,a=e.random?Math.floor(Math.random()*o):e.index;if(e.random){var s=e.resources.slice(0);for(r=[];s.length>1;){var l=Math.floor(Math.random()*s.length);r.push(s[l]),s=s.slice(0,l).concat(s.slice(l+1))}r=r.concat(s)}else r=e.resources.slice(a).concat(e.resources.slice(0,a));var u,c=Date.now(),d="pending",h=0,f=null,v=[],p=[];function g(){f&&(clearTimeout(f),f=null)}function m(){"pending"===d&&(d="aborted"),g(),v.forEach((function(e){"pending"===e.status&&(e.status="aborted")})),v=[]}function y(e,t){t&&(p=[]),"function"===typeof e&&p.push(e)}function C(){d="failed",p.forEach((function(e){e(void 0,u)}))}function w(){v.forEach((function(e){"pending"===e.status&&(e.status="aborted")})),v=[]}function S(){if("pending"===d){g();var i=r.shift();if(void 0===i)return v.length?void(f=setTimeout((function(){g(),"pending"===d&&(w(),C())}),e.timeout)):void C();var o={status:"pending",resource:i,callback:function(t,n){!function(t,n,i){var o="success"!==n;switch(v=v.filter((function(e){return e!==t})),d){case"pending":break;case"failed":if(o||!e.dataAfterTimeout)return;break;default:return}if("abort"===n)return u=i,void C();if(o)return u=i,void(v.length||(r.length?S():C()));if(g(),w(),!e.random){var a=e.resources.indexOf(t.resource);-1!==a&&a!==e.index&&(e.index=a)}d="completed",p.forEach((function(e){e(i)}))}(o,t,n)}};v.push(o),h++,f=setTimeout(S,e.rotate),n(i,t,o.callback)}}return"function"===typeof i&&p.push(i),setTimeout(S),function(){return{startTime:c,payload:t,status:d,queriesSent:h,queriesPending:v.length,subscribe:y,abort:m}}}function Vg(e){var t=y(y({},Bg),e),n=[];function i(){n=n.filter((function(e){return"pending"===e().status}))}var r={query:function(e,r,o){var a=Hg(t,e,r,(function(e,t){i(),o&&o(e,t)}));return n.push(a),a},find:function(e){return n.find((function(t){return e(t)}))||null},setIndex:function(e){t.index=e},getIndex:function(){return t.index},cleanup:i};return r}function Wg(){}var zg=Object.create(null);function _g(e,t,n){var i,r;if("string"===typeof e){var o=Pg(e);if(!o)return n(void 0,424),Wg;r=o.send;var a=function(e){if(!zg[e]){var t=Lg(e);if(!t)return;var n={config:t,redundancy:Vg(t)};zg[e]=n}return zg[e]}(e);a&&(i=a.redundancy)}else{var s=Dg(e);if(s){i=Vg(s);var l=Pg(e.resources?e.resources[0]:"");l&&(r=l.send)}}return i&&r?i.query(t,r,n)().abort:(n(void 0,424),Wg)}var Ug="iconify2",jg="iconify",Zg="iconify-count",Kg="iconify-version",qg=36e5;function Qg(e,t){try{return e.getItem(t)}catch(Am){}}function Yg(e,t,n){try{return e.setItem(t,n),!0}catch(Am){}}function Xg(e,t){try{e.removeItem(t)}catch(Am){}}function Jg(e,t){return Yg(e,Zg,t.toString())}function $g(e){return parseInt(Qg(e,Zg))||0}var em={local:!0,session:!0},tm={local:new Set,session:new Set},nm=!1;var im="undefined"===typeof window?{}:window;function rm(e){var t=e+"Storage";try{if(im&&im[t]&&"number"===typeof im[t].length)return im[t]}catch(Am){}em[e]=!1}function om(e,t){var n=rm(e);if(n){var i=Qg(n,Kg);if(i!==Ug){if(i)for(var r=$g(n),o=0;o<r;o++)Xg(n,jg+o.toString());return Yg(n,Kg,Ug),void Jg(n,0)}for(var a=Math.floor(Date.now()/qg)-168,s=function(e){var i=jg+e.toString(),r=Qg(n,i);if("string"===typeof r){try{var o=JSON.parse(r);if("object"===typeof o&&"number"===typeof o.cached&&o.cached>a&&"string"===typeof o.provider&&"object"===typeof o.data&&"string"===typeof o.data.prefix&&t(o,e))return!0}catch(Am){}Xg(n,i)}},l=$g(n),u=l-1;u>=0;u--)s(u)||(u===l-1?(l--,Jg(n,l)):tm[e].add(u))}}function am(){if(!nm)for(var e in nm=!0,em)om(e,(function(e){var t=e.data,n=cg(e.provider,t.prefix);if(!dg(n,t).length)return!1;var i=t.lastModified||-1;return n.lastModifiedCached=n.lastModifiedCached?Math.min(n.lastModifiedCached,i):i,!0}))}function sm(e,t){function n(n){var i;if(em[n]&&(i=rm(n))){var r,o=tm[n];if(o.size)o.delete(r=Array.from(o).shift());else if(!Jg(i,(r=$g(i))+1))return;var a={cached:Math.floor(Date.now()/qg),provider:e.provider,data:t};return Yg(i,jg+r.toString(),JSON.stringify(a))}}nm||am(),t.lastModified&&!function(e,t){var n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(var i in em)om(i,(function(n){var i=n.data;return n.provider!==e.provider||i.prefix!==e.prefix||i.lastModified===t}));return!0}(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&delete(t=Object.assign({},t)).not_found,n("local")||n("session"))}function lm(){}function um(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout((function(){e.iconsLoaderFlag=!1,function(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout((function(){e.pendingCallbacksFlag=!1;var t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(t.length){var n=!1,i=e.provider,r=e.prefix;t.forEach((function(t){var o=t.icons,a=o.pending.length;o.pending=o.pending.filter((function(t){if(t.prefix!==r)return!0;var a=t.name;if(e.icons[a])o.loaded.push({provider:i,prefix:r,name:a});else{if(!e.missing.has(a))return n=!0,!0;o.missing.push({provider:i,prefix:r,name:a})}return!1})),o.pending.length!==a&&(n||Ng([e],t.id),t.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),t.abort))}))}})))}(e)})))}var cm=function(e,t){var n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];return e.forEach((function(e){var r="string"===typeof e?Xp(e,t,n):e;r&&i.push(r)})),i}(e,!0,fg()),i=function(e){var t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((function(e,t){return e.provider!==t.provider?e.provider.localeCompare(t.provider):e.prefix!==t.prefix?e.prefix.localeCompare(t.prefix):e.name.localeCompare(t.name)}));var i={provider:"",prefix:"",name:""};return e.forEach((function(e){if(i.name!==e.name||i.prefix!==e.prefix||i.provider!==e.provider){i=e;var r=e.provider,o=e.prefix,a=e.name,s=n[r]||(n[r]=Object.create(null)),l=s[o]||(s[o]=cg(r,o)),u={provider:r,prefix:o,name:a};(a in l.icons?t.loaded:""===o||l.missing.has(a)?t.missing:t.pending).push(u)}})),t}(n);if(!i.pending.length){var r=!0;return t&&setTimeout((function(){r&&t(i.loaded,i.missing,i.pending,lm)})),function(){r=!1}}var o,a,s=Object.create(null),l=[];return i.pending.forEach((function(e){var t=e.provider,n=e.prefix;if(n!==a||t!==o){o=t,a=n,l.push(cg(t,n));var i=s[t]||(s[t]=Object.create(null));i[n]||(i[n]=[])}})),i.pending.forEach((function(e){var t=e.provider,n=e.prefix,i=e.name,r=cg(t,n),o=r.pendingIcons||(r.pendingIcons=new Set);o.has(i)||(o.add(i),s[t][n].push(i))})),l.forEach((function(e){var t=e.provider,n=e.prefix;s[t][n].length&&function(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout((function(){e.iconsQueueFlag=!1;var t,n=e.provider,i=e.prefix,r=e.iconsToLoad;delete e.iconsToLoad,r&&(t=Pg(n))&&t.prepare(n,i,r).forEach((function(t){_g(n,t,(function(n){if("object"!==typeof n)t.icons.forEach((function(t){e.missing.add(t)}));else try{var i=dg(e,n);if(!i.length)return;var r=e.pendingIcons;r&&i.forEach((function(e){r.delete(e)})),sm(e,n)}catch(Am){console.error(Am)}um(e)}))}))})))}(e,s[t][n])})),t?function(e,t,n){var i=Gg++,r=Ng.bind(null,n,i);if(!t.pending.length)return r;var o={id:i,icons:t,callback:e,abort:r};return n.forEach((function(e){(e.loaderCallbacks||(e.loaderCallbacks=[])).push(o)})),r}(t,i,l):lm};var dm,hm=/[\s,]+/;function fm(e,t){t.split(hm).forEach((function(t){switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}}))}function vm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.replace(/^-?[0-9.]*/,"");function i(e){for(;e<0;)e+=4;return e%4}if(""===n){var r=parseInt(e);return isNaN(r)?0:i(r)}if(n!==e){var o=0;switch(n){case"%":o=25;break;case"deg":o=90}if(o){var a=parseFloat(e.slice(0,e.length-n.length));return isNaN(a)?0:(a/=o)%1===0?i(a):0}}return t}function pm(e){return void 0===dm&&function(){try{dm=window.trustedTypes.createPolicy("iconify",{createHTML:function(e){return e}})}catch(Am){dm=null}}(),dm?dm.createHTML(e):e}var gm=y(y({},mg),{},{inline:!1}),mm={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},ym={display:"inline-block"},Cm={backgroundColor:"currentColor"},wm={backgroundColor:"transparent"},Sm={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},km={WebkitMask:Cm,mask:Cm,background:wm};for(var bm in km){var Rm=km[bm];for(var Em in Sm)Rm[bm+Em]=Sm[Em]}var Fm=y(y({},gm),{},{inline:!0});function Pm(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}var Dm=function(e,n,i,r){var o=i?Fm:gm,a=function(e,t){var n=y({},e);for(var i in t){var r=t[i],o=typeof r;i in gg?(null===r||r&&("string"===o||"number"===o))&&(n[i]=r):o===typeof n[i]&&(n[i]="rotate"===i?r%4:r)}return n}(o,n),s=n.mode||"svg",l={},u=n.style||{},c=y(y({},"svg"===s?mm:{}),{},{ref:r});for(var d in n){var h=n[d];if(void 0!==h)switch(d){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":a[d]=!0===h||"true"===h||1===h;break;case"flip":"string"===typeof h&&fm(a,h);break;case"color":l.color=h;break;case"rotate":"string"===typeof h?a[d]=vm(h):"number"===typeof h&&(a[d]=h);break;case"ariaHidden":case"aria-hidden":!0!==h&&"true"!==h&&delete c["aria-hidden"];break;default:void 0===o[d]&&(c[d]=h)}}var f=function(e,t){var n=y(y({},tg),e),i=y(y({},mg),t),r={left:n.left,top:n.top,width:n.width,height:n.height},o=n.body;[n,i].forEach((function(e){var t,n=[],i=e.hFlip,a=e.vFlip,s=e.rotate;switch(i?a?s+=2:(n.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),n.push("scale(-1 1)"),r.top=r.left=0):a&&(n.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),n.push("scale(1 -1)"),r.top=r.left=0),s<0&&(s-=4*Math.floor(s/4)),s%=4){case 1:t=r.height/2+r.top,n.unshift("rotate(90 "+t.toString()+" "+t.toString()+")");break;case 2:n.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:t=r.width/2+r.left,n.unshift("rotate(-90 "+t.toString()+" "+t.toString()+")")}s%2===1&&(r.left!==r.top&&(t=r.left,r.left=r.top,r.top=t),r.width!==r.height&&(t=r.width,r.width=r.height,r.height=t)),n.length&&(o='<g transform="'+n.join(" ")+'">'+o+"</g>")}));var a,s,l=i.width,u=i.height,c=r.width,d=r.height;null===l?a=wg(s=null===u?"1em":"auto"===u?d:u,c/d):(a="auto"===l?c:l,s=null===u?wg(a,d/c):"auto"===u?d:u);var h={},f=function(e,t){(function(e){return"unset"===e||"undefined"===e||"none"===e})(t)||(h[e]=t.toString())};return f("width",a),f("height",s),h.viewBox=r.left.toString()+" "+r.top.toString()+" "+c.toString()+" "+d.toString(),{attributes:h,body:o}}(e,a),v=f.attributes;if(a.inline&&(l.verticalAlign="-0.125em"),"svg"===s){c.style=y(y({},l),u),Object.assign(c,v);var p=0,g=n.id;return"string"===typeof g&&(g=g.replace(/-/g,"_")),c.dangerouslySetInnerHTML={__html:pm(Rg(f.body,g?function(){return g+"ID"+p++}:"iconifyReact"))},t.createElement("svg",c)}var m,C=e.body,w=e.width,S=e.height,k="mask"===s||"bg"!==s&&-1!==C.indexOf("currentColor"),b=function(e,t){var n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(var i in t)n+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}(C,y(y({},v),{},{width:w+"",height:S+""}));return c.style=y(y(y(y({},l),{},{"--svg":(m=b,'url("'+function(e){return"data:image/svg+xml,"+function(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(e)}(m)+'")'),width:Pm(v.width),height:Pm(v.height)},ym),k?Cm:wm),u),t.createElement("span",c)};if(fg(!0),Fg("",Og),"undefined"!==typeof document&&"undefined"!==typeof window){am();var xm=window;if(void 0!==xm.IconifyPreload){var Mm=xm.IconifyPreload,Am="Invalid IconifyPreload syntax.";"object"===typeof Mm&&null!==Mm&&(Mm instanceof Array?Mm:[Mm]).forEach((function(e){try{("object"!==typeof e||null===e||e instanceof Array||"object"!==typeof e.icons||"string"!==typeof e.prefix||!function(e,t){if("object"!==typeof e)return!1;if("string"!==typeof t&&(t=e.provider||""),hg&&!t&&!e.prefix){var n=!1;return lg(e)&&(e.prefix="",og(e,(function(e,t){t&&pg(e,t)&&(n=!0)}))),n}var i=e.prefix;return!!Jp({provider:t,prefix:i,name:"a"})&&!!dg(cg(t,i),e)}(e))&&console.error(Am)}catch(t){console.error(Am)}}))}if(void 0!==xm.IconifyProviders){var Tm=xm.IconifyProviders;if("object"===typeof Tm&&null!==Tm)for(var Lm in Tm){var Im="IconifyProviders["+Lm+"] is invalid.";try{var Om=Tm[Lm];if("object"!==typeof Om||!Om||void 0===Om.resources)continue;Tg(Lm,Om)||console.error(Im)}catch(LC){console.error(Im)}}}}var Nm=function(e){c(i,e);var n=p(i);function i(e){var t;return C(this,i),(t=n.call(this,e)).state={icon:null},t}return k(i,[{key:"_abortLoading",value:function(){this._loading&&(this._loading.abort(),this._loading=null)}},{key:"_setData",value:function(e){this.state.icon!==e&&this.setState({icon:e})}},{key:"_checkIcon",value:function(e){var t,n=this.state,i=this.props.icon;if("object"===typeof i&&null!==i&&"string"===typeof i.body)return this._icon="",this._abortLoading(),void((e||null===n.icon)&&this._setData({data:i}));if("string"!==typeof i||null===(t=Xp(i,!1,!0)))return this._abortLoading(),void this._setData(null);var r=vg(t);if(r){if(this._icon!==i||null===n.icon){this._abortLoading(),this._icon=i;var o=["iconify"];""!==t.prefix&&o.push("iconify--"+t.prefix),""!==t.provider&&o.push("iconify--"+t.provider),this._setData({data:r,classes:o}),this.props.onLoad&&this.props.onLoad(i)}}else this._loading&&this._loading.name===i||(this._abortLoading(),this._icon="",this._setData(null),null!==r&&(this._loading={name:i,abort:cm([t],this._checkIcon.bind(this,!1))}))}},{key:"componentDidMount",value:function(){this._checkIcon(!1)}},{key:"componentDidUpdate",value:function(e){e.icon!==this.props.icon&&this._checkIcon(!0)}},{key:"componentWillUnmount",value:function(){this._abortLoading()}},{key:"render",value:function(){var e=this.props,n=this.state.icon;if(null===n)return e.children?e.children:t.createElement("span",{});var i=e;return n.classes&&(i=y(y({},e),{},{className:("string"===typeof e.className?e.className+" ":"")+n.classes.join(" ")})),Dm(y(y({},tg),n.data),i,e._inline,e._ref)}}]),i}(t.Component),Gm=t.forwardRef((function(e,n){var i=y(y({},e),{},{_ref:n,_inline:!1});return t.createElement(Nm,i)})),Bm=(t.forwardRef((function(e,n){var i=y(y({},e),{},{_ref:n,_inline:!0});return t.createElement(Nm,i)})),function(e){switch(e){case"stacked":default:return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse"}}),Hm=function(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX},Vm=function(e){return e>9?e.toString():"0".concat(e)},Wm=function(e,t,n){if(!isFinite(e))return null;var i=Math.floor(e/60),r=Vm(i),o=Vm(Math.floor(e%60)),a=Vm(Math.floor(i%60)),s=Math.floor(i/60),l="".concat(r,":").concat(o),u="".concat(s,":").concat(a,":").concat(o);return"auto"===n?t>=3600?u:l:"mm:ss"===n?l:"hh:mm:ss"===n?u:void 0};function zm(e,t){var n=!1;return function(i){n||(e(i),n=!0,setTimeout((function(){return n=!1}),t))}}function _m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(LC){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}var Um=function(e){c(i,e);var n=_m(i);function i(){var e;C(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,g.Z)(f(e),"audio",void 0),(0,g.Z)(f(e),"timeOnMouseMove",0),(0,g.Z)(f(e),"hasAddedAudioEventListener",!1),(0,g.Z)(f(e),"downloadProgressAnimationTimer",void 0),(0,g.Z)(f(e),"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),(0,g.Z)(f(e),"getCurrentProgress",(function(t){var n=e.props,i=n.audio,r=n.progressBar;if(0!==i.src.indexOf("blob:")&&"undefined"===typeof e.props.srcDuration&&(!i.src||!isFinite(i.currentTime)||!r.current))return{currentTime:0,currentTimePos:"0%"};var o=r.current.getBoundingClientRect(),a=o.width,s=Hm(t)-o.left;return s<0?s=0:s>a&&(s=a),{currentTime:e.getDuration()*s/a,currentTimePos:"".concat((s/a*100).toFixed(2),"%")}})),(0,g.Z)(f(e),"handleContextMenu",(function(e){e.preventDefault()})),(0,g.Z)(f(e),"handleMouseDownOrTouchStartProgressBar",(function(t){t.stopPropagation();var n=e.getCurrentProgress(t.nativeEvent),i=n.currentTime,r=n.currentTimePos;isFinite(i)&&(e.timeOnMouseMove=i,e.setState({isDraggingProgress:!0,currentTimePos:r}),t.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.addEventListener("touchend",e.handleWindowMouseOrTouchUp)))})),(0,g.Z)(f(e),"handleWindowMouseOrTouchMove",(function(t){t instanceof MouseEvent&&t.preventDefault(),t.stopPropagation();var n=window.getSelection();if(n&&"Range"===n.type&&n.empty(),e.state.isDraggingProgress){var i=e.getCurrentProgress(t),r=i.currentTime,o=i.currentTimePos;e.timeOnMouseMove=r,e.setState({currentTimePos:o})}})),(0,g.Z)(f(e),"handleWindowMouseOrTouchUp",(function(t){t.stopPropagation();var n=e.timeOnMouseMove,i=e.props,r=i.audio,o=i.onChangeCurrentTimeError,a=i.onSeek;if(a)e.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},(function(){a(r,n).then((function(){return e.setState({waitingForSeekCallback:!1})}),(function(e){throw new Error(e)}))}));else{var s={isDraggingProgress:!1};if(r.readyState===r.HAVE_NOTHING||r.readyState===r.HAVE_METADATA||!isFinite(n))try{r.load()}catch(Am){return s.currentTimePos="0%",o&&o(Am)}r.currentTime=n,e.setState(s)}t instanceof MouseEvent?(window.removeEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",e.handleWindowMouseOrTouchUp))})),(0,g.Z)(f(e),"handleAudioTimeUpdate",zm((function(t){var n=e.state.isDraggingProgress,i=t.target;if(!n&&!0!==e.state.waitingForSeekCallback){var r=i.currentTime,o=e.getDuration();e.setState({currentTimePos:"".concat((r/o*100||0).toFixed(2),"%")})}}),e.props.progressUpdateInterval)),(0,g.Z)(f(e),"handleAudioDownloadProgressUpdate",(function(t){for(var n=t.target,i=e.getDuration(),r=[],o=0;o<n.buffered.length;o++){var a=n.buffered.start(o),s=n.buffered.end(o);r.push({left:"".concat(Math.round(100/i*a)||0,"%"),width:"".concat(Math.round(100/i*(s-a))||0,"%")})}clearTimeout(e.downloadProgressAnimationTimer),e.setState({downloadProgressArr:r,hasDownloadProgressAnimation:!0}),e.downloadProgressAnimationTimer=setTimeout((function(){e.setState({hasDownloadProgressAnimation:!1})}),200)})),e}return k(i,[{key:"getDuration",value:function(){var e=this.props,t=e.audio,n=e.srcDuration;return"undefined"===typeof n?t.duration:n}},{key:"initialize",value:function(){var e=this.props.audio;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioTimeUpdate),e.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}},{key:"render",value:function(){var e=this.props,n=e.showDownloadProgress,i=e.showFilledProgress,r=e.progressBar,o=e.i18nProgressBar,a=this.state,s=a.currentTimePos,l=a.downloadProgressArr,u=a.hasDownloadProgressAnimation;return t.createElement("div",{className:"rhap_progress-container",ref:r,"aria-label":o,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(s.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},t.createElement("div",{className:"rhap_progress-bar ".concat(n?"rhap_progress-bar-show-download":"")},t.createElement("div",{className:"rhap_progress-indicator",style:{left:s}}),i&&t.createElement("div",{className:"rhap_progress-filled",style:{width:s}}),n&&l.map((function(e,n){var i=e.left,r=e.width;return t.createElement("div",{key:n,className:"rhap_download-progress",style:{left:i,width:r,transitionDuration:u?".2s":"0s"}})}))))}}]),i}(t.Component),jm=(0,t.forwardRef)((function(e,n){return t.createElement(Um,(0,pv.Z)({},e,{progressBar:n}))}));function Zm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(LC){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}var Km=function(e){c(n,e);var t=Zm(n);function n(e){var i;C(this,n),i=t.call(this,e),(0,g.Z)(f(i),"audio",void 0),(0,g.Z)(f(i),"hasAddedAudioEventListener",!1),(0,g.Z)(f(i),"state",{currentTime:i.props.defaultCurrentTime}),(0,g.Z)(f(i),"handleAudioCurrentTimeChange",(function(e){var t=e.target,n=i.props,r=n.isLeftTime,o=n.timeFormat,a=n.defaultCurrentTime;i.setState({currentTime:Wm(r?t.duration-t.currentTime:t.currentTime,t.duration,o)||a})})),(0,g.Z)(f(i),"addAudioEventListeners",(function(){var e=i.props.audio;e&&!i.hasAddedAudioEventListener&&(i.audio=e,i.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",i.handleAudioCurrentTimeChange),e.addEventListener("loadedmetadata",i.handleAudioCurrentTimeChange))}));var r=e.audio,o=e.defaultCurrentTime,a=e.isLeftTime,s=e.timeFormat,l=o;return r&&(l=Wm(a?r.duration-r.currentTime:r.currentTime,r.duration,s)),i.state={currentTime:l},i}return k(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}},{key:"render",value:function(){return this.state.currentTime}}]),n}(t.PureComponent);function qm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(LC){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}var Qm=function(e){c(n,e);var t=qm(n);function n(e){var i;C(this,n),i=t.call(this,e),(0,g.Z)(f(i),"audio",void 0),(0,g.Z)(f(i),"hasAddedAudioEventListener",!1),(0,g.Z)(f(i),"state",{duration:i.props.audio?Wm(i.props.audio.duration,i.props.audio.duration,i.props.timeFormat):i.props.defaultDuration}),(0,g.Z)(f(i),"handleAudioDurationChange",(function(e){var t=e.target,n=i.props,r=n.timeFormat,o=n.defaultDuration;i.setState({duration:Wm(t.duration,t.duration,r)||o})})),(0,g.Z)(f(i),"addAudioEventListeners",(function(){var e=i.props.audio;e&&!i.hasAddedAudioEventListener&&(i.audio=e,i.hasAddedAudioEventListener=!0,e.addEventListener("durationchange",i.handleAudioDurationChange),e.addEventListener("abort",i.handleAudioDurationChange))}));var r=e.audio,o=e.timeFormat,a=e.defaultDuration;return i.state={duration:r?Wm(r.duration,r.duration,o):a},i}return k(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}},{key:"render",value:function(){return this.state.duration}}]),n}(t.PureComponent);function Ym(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(LC){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}var Xm,Jm=function(e){c(i,e);var n=Ym(i);function i(){var e;C(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),(0,g.Z)(f(e),"audio",void 0),(0,g.Z)(f(e),"hasAddedAudioEventListener",!1),(0,g.Z)(f(e),"volumeBar",(0,t.createRef)()),(0,g.Z)(f(e),"volumeAnimationTimer",0),(0,g.Z)(f(e),"lastVolume",e.props.volume),(0,g.Z)(f(e),"state",{currentVolumePos:"".concat((e.lastVolume/1*100||0).toFixed(2),"%"),hasVolumeAnimation:!1,isDraggingVolume:!1}),(0,g.Z)(f(e),"getCurrentVolume",(function(t){var n=e.props.audio;if(!e.volumeBar.current)return{currentVolume:n.volume,currentVolumePos:e.state.currentVolumePos};var i,r,o=e.volumeBar.current.getBoundingClientRect(),a=o.width,s=Hm(t)-o.left;return s<0?(i=0,r="0%"):s>o.width?(i=1,r="100%"):(i=s/a,r="".concat(s/a*100,"%")),{currentVolume:i,currentVolumePos:r}})),(0,g.Z)(f(e),"handleContextMenu",(function(e){e.preventDefault()})),(0,g.Z)(f(e),"handleClickVolumeButton",(function(){var t=e.props.audio;t.volume>0?(e.lastVolume=t.volume,t.volume=0):t.volume=e.lastVolume})),(0,g.Z)(f(e),"handleVolumnControlMouseOrTouchDown",(function(t){t.stopPropagation();var n=e.props.audio,i=e.getCurrentVolume(t.nativeEvent),r=i.currentVolume,o=i.currentVolumePos;n.volume=r,e.setState({isDraggingVolume:!0,currentVolumePos:o}),t.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.addEventListener("touchend",e.handleWindowMouseOrTouchUp))})),(0,g.Z)(f(e),"handleWindowMouseOrTouchMove",(function(t){t instanceof MouseEvent&&t.preventDefault(),t.stopPropagation();var n=e.props.audio,i=window.getSelection();if(i&&"Range"===i.type&&i.empty(),e.state.isDraggingVolume){var r=e.getCurrentVolume(t),o=r.currentVolume,a=r.currentVolumePos;n.volume=o,e.setState({currentVolumePos:a})}})),(0,g.Z)(f(e),"handleWindowMouseOrTouchUp",(function(t){t.stopPropagation(),e.setState({isDraggingVolume:!1}),t instanceof MouseEvent?(window.removeEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",e.handleWindowMouseOrTouchUp))})),(0,g.Z)(f(e),"handleAudioVolumeChange",(function(t){var n=e.state.isDraggingVolume,i=t.target.volume;(e.lastVolume>0&&0===i||0===e.lastVolume&&i>0)&&e.props.onMuteChange(),e.lastVolume=i,n||(e.setState({hasVolumeAnimation:!0,currentVolumePos:"".concat((i/1*100||0).toFixed(2),"%")}),clearTimeout(e.volumeAnimationTimer),e.volumeAnimationTimer=setTimeout((function(){e.setState({hasVolumeAnimation:!1})}),100))})),e}return k(i,[{key:"componentDidUpdate",value:function(){var e=this.props.audio;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("volumechange",this.handleAudioVolumeChange))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}},{key:"render",value:function(){var e=this.props,n=e.audio,i=e.showFilledVolume,r=e.i18nVolumeControl,o=this.state,a=o.currentVolumePos,s=o.hasVolumeAnimation,l=(n||{}).volume;return t.createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":r,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((100*l).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},t.createElement("div",{className:"rhap_volume-bar"},t.createElement("div",{className:"rhap_volume-indicator",style:{left:a,transitionDuration:s?".1s":"0s"}}),i&&t.createElement("div",{className:"rhap_volume-filled",style:{width:a}})))}}]),i}(t.Component),$m=Jm;function ey(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(LC){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}!function(e){e.CURRENT_TIME="CURRENT_TIME",e.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",e.PROGRESS_BAR="PROGRESS_BAR",e.DURATION="DURATION",e.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",e.MAIN_CONTROLS="MAIN_CONTROLS",e.VOLUME_CONTROLS="VOLUME_CONTROLS",e.LOOP="LOOP",e.VOLUME="VOLUME"}(Xm||(Xm={}));var ty=function(e){c(i,e);var n=ey(i);function i(){var e;C(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),(0,g.Z)(f(e),"audio",(0,t.createRef)()),(0,g.Z)(f(e),"progressBar",(0,t.createRef)()),(0,g.Z)(f(e),"container",(0,t.createRef)()),(0,g.Z)(f(e),"lastVolume",e.props.volume),(0,g.Z)(f(e),"listenTracker",void 0),(0,g.Z)(f(e),"volumeAnimationTimer",void 0),(0,g.Z)(f(e),"downloadProgressAnimationTimer",void 0),(0,g.Z)(f(e),"togglePlay",(function(t){t.stopPropagation();var n=e.audio.current;(n.paused||n.ended)&&n.src?e.playAudioPromise():n.paused||n.pause()})),(0,g.Z)(f(e),"playAudioPromise",(function(){e.audio.current.error&&e.audio.current.load();var t=e.audio.current.play();t?t.then(null).catch((function(t){var n=e.props.onPlayError;n&&n(new Error(t))})):e.forceUpdate()})),(0,g.Z)(f(e),"isPlaying",(function(){var t=e.audio.current;return!!t&&(!t.paused&&!t.ended)})),(0,g.Z)(f(e),"handlePlay",(function(t){e.forceUpdate(),e.props.onPlay&&e.props.onPlay(t)})),(0,g.Z)(f(e),"handlePause",(function(t){e.audio&&(e.forceUpdate(),e.props.onPause&&e.props.onPause(t))})),(0,g.Z)(f(e),"handleEnded",(function(t){e.audio&&(e.forceUpdate(),e.props.onEnded&&e.props.onEnded(t))})),(0,g.Z)(f(e),"handleAbort",(function(t){e.props.onAbort&&e.props.onAbort(t)})),(0,g.Z)(f(e),"handleClickVolumeButton",(function(){var t=e.audio.current;t.volume>0?(e.lastVolume=t.volume,t.volume=0):t.volume=e.lastVolume})),(0,g.Z)(f(e),"handleMuteChange",(function(){e.forceUpdate()})),(0,g.Z)(f(e),"handleClickLoopButton",(function(){e.audio.current.loop=!e.audio.current.loop,e.forceUpdate()})),(0,g.Z)(f(e),"handleClickRewind",(function(){var t=e.props,n=t.progressJumpSteps,i=t.progressJumpStep,r=n.backward||i;e.setJumpTime(-r)})),(0,g.Z)(f(e),"handleClickForward",(function(){var t=e.props,n=t.progressJumpSteps,i=t.progressJumpStep,r=n.forward||i;e.setJumpTime(r)})),(0,g.Z)(f(e),"setJumpTime",(function(t){var n=e.audio.current,i=n.duration,r=n.currentTime;if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(i)||!isFinite(r))try{n.load()}catch(Am){return e.props.onChangeCurrentTimeError&&e.props.onChangeCurrentTimeError(Am)}var o=r+t/1e3;o<0?(n.currentTime=0,o=0):o>i?(n.currentTime=i,o=i):n.currentTime=o})),(0,g.Z)(f(e),"setJumpVolume",(function(t){var n=e.audio.current.volume+t;n<0?n=0:n>1&&(n=1),e.audio.current.volume=n})),(0,g.Z)(f(e),"handleKeyDown",(function(t){if(e.props.hasDefaultKeyBindings)switch(t.key){case" ":t.target!==e.container.current&&t.target!==e.progressBar.current||(t.preventDefault(),e.togglePlay(t));break;case"ArrowLeft":e.handleClickRewind();break;case"ArrowRight":e.handleClickForward();break;case"ArrowUp":t.preventDefault(),e.setJumpVolume(e.props.volumeJumpStep);break;case"ArrowDown":t.preventDefault(),e.setJumpVolume(-e.props.volumeJumpStep);break;case"l":e.handleClickLoopButton();break;case"m":e.handleClickVolumeButton()}})),(0,g.Z)(f(e),"renderUIModules",(function(t){return t.map((function(t,n){return e.renderUIModule(t,n)}))})),(0,g.Z)(f(e),"renderUIModule",(function(n,i){var r=e.props,o=r.defaultCurrentTime,a=r.progressUpdateInterval,s=r.showDownloadProgress,l=r.showFilledProgress,u=r.showFilledVolume,c=r.defaultDuration,d=r.customIcons,h=r.showSkipControls,f=r.onClickPrevious,v=r.onClickNext,p=r.onChangeCurrentTimeError,g=r.showJumpControls,m=r.customAdditionalControls,y=r.customVolumeControls,C=r.muted,w=r.timeFormat,S=r.volume,k=r.loop,b=r.mse,R=r.i18nAriaLabels;switch(n){case Xm.CURRENT_TIME:return t.createElement("div",{key:i,id:"rhap_current-time",className:"rhap_time rhap_current-time"},t.createElement(Km,{audio:e.audio.current,isLeftTime:!1,defaultCurrentTime:o,timeFormat:w}));case Xm.CURRENT_LEFT_TIME:return t.createElement("div",{key:i,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},t.createElement(Km,{audio:e.audio.current,isLeftTime:!0,defaultCurrentTime:o,timeFormat:w}));case Xm.PROGRESS_BAR:return t.createElement(jm,{key:i,ref:e.progressBar,audio:e.audio.current,progressUpdateInterval:a,showDownloadProgress:s,showFilledProgress:l,onSeek:b&&b.onSeek,onChangeCurrentTimeError:p,srcDuration:b&&b.srcDuration,i18nProgressBar:R.progressControl});case Xm.DURATION:return t.createElement("div",{key:i,className:"rhap_time rhap_total-time"},b&&b.srcDuration?Wm(b.srcDuration,b.srcDuration,e.props.timeFormat):t.createElement(Qm,{audio:e.audio.current,defaultDuration:c,timeFormat:w}));case Xm.ADDITIONAL_CONTROLS:return t.createElement("div",{key:i,className:"rhap_additional-controls"},e.renderUIModules(m));case Xm.MAIN_CONTROLS:var E,F=e.isPlaying();return E=F?d.pause?d.pause:t.createElement(Gm,{icon:"mdi:pause-circle"}):d.play?d.play:t.createElement(Gm,{icon:"mdi:play-circle"}),t.createElement("div",{key:i,className:"rhap_main-controls"},h&&t.createElement("button",{"aria-label":R.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:f},d.previous?d.previous:t.createElement(Gm,{icon:"mdi:skip-previous"})),g&&t.createElement("button",{"aria-label":R.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:e.handleClickRewind},d.rewind?d.rewind:t.createElement(Gm,{icon:"mdi:rewind"})),t.createElement("button",{"aria-label":F?R.pause:R.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:e.togglePlay},E),g&&t.createElement("button",{"aria-label":R.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:e.handleClickForward},d.forward?d.forward:t.createElement(Gm,{icon:"mdi:fast-forward"})),h&&t.createElement("button",{"aria-label":R.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:v},d.next?d.next:t.createElement(Gm,{icon:"mdi:skip-next"})));case Xm.VOLUME_CONTROLS:return t.createElement("div",{key:i,className:"rhap_volume-controls"},e.renderUIModules(y));case Xm.LOOP:var P,D=e.audio.current?e.audio.current.loop:k;return P=D?d.loop?d.loop:t.createElement(Gm,{icon:"mdi:repeat"}):d.loopOff?d.loopOff:t.createElement(Gm,{icon:"mdi:repeat-off"}),t.createElement("button",{key:i,"aria-label":D?R.loop:R.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:e.handleClickLoopButton},P);case Xm.VOLUME:var x,M=(e.audio.current||{}).volume,A=void 0===M?C?0:S:M;return x=A?d.volume?d.volume:t.createElement(Gm,{icon:"mdi:volume-high"}):d.volume?d.volumeMute:t.createElement(Gm,{icon:"mdi:volume-mute"}),t.createElement("div",{key:i,className:"rhap_volume-container"},t.createElement("button",{"aria-label":A?R.volume:R.volumeMute,onClick:e.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},x),t.createElement($m,{audio:e.audio.current,volume:A,onMuteChange:e.handleMuteChange,showFilledVolume:u,i18nVolumeControl:R.volumeControl}));default:return(0,t.isValidElement)(n)?n.key?n:(0,t.cloneElement)(n,{key:i}):null}})),e}return k(i,[{key:"componentDidMount",value:function(){var e=this;this.forceUpdate();var t=this.audio.current;this.props.muted?t.volume=0:t.volume=this.lastVolume,t.addEventListener("error",(function(t){var n=t.target;if(n.error&&n.currentTime===n.duration)return e.props.onEnded&&e.props.onEnded(t);e.props.onError&&e.props.onError(t)})),t.addEventListener("canplay",(function(t){e.props.onCanPlay&&e.props.onCanPlay(t)})),t.addEventListener("canplaythrough",(function(t){e.props.onCanPlayThrough&&e.props.onCanPlayThrough(t)})),t.addEventListener("play",this.handlePlay),t.addEventListener("abort",this.handleAbort),t.addEventListener("ended",this.handleEnded),t.addEventListener("playing",(function(t){e.props.onPlaying&&e.props.onPlaying(t)})),t.addEventListener("seeking",(function(t){e.props.onSeeking&&e.props.onSeeking(t)})),t.addEventListener("seeked",(function(t){e.props.onSeeked&&e.props.onSeeked(t)})),t.addEventListener("waiting",(function(t){e.props.onWaiting&&e.props.onWaiting(t)})),t.addEventListener("emptied",(function(t){e.props.onEmptied&&e.props.onEmptied(t)})),t.addEventListener("stalled",(function(t){e.props.onStalled&&e.props.onStalled(t)})),t.addEventListener("suspend",(function(t){e.props.onSuspend&&e.props.onSuspend(t)})),t.addEventListener("loadstart",(function(t){e.props.onLoadStart&&e.props.onLoadStart(t)})),t.addEventListener("loadedmetadata",(function(t){e.props.onLoadedMetaData&&e.props.onLoadedMetaData(t)})),t.addEventListener("loadeddata",(function(t){e.props.onLoadedData&&e.props.onLoadedData(t)})),t.addEventListener("pause",this.handlePause),t.addEventListener("timeupdate",zm((function(t){e.props.onListen&&e.props.onListen(t)}),this.props.listenInterval)),t.addEventListener("volumechange",(function(t){e.props.onVolumeChange&&e.props.onVolumeChange(t)})),t.addEventListener("encrypted",(function(t){var n=e.props.mse;n&&n.onEcrypted&&n.onEcrypted(t)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.src,i=t.autoPlayAfterSrcChange;e.src!==n&&(i?this.playAudioPromise():this.forceUpdate())}},{key:"render",value:function(){var e=this.props,n=e.className,i=e.src,r=e.loop,o=e.preload,a=e.autoPlay,s=e.crossOrigin,l=e.mediaGroup,u=e.header,c=e.footer,d=e.layout,h=e.customProgressBarSection,f=e.customControlsSection,v=e.children,p=e.style,g=e.i18nAriaLabels,m=this.audio.current?this.audio.current.loop:r,y=m?"rhap_loop--on":"rhap_loop--off",C=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return t.createElement("div",{role:"group",tabIndex:0,"aria-label":g.player,className:"rhap_container ".concat(y," ").concat(C," ").concat(n),onKeyDown:this.handleKeyDown,ref:this.container,style:p},t.createElement("audio",{src:i,controls:!1,loop:m,autoPlay:a,preload:o,crossOrigin:s,mediaGroup:l,ref:this.audio},v),u&&t.createElement("div",{className:"rhap_header"},u),t.createElement("div",{className:"rhap_main ".concat(Bm(d))},t.createElement("div",{className:"rhap_progress-section"},this.renderUIModules(h)),t.createElement("div",{className:"rhap_controls-section"},this.renderUIModules(f))),c&&t.createElement("div",{className:"rhap_footer"},c))}}]),i}(t.Component);(0,g.Z)(ty,"defaultProps",{autoPlay:!1,autoPlayAfterSrcChange:!0,listenInterval:1e3,progressJumpStep:5e3,progressJumpSteps:{},volumeJumpStep:.1,loop:!1,muted:!1,preload:"auto",progressUpdateInterval:20,defaultCurrentTime:"--:--",defaultDuration:"--:--",timeFormat:"auto",volume:1,className:"",showJumpControls:!0,showSkipControls:!1,showDownloadProgress:!0,showFilledProgress:!0,showFilledVolume:!1,customIcons:{},customProgressBarSection:[Xm.CURRENT_TIME,Xm.PROGRESS_BAR,Xm.DURATION],customControlsSection:[Xm.ADDITIONAL_CONTROLS,Xm.MAIN_CONTROLS,Xm.VOLUME_CONTROLS],customAdditionalControls:[Xm.LOOP],customVolumeControls:[Xm.VOLUME],layout:"stacked",hasDefaultKeyBindings:!0,i18nAriaLabels:{player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"}});var ny=ty,iy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ry=t.createContext&&t.createContext(iy),oy=["attr","size","title"];function ay(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sy.apply(this,arguments)}function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach((function(t){cy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dy(e){return e&&e.map((function(e,n){return t.createElement(e.tag,uy({key:n},e.attr),dy(e.child))}))}function hy(e){return function(n){return t.createElement(fy,sy({attr:uy({},e.attr)},n),dy(e.child))}}function fy(e){var n=function(n){var i,r=e.attr,o=e.size,a=e.title,s=ay(e,oy),l=o||n.size||"1em";return n.className&&(i=n.className),e.className&&(i=(i?i+" ":"")+e.className),t.createElement("svg",sy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:i,style:uy(uy({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==ry?t.createElement(ry.Consumer,null,(function(e){return n(e)})):n(iy)}function vy(e){return hy({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function py(e){return hy({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function gy(e){return hy({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function my(e){var t=e.onPlay,n=e.status;return(0,Nd.jsx)(mp,{children:(0,Nd.jsx)(ny,{style:{boxShadow:"none"},autoPlay:n,src:"https://myradio24.org/jezuch",customVolumeControls:[],customIcons:{play:(0,Nd.jsx)(gy,{}),pause:(0,Nd.jsx)(py,{})},onPlay:function(){t(!0),console.log("onPlay")},onPause:function(){t(!1),console.log("onPause")},showJumpControls:!1,customProgressBarSection:[""],customAdditionalControls:[""]})})}var yy=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function Cy(e){return fp("MuiPaper",e)}vp("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var wy=["className","component","elevation","square","variant"],Sy=Mp("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,pv.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!i.square&&{borderRadius:n.shape.borderRadius},"outlined"===i.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===i.variant&&(0,pv.Z)({boxShadow:(n.vars||n).shadows[i.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Iv.Fq)("#fff",yy(i.elevation)),", ").concat((0,Iv.Fq)("#fff",yy(i.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[i.elevation]}))})),ky=t.forwardRef((function(e,t){var n=Ep({props:e,name:"MuiPaper"}),i=n.className,r=n.component,o=void 0===r?"div":r,a=n.elevation,s=void 0===a?1:a,l=n.square,u=void 0!==l&&l,c=n.variant,d=void 0===c?"elevation":c,h=(0,F.Z)(n,wy),f=(0,pv.Z)({},n,{component:o,elevation:s,square:u,variant:d}),v=function(e){var t=e.square,n=e.elevation,i=e.variant,r=e.classes;return Cp({root:["root",i,!t&&"rounded","elevation"===i&&"elevation".concat(n)]},Cy,r)}(f);return(0,Nd.jsx)(Sy,(0,pv.Z)({as:o,ownerState:f,className:mv(v.root,i),ref:t},h))}));n(8457);function by(e){return fp("MuiBottomNavigation",e)}vp("MuiBottomNavigation",["root"]);var Ry=["children","className","component","onChange","showLabels","value"],Ey=Mp("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme;return{display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper}})),Fy=t.forwardRef((function(e,n){var i=Ep({props:e,name:"MuiBottomNavigation"}),r=i.children,o=i.className,a=i.component,s=void 0===a?"div":a,l=i.onChange,u=i.showLabels,c=void 0!==u&&u,d=i.value,h=(0,F.Z)(i,Ry),f=(0,pv.Z)({},i,{component:s,showLabels:c}),v=function(e){return Cp({root:["root"]},by,e.classes)}(f);return(0,Nd.jsx)(Ey,(0,pv.Z)({as:s,className:mv(v.root,o),ref:n,ownerState:f},h,{children:t.Children.map(r,(function(e,n){if(!t.isValidElement(e))return null;var i=void 0===e.props.value?n:e.props.value;return t.cloneElement(e,{selected:i===d,showLabel:void 0!==e.props.showLabel?e.props.showLabel:c,value:i,onChange:l})}))}))})),Py=Fy;function Dy(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var xy=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){Dy(t,e)}))}}),n)},My="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var Ay=function(e){var n=t.useRef(e);return My((function(){n.current=e})),t.useRef((function(){return n.current.apply(void 0,arguments)})).current},Ty=Ay,Ly={};var Iy=[];var Oy=function(){function e(){var t=this;C(this,e),this.currentId=null,this.clear=function(){null!==t.currentId&&(clearTimeout(t.currentId),t.currentId=null)},this.disposeEffect=function(){return t.clear}}return k(e,[{key:"start",value:function(e,t){var n=this;this.clear(),this.currentId=setTimeout((function(){n.currentId=null,t()}),e)}}],[{key:"create",value:function(){return new e}}]),e}();function Ny(){var e,n=function(e,n){var i=t.useRef(Ly);return i.current===Ly&&(i.current=e(n)),i}(Oy.create).current;return e=n.disposeEffect,t.useEffect(e,Iy),n}var Gy=!0,By=!1,Hy=new Oy,Vy={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Wy(e){e.metaKey||e.altKey||e.ctrlKey||(Gy=!0)}function zy(){Gy=!1}function _y(){"hidden"===this.visibilityState&&By&&(Gy=!0)}function Uy(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Gy||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Vy[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var jy=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Wy,!0),t.addEventListener("mousedown",zy,!0),t.addEventListener("pointerdown",zy,!0),t.addEventListener("touchstart",zy,!0),t.addEventListener("visibilitychange",_y,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Uy(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(By=!0,Hy.start(100,(function(){By=!1})),n.current=!1,!0)},ref:e}};var Zy=t.createContext(null);function Ky(e,n){var i=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),i}function qy(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Qy(e,n,i){var r=Ky(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var u=r[l][i];s[r[l][i]]=n(u)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(n,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,t.isValidElement)(s)){var l=a in n,u=a in r,c=n[a],d=(0,t.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,t.isValidElement)(c)&&(o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:c.props.in,exit:qy(s,"exit",e),enter:qy(s,"enter",e)})):o[a]=(0,t.cloneElement)(s,{in:!1}):o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:!0,exit:qy(s,"exit",e),enter:qy(s,"enter",e)})}})),o}var Yy=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Xy=function(e){var n,i;function r(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(f(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,u(n,i);var o=r.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,n){var i,r,o=n.children,a=n.handleExited;return{children:n.firstRender?(i=e,r=a,Ky(i.children,(function(e){return(0,t.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:qy(e,"appear",i),enter:qy(e,"enter",i),exit:qy(e,"exit",i)})}))):Qy(e,o,a),firstRender:!1}},o.handleExited=function(e,t){var n=Ky(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,pv.Z)({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,n=e.component,i=e.childFactory,r=(0,F.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=Yy(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===n?t.createElement(Zy.Provider,{value:o},a):t.createElement(Zy.Provider,{value:o},t.createElement(n,r,a))},r}(t.Component);Xy.propTypes={},Xy.defaultProps={component:"div",childFactory:function(e){return e}};var Jy=Xy;var $y=function(e){var n=e.className,i=e.classes,o=e.pulsate,a=void 0!==o&&o,s=e.rippleX,l=e.rippleY,u=e.rippleSize,c=e.in,d=e.onExited,h=e.timeout,f=t.useState(!1),v=(0,r.Z)(f,2),p=v[0],g=v[1],m=mv(n,i.ripple,i.rippleVisible,a&&i.ripplePulsate),y={width:u,height:u,top:-u/2+l,left:-u/2+s},C=mv(i.child,p&&i.childLeaving,a&&i.childPulsate);return c||p||g(!0),t.useEffect((function(){if(!c&&null!=d){var e=setTimeout(d,h);return function(){clearTimeout(e)}}}),[d,c,h]),(0,Nd.jsx)("span",{className:m,style:y,children:(0,Nd.jsx)("span",{className:C})})};var eC,tC,nC,iC,rC,oC,aC,sC,lC=vp("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),uC=["center","classes","className"],cC=(0,wp.F4)(rC||(rC=eC||(eC=yp(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),dC=(0,wp.F4)(oC||(oC=tC||(tC=yp(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),hC=(0,wp.F4)(aC||(aC=nC||(nC=yp(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),fC=Mp("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vC=Mp($y,{name:"MuiTouchRipple",slot:"Ripple"})(sC||(sC=iC||(iC=yp(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),lC.rippleVisible,cC,550,(function(e){return e.theme.transitions.easing.easeInOut}),lC.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),lC.child,lC.childLeaving,dC,550,(function(e){return e.theme.transitions.easing.easeInOut}),lC.childPulsate,hC,(function(e){return e.theme.transitions.easing.easeInOut})),pC=t.forwardRef((function(e,n){var i=Ep({props:e,name:"MuiTouchRipple"}),a=i.center,s=void 0!==a&&a,l=i.classes,u=void 0===l?{}:l,c=i.className,d=(0,F.Z)(i,uC),h=t.useState([]),f=(0,r.Z)(h,2),v=f[0],p=f[1],g=t.useRef(0),m=t.useRef(null);t.useEffect((function(){m.current&&(m.current(),m.current=null)}),[v]);var y=t.useRef(!1),C=Ny(),w=t.useRef(null),S=t.useRef(null),k=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,r=e.rippleSize,a=e.cb;p((function(e){return[].concat((0,o.Z)(e),[(0,Nd.jsx)(vC,{classes:{ripple:mv(u.ripple,lC.ripple),rippleVisible:mv(u.rippleVisible,lC.rippleVisible),ripplePulsate:mv(u.ripplePulsate,lC.ripplePulsate),child:mv(u.child,lC.child),childLeaving:mv(u.childLeaving,lC.childLeaving),childPulsate:mv(u.childPulsate,lC.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:r},g.current)])})),g.current+=1,m.current=a}),[u]),b=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=t.pulsate,r=void 0!==i&&i,o=t.center,a=void 0===o?s||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===(null==e?void 0:e.type)&&y.current)y.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(y.current=!0);var c,d,h,f=u?null:S.current,v=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(v.width/2),d=Math.round(v.height/2);else{var p=e.touches&&e.touches.length>0?e.touches[0]:e,g=p.clientX,m=p.clientY;c=Math.round(g-v.left),d=Math.round(m-v.top)}if(a)(h=Math.sqrt((2*Math.pow(v.width,2)+Math.pow(v.height,2))/3))%2===0&&(h+=1);else{var b=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,R=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(b,2)+Math.pow(R,2))}null!=e&&e.touches?null===w.current&&(w.current=function(){k({pulsate:r,rippleX:c,rippleY:d,rippleSize:h,cb:n})},C.start(80,(function(){w.current&&(w.current(),w.current=null)}))):k({pulsate:r,rippleX:c,rippleY:d,rippleSize:h,cb:n})}}),[s,k,C]),R=t.useCallback((function(){b({},{pulsate:!0})}),[b]),E=t.useCallback((function(e,t){if(C.clear(),"touchend"===(null==e?void 0:e.type)&&w.current)return w.current(),w.current=null,void C.start(0,(function(){E(e,t)}));w.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[C]);return t.useImperativeHandle(n,(function(){return{pulsate:R,start:b,stop:E}}),[R,b,E]),(0,Nd.jsx)(fC,(0,pv.Z)({className:mv(lC.root,u.root,c),ref:S},d,{children:(0,Nd.jsx)(Jy,{component:null,exit:!0,children:v})}))})),gC=pC;function mC(e){return fp("MuiButtonBase",e)}var yC,CC=vp("MuiButtonBase",["root","disabled","focusVisible"]),wC=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],SC=Mp("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((yC={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,g.Z)(yC,"&.".concat(CC.disabled),{pointerEvents:"none",cursor:"default"}),(0,g.Z)(yC,"@media print",{colorAdjust:"exact"}),yC)),kC=t.forwardRef((function(e,n){var i=Ep({props:e,name:"MuiButtonBase"}),o=i.action,a=i.centerRipple,s=void 0!==a&&a,l=i.children,u=i.className,c=i.component,d=void 0===c?"button":c,h=i.disabled,f=void 0!==h&&h,v=i.disableRipple,p=void 0!==v&&v,g=i.disableTouchRipple,m=void 0!==g&&g,y=i.focusRipple,C=void 0!==y&&y,w=i.LinkComponent,S=void 0===w?"a":w,k=i.onBlur,b=i.onClick,R=i.onContextMenu,E=i.onDragLeave,P=i.onFocus,D=i.onFocusVisible,x=i.onKeyDown,M=i.onKeyUp,A=i.onMouseDown,T=i.onMouseLeave,L=i.onMouseUp,I=i.onTouchEnd,O=i.onTouchMove,N=i.onTouchStart,G=i.tabIndex,B=void 0===G?0:G,H=i.TouchRippleProps,V=i.touchRippleRef,W=i.type,z=(0,F.Z)(i,wC),_=t.useRef(null),U=t.useRef(null),j=xy(U,V),Z=jy(),K=Z.isFocusVisibleRef,q=Z.onFocus,Q=Z.onBlur,Y=Z.ref,X=t.useState(!1),J=(0,r.Z)(X,2),$=J[0],ee=J[1];f&&$&&ee(!1),t.useImperativeHandle(o,(function(){return{focusVisible:function(){ee(!0),_.current.focus()}}}),[]);var te=t.useState(!1),ne=(0,r.Z)(te,2),ie=ne[0],re=ne[1];t.useEffect((function(){re(!0)}),[]);var oe=ie&&!p&&!f;function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return Ty((function(i){return t&&t(i),!n&&U.current&&U.current[e](i),!0}))}t.useEffect((function(){$&&C&&!p&&ie&&U.current.pulsate()}),[p,C,$,ie]);var se=ae("start",A),le=ae("stop",R),ue=ae("stop",E),ce=ae("stop",L),de=ae("stop",(function(e){$&&e.preventDefault(),T&&T(e)})),he=ae("start",N),fe=ae("stop",I),ve=ae("stop",O),pe=ae("stop",(function(e){Q(e),!1===K.current&&ee(!1),k&&k(e)}),!1),ge=Ty((function(e){_.current||(_.current=e.currentTarget),q(e),!0===K.current&&(ee(!0),D&&D(e)),P&&P(e)})),me=function(){var e=_.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ye=t.useRef(!1),Ce=Ty((function(e){C&&!ye.current&&$&&U.current&&" "===e.key&&(ye.current=!0,U.current.stop(e,(function(){U.current.start(e)}))),e.target===e.currentTarget&&me()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&me()&&"Enter"===e.key&&!f&&(e.preventDefault(),b&&b(e))})),we=Ty((function(e){C&&" "===e.key&&U.current&&$&&!e.defaultPrevented&&(ye.current=!1,U.current.stop(e,(function(){U.current.pulsate(e)}))),M&&M(e),b&&e.target===e.currentTarget&&me()&&" "===e.key&&!e.defaultPrevented&&b(e)})),Se=d;"button"===Se&&(z.href||z.to)&&(Se=S);var ke={};"button"===Se?(ke.type=void 0===W?"button":W,ke.disabled=f):(z.href||z.to||(ke.role="button"),f&&(ke["aria-disabled"]=f));var be=xy(n,Y,_);var Re=(0,pv.Z)({},i,{centerRipple:s,component:d,disabled:f,disableRipple:p,disableTouchRipple:m,focusRipple:C,tabIndex:B,focusVisible:$}),Ee=function(e){var t=e.disabled,n=e.focusVisible,i=e.focusVisibleClassName,r=Cp({root:["root",t&&"disabled",n&&"focusVisible"]},mC,e.classes);return n&&i&&(r.root+=" ".concat(i)),r}(Re);return(0,Nd.jsxs)(SC,(0,pv.Z)({as:Se,className:mv(Ee.root,u),ownerState:Re,onBlur:pe,onClick:b,onContextMenu:le,onFocus:ge,onKeyDown:Ce,onKeyUp:we,onMouseDown:se,onMouseLeave:de,onMouseUp:ce,onDragLeave:ue,onTouchEnd:fe,onTouchMove:ve,onTouchStart:he,ref:be,tabIndex:f?-1:B,type:W},ke,z,{children:[l,oe?(0,Nd.jsx)(gC,(0,pv.Z)({ref:j,center:s},H)):null]}))})),bC=kC;function RC(e){return fp("MuiBottomNavigationAction",e)}var EC=vp("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),FC=["className","icon","label","onChange","onClick","selected","showLabel","value"],PC=Mp(bC,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})((function(e){var t=e.theme,n=e.ownerState;return(0,pv.Z)({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1"},!n.showLabel&&!n.selected&&{paddingTop:14},!n.showLabel&&!n.selected&&!n.label&&{paddingTop:0},(0,g.Z)({},"&.".concat(EC.selected),{color:(t.vars||t).palette.primary.main}))})),DC=Mp("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:function(e,t){return t.label}})((function(e){var t=e.theme,n=e.ownerState;return(0,pv.Z)({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!n.showLabel&&!n.selected&&{opacity:0,transitionDelay:"0s"},(0,g.Z)({},"&.".concat(EC.selected),{fontSize:t.typography.pxToRem(14)}))})),xC=t.forwardRef((function(e,t){var n=Ep({props:e,name:"MuiBottomNavigationAction"}),i=n.className,r=n.icon,o=n.label,a=n.onChange,s=n.onClick,l=n.value,u=(0,F.Z)(n,FC),c=n,d=function(e){var t=e.classes,n=e.showLabel,i=e.selected;return Cp({root:["root",!n&&!i&&"iconOnly",i&&"selected"],label:["label",!n&&!i&&"iconOnly",i&&"selected"]},RC,t)}(c);return(0,Nd.jsxs)(PC,(0,pv.Z)({ref:t,className:mv(d.root,i),focusRipple:!0,onClick:function(e){a&&a(e,l),s&&s(e)},ownerState:c},u,{children:[r,(0,Nd.jsx)(DC,{className:d.label,ownerState:c,children:o})]}))})),MC=xC;function AC(e){return hy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M3 4C3 3.44772 3.44772 3 4 3H12C12.5523 3 13 3.44772 13 4C13 4.55228 12.5523 5 12 5H4C3.44772 5 3 4.55228 3 4Z",fill:"currentColor",fillOpacity:"0.5"},child:[]},{tag:"path",attr:{d:"M3 12C3 11.4477 3.44772 11 4 11H12C12.5523 11 13 11.4477 13 12C13 12.5523 12.5523 13 12 13H4C3.44772 13 3 12.5523 3 12Z",fill:"currentColor",fillOpacity:"0.5"},child:[]},{tag:"path",attr:{d:"M3 16C3 15.4477 3.44772 15 4 15H12C12.5523 15 13 15.4477 13 16C13 16.5523 12.5523 17 12 17H4C3.44772 17 3 16.5523 3 16Z",fill:"currentColor",fillOpacity:"0.5"},child:[]},{tag:"path",attr:{d:"M3 20C3 19.4477 3.44772 19 4 19H12C12.5523 19 13 19.4477 13 20C13 20.5523 12.5523 21 12 21H4C3.44772 21 3 20.5523 3 20Z",fill:"currentColor",fillOpacity:"0.5"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1707 9C15.5825 10.1652 16.6938 11 18 11C19.6569 11 21 9.65685 21 8C21 6.34315 19.6569 5 18 5C16.6938 5 15.5825 5.83481 15.1707 7H4C3.44772 7 3 7.44772 3 8C3 8.55228 3.44772 9 4 9H15.1707ZM19 8C19 8.55228 18.5523 9 18 9C17.4477 9 17 8.55228 17 8C17 7.44772 17.4477 7 18 7C18.5523 7 19 7.44772 19 8Z",fill:"currentColor"},child:[]}]})(e)}var TC=function(){var e=(0,t.useState)(!1),n=(0,r.Z)(e,2),i=n[0],o=n[1],a=(0,t.useState)(!1),s=(0,r.Z)(a,2),l=s[0],u=s[1],c=(0,t.useState)([]),d=(0,r.Z)(c,2),h=d[0],f=d[1];return(0,Nd.jsxs)("div",{style:{height:"100vh",display:"flex",justifyContent:"flex-start",flexDirection:"column",alignItems:"center",fontSize:40,color:"#010101",width:"100%"},children:[(0,Nd.jsx)("h1",{style:{fontSize:36},children:"\u0420\u0430\u0434\u0456\u043e \u0404\u0437\u0443\u0447"}),(0,Nd.jsx)(Bd,{}),i&&(0,Nd.jsx)(Qp,{playlist:function(e){f(e)}}),(0,Nd.jsx)(my,{onPlay:function(e){o(e)}}),i&&l&&(0,Nd.jsx)(Gd,{playlist:h}),(0,Nd.jsx)(ky,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:(0,Nd.jsxs)(Py,{showLabels:!0,children:[!l&&(0,Nd.jsx)(MC,{label:"Show Playlist",onClick:function(){u(!0)},icon:(0,Nd.jsx)(vy,{size:"2em"})}),l&&(0,Nd.jsx)(MC,{label:"Hide Playlist",onClick:function(){u(!1)},icon:(0,Nd.jsx)(vy,{size:"2em"})}),(0,Nd.jsx)(MC,{label:"Order Table",icon:(0,Nd.jsx)(AC,{size:"2em"})})]})})]})};i.createRoot(document.getElementById("root")).render((0,Nd.jsx)(t.StrictMode,{children:(0,Nd.jsx)(TC,{})}))}()}();
//# sourceMappingURL=main.ea470267.js.map